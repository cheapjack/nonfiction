<!DOCTYPE HTML>
<html>

<!-- HEADER -->
<head>

<meta charset="UTF-8">

<title>Sugar Mice In The Wind</title>

<script type="bitsyGameData" id="exportedGameData">
Sugar Mice In The Wind

# BITSY VERSION 6.0

! ROOM_FORMAT 1

PAL 0
0,82,204
128,159,255
255,255,255

PAL 1
240,211,17
28,165,33
255,255,255

ROOM 0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,a,0,0,0,0,0,0,0,f,c,c,c,c,a,a
0,a,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,a
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,c,c,0,d,c,e,0,0,0,0,0,0,a,0
0,a,0,0,0,b,0,f,c,c,d,c,c,c,a,0
0,a,0,0,0,b,0,0,0,0,b,g,0,0,a,0
0,a,0,0,0,b,0,0,e,0,b,0,0,0,a,0
0,a,0,0,0,b,0,0,b,0,b,0,0,0,a,0
0,a,0,0,0,b,0,0,b,0,b,0,0,0,a,0
0,a,0,0,0,b,0,0,b,0,b,0,0,0,a,0
0,a,0,0,0,0,0,0,b,0,0,0,0,0,a,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
ITM 0 13,6
ITM 5 11,8
EXT 11,8 3 11,8
EXT 15,3 1 15,3
PAL 0

ROOM 1
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
a,a,0,0,f,c,c,c,h,0,0,0,0,0,a,a
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
a,a,0,0,0,0,0,0,0,0,0,0,0,0,a,a
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,a,a,a,a,a,a,0,0,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME MouseSlicer
EXT 0,3 3 15,3
EXT 15,3 5 2,4
PAL 0

ROOM 3
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,a,0,0,0,0,0,0,0,f,c,c,c,c,a,a
0,a,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,a
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,c,c,0,d,c,e,0,0,0,0,0,0,a,0
0,a,0,0,0,b,0,f,c,c,d,c,c,c,a,0
0,a,0,0,0,b,0,0,0,0,b,g,0,0,a,0
0,a,0,0,0,b,0,0,e,0,b,0,0,0,a,0
0,a,0,0,0,b,0,0,b,0,b,0,0,0,a,0
0,a,0,0,0,b,0,0,b,0,b,0,0,0,a,0
0,a,0,0,0,b,0,0,b,0,b,0,0,0,a,0
0,a,0,0,0,0,0,0,b,0,0,0,0,0,a,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME RoomWithDeadmaus
ITM 0 13,6
ITM 2 12,10
EXT 15,3 1 0,3
PAL 0

ROOM 4
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
a,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,a,0
a,a,0,0,0,0,0,0,0,i,c,c,c,c,a,0
0,a,0,0,0,0,0,0,0,b,0,0,0,0,a,0
0,a,0,0,0,0,0,0,0,f,c,c,c,c,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,0,8r
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,0,0,0,0,0,0,0,i,c,c,c,c,a,0
0,a,0,0,0,0,0,0,0,b,0,0,0,0,a,0
0,a,0,0,0,0,0,0,0,f,c,c,c,c,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
ITM 6 14,8
EXT 15,8 6 4,6
PAL 0

ROOM 5
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,a,0,0,f,c,c,c,h,0,0,0,0,0,a,a
0,a,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,a
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,0,0,0,0,0,a,0,0,a,0
0,a,0,0,0,a,a,a,a,a,a,a,0,0,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME XRay Room
EXT 0,3 0 15,3
EXT 15,3 4 0,3
PAL 0

ROOM 6
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
11,8,2,12,2f,9,0,0,13,0,0,0,2g,14,j,15
16,0,0,2h,17,3,18,k,2h,19,l,1a,1b,2i,0,m
1c,1d,1e,2j,1,n,1f,2j,2j,2j,1g,2k,o,1h,p,1i
q,2l,2j,2j,1j,1k,2m,r,2j,s,1l,2n,1m,2j,2j,2j
t,2j,2j,4,2o,2p,1n,1o,2j,1p,2q,2r,1q,1r,2j,2j
2j,2j,2j,u,0,0,0,1s,2s,2t,0,0,0,5,2j,2j
2j,2j,2j,v,0,0,0,0,1t,0,2u,0,1u,2v,2j,8s
2j,2j,2j,2w,1v,0,0,2x,1w,0,2q,2y,1x,2j,2j,2j
2j,2j,2j,2j,2z,0,0,1y,1z,0,0,30,2j,2j,2j,2j
2j,2j,2j,2j,1h,31,32,2j,2j,33,20,21,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
w,2j,22,23,24,34,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
0,35,0,0,0,36,25,26,37,27,28,29,38,2j,2j,39
0,0,0,0,0,0,0,0,0,0,0,0,36,2a,12,3a
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a
NAME ctrl1
EXT 15,7 7 8,8
PAL 1

ROOM 7
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,62,63,64,65,5v,66,67,18,68,2c,0
0,69,6a,6b,6c,6d,6e,6f,6g,6h,6i,6j,6k,6l,6m,6n
6o,6p,6q,2o,6r,2j,6s,6t,6u,6v,2j,2j,2j,6w,6x,6y
6z,70,71,72,2j,2j,73,74,75,76,2j,2j,2j,2j,2j,77
78,2j,2j,79,7a,2j,2j,2j,7b,7c,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,7d,7e,7f,2j,7g,7h,7i,7j,2j,2j,2j,2j
8t,2j,2j,7k,7l,0,7m,2j,2j,2j,7n,7o,5a,2j,2j,8s
2j,2j,2j,7p,7q,0,36,7r,7s,7t,7u,7v,7w,2j,2j,2j
2j,2j,2j,7x,2v,7y,7z,80,81,82,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,83,84,85,4n,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,86,87,2j,2j,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,1,88,89,8a,2j,2j,2j,2j,2j,2j
8b,8c,8d,8e,6p,8f,8g,6a,6a,8h,8i,8j,8k,2j,2j,8l
0,8m,0,0,0,0,2r,8j,8n,6q,0,0,0,8o,8p,8q
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME ctrl2
EXT 15,7 8 7,7
EXT 0,7 6 7,7
PAL 1

ROOM 8
8u,8v,8w,5v,8x,8y,8z,90,91,0,92,93,94,95,96,97
98,99,9a,2j,2j,2j,2j,9b,2v,9c,2j,2j,2j,9d,9e,9f
9g,2v,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,6y,9h,9i
2j,2j,9j,9k,9l,9m,2j,2j,2j,2j,9n,9o,9p,9q,2j,2j
2j,9r,9s,2v,9t,9u,2j,2j,2j,2j,9v,2j,9w,9x,2j,2j
2j,6y,9y,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,9z,2j,2j
2j,2j,2j,2j,2j,2j,2j,a0,a1,5a,2j,2j,2j,2j,2j,2j
8t,2j,2j,2j,2j,2j,2j,a2,2e,a3,2j,2j,2j,a4,2j,8s
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,a5,2j,2j
2j,a6,a7,a8,2j,2j,2j,a9,aa,ab,2j,2j,ac,ad,2j,2j
8j,ae,0,af,ag,2j,2j,ah,0,ai,2j,aj,ak,al,am,an
0,0,0,ao,ap,aq,2j,2w,ar,4n,2j,as,at,au,0,0
0,0,0,0,av,aw,3r,2j,2j,2j,2j,ax,ay,0,0,0
0,0,0,0,36,az,b0,b1,5a,2j,b2,b3,b4,0,0,0
0,0,0,0,0,0,0,0,36,b5,35,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME ctrl3
EXT 15,7 9 7,7
EXT 0,7 7 7,7
PAL 1

ROOM 9
0,0,0,0,0,0,dt,du,0,0,dv,0,0,0,0,0
0,dw,dx,dy,0,0,dz,e0,2i,0,36,e1,e2,0,0,0
e3,2j,e4,0,0,e5,ag,2j,e6,0,0,e7,e8,e9,0,0
ea,2j,eb,0,0,ec,ed,ee,ef,0,0,eg,2j,e8,eh,0
ei,2j,ej,ek,el,em,0,0,en,eo,5m,ep,2j,2j,2j,eq
er,3n,es,et,2j,eu,ev,ew,ex,2j,2j,ey,2j,2j,ez,f0
0,f1,f2,f3,2j,f4,ae,f5,f6,2j,2j,f7,2j,f8,f9,fa
8t,fb,fc,fd,fe,ff,0,0,fg,2j,2j,2j,fh,2p,0,8s
fj,fk,fl,0,fm,6q,0,0,fn,2j,2j,2j,4o,0,0,0
fo,fp,fq,fr,2j,fs,ft,fu,fv,2j,2j,2j,fw,e2,0,fx
fy,fz,g0,2j,2j,2w,g1,1v,g2,g3,g4,g5,1,g6,g7,g8
0,0,g9,ga,gb,2j,2j,gc,gd,2j,2j,1,ge,0,0,0
0,0,0,36,gf,gg,8b,8b,gh,gi,gj,ge,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME ctrl4
EXT 15,7 10 7,7
EXT 0,7 8 7,7
PAL 1

ROOM 10
0,0,0,0,0,0,8z,8z,6a,c8,8z,2c,0,0,0,0
0,0,0,10,17,65,2j,2j,2j,2j,2j,1k,ar,ev,0,0
0,49,1e,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,5w,bd
4r,4y,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2w
h4,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
2j,2j,f8,37,bp,o,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
8t,2j,e6,c6,75,h5,7c,2j,2j,2j,2j,2j,2j,2j,8a,8s
fd,7c,7k,1m,7p,0,46,2j,2j,2j,aj,dn,f1,9t,h6,2j
0,av,h7,2v,h8,h9,4a,2j,2j,2j,1z,dw,ha,2j,hb,2j
0,9x,55,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,7c
0,36,gg,8c,2j,2j,2j,2j,2j,2j,2j,2j,2j,3p,fc,0
0,0,0,29,fe,2j,2j,2j,2j,2j,2j,2j,dg,8q,0,0
0,0,0,0,36,4i,12,53,2,12,12,8e,2q,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME ctrl5
EXT 15,7 11 7,7
EXT 0,7 9 7,7
PAL 1

ROOM 11
0,0,0,0,2x,k6,k7,id,fl,0,ie,0,0,if,k8,ih
0,0,k9,hd,he,ka,hg,5e,kb,hh,im,hi,kc,ip,e2,0
iq,ir,kd,it,ke,kf,2j,hk,kg,4k,iy,97,0,iz,j0,j1
j2,2j,kh,j4,2j,2j,2j,2j,j5,j6,2j,j7,j8,j9,ki,kj
2j,2j,2j,2j,hm,hn,jc,7c,2j,2s,jd,je,jf,2j,5t,kk
2j,2j,2j,2j,jg,2j,kl,ji,2j,jj,jk,5v,jl,jm,2j,6i
2j,2j,2j,2j,jn,jo,km,2j,2j,2j,kn,jr,8c,2j,2j,2j
8t,2j,2j,2j,2w,js,jt,ag,2j,2j,ju,jv,2v,2j,2j,8s
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
ko,ee,8b,kp,jy,jz,7c,2s,37,k0,k1,4i,k3,bp,gi,k4
0,0,0,0,0,0,kq,2q,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME ketwig1
EXT 15,7 12 7,7
EXT 0,7 10 7,7
PAL 1

ROOM 12
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,np
0,nq,6b,6c,nr,94,ns,nt,nu,nv,nw,nx,0,0,0,0
ny,61,nz,2j,o0,o1,0,o2,o3,0,0,2r,o4,o5,o6,0
o7,o8,o9,2j,oa,ob,oc,od,oe,2u,of,og,0,0,oh,oi
oj,2j,2s,ok,cd,ol,2j,2j,2j,om,0,on,oo,op,e2,0
2v,2s,oq,0,or,os,ot,2j,ou,ov,ow,97,36,ox,oy,bd
2j,oz,p0,p1,p2,0,p3,2j,2j,p4,36,p5,ip,p6,9q,p7
8t,p9,2j,pa,pb,0,pc,pd,pe,0,0,pf,pg,ph,pi,8s
pj,2j,2j,1h,pk,pl,0,2r,0,0,0,pm,pn,2j,po,2j
1h,pp,2j,2j,2j,pq,0,0,0,2b,pr,2w,76,ps,pt,2j
2j,pu,pv,2j,2j,2w,pw,px,py,pz,q0,2j,2j,q1,76,2j
2j,2j,2j,2j,2j,2j,q2,q3,q4,2j,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2s,40,0,8m,q5,2j,2j,2j,2j,2j,2j
2j,2j,2j,q6,2,12,0,0,0,q7,8j,q8,q9,qa,aa,24
qb,26,qc,4k,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,qd,qe,qf,0,0
NAME ketwig2
EXT 15,7 13 7,7
EXT 0,7 11 7,7
PAL 1

ROOM 13
0,0,tv,tw,fl,0,0,0,0,0,0,0,0,0,0,0
tx,ty,tz,u0,u1,u2,u3,1k,94,u4,6n,0,u5,u6,u7,u8
u9,ua,ub,2j,uc,2j,2j,2j,2j,2j,2w,ud,ue,uf,ug,uh
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,ui,uj,uk,ul
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,6y,um,2j,2j
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j
8t,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,8s
2j,2j,8a,2j,2j,2j,2j,2j,2j,2j,2j,2j,m7,un,2j,2j
2j,uo,up,2j,2j,2j,2j,uq,8c,2j,2j,2j,ur,0,us,2j
ut,uu,uv,3n,2j,2j,2j,6i,uw,2j,2j,ux,dn,0,uy,2j
0,0,0,uz,7c,2j,2j,2j,2j,2j,ux,28,0,0,7i,v0
0,0,0,0,v1,v2,2j,2j,v3,v4,28,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME ketwig3
EXT 15,7 14 7,7
EXT 0,7 12 7,7
PAL 1

ROOM 14
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,te
0,0,2b,ie,u2,xm,qk,xn,70,xo,xp,xq,6a,pm,0,0
0,xr,xs,2j,xt,2p,xu,2j,2j,bi,0,xv,7c,6y,xw,sa
xx,2v,2j,xy,dn,0,xz,2j,2j,y0,0,0,y1,2j,2j,6y
2j,2j,2j,y2,0,y3,y4,2j,2j,2j,m4,0,y5,2j,2j,2j
2j,2j,2j,2j,y6,ex,2j,2j,2j,2j,9b,y7,2j,2j,2j,2j
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,9r
8t,2j,2j,2j,2j,2j,2j,2j,y8,7c,2j,2j,2j,2j,2j,8s
y9,2j,2j,2j,2j,2j,2j,ya,yb,yc,2j,2j,2j,2j,yd,re
cg,2j,2j,2j,2j,2j,2j,ye,yf,7c,2j,2j,2j,2j,yg,yh
yi,yj,2j,2j,2j,2j,2j,yk,yl,2v,2j,2j,2j,2j,ym,0
0,46,8c,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,k4,0,0
0,0,29,yn,2j,2j,2j,2j,2j,2j,2j,yo,r3,0,0,0
0,0,0,36,az,yp,to,yq,yr,s6,ys,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,yt,yu
NAME ketwig4
EXT 15,7 15 7,7
EXT 0,7 13 7,7
PAL 1

ROOM 15
0,0,0,0,0,0,0,0,0,0,0,0,0,0,106,12v
0,0,yy,11h,94,yz,2j,12w,94,12x,12y,6a,2u,0,0,0
12z,ex,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,j0,10e,e2,0
76,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,mm,130
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,3d,131
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,132,z8
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,133,134
8t,136,2j,2j,2j,2j,137,138,139,2j,2j,2j,2j,13a,13b,8s
13d,2j,2j,2j,2j,2j,ob,13e,13f,2j,2j,2j,2j,13g,13h,13i
10u,2j,2j,2j,2j,2j,2j,1h,13j,2j,2j,2j,2j,13k,13l,13m
0,13n,13o,2j,2j,2j,2j,2j,13p,2j,2j,2j,2j,2s,111,0
0,0,112,113,13q,zu,2j,2j,2j,13r,zw,13s,117,13t,0,0
0,0,0,2r,13u,13v,dr,yp,n,13w,13x,8q,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME ketwig5
EXT 15,7 16 7,7
EXT 0,7 14 7,7
PAL 1

ROOM 16
0,0,0,0,0,0,0,0,0,0,0,0,0,0,106,12v
0,0,yy,11h,94,yz,2j,12w,94,12x,12y,6a,2u,0,0,0
12z,ex,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,j0,10e,e2,0
76,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,mm,130
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,3d,131
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,132,z8
2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,2j,133,134
8t,136,2j,2j,2j,2j,137,138,139,2j,2j,2j,2j,13a,13b,8s
13d,2j,2j,2j,2j,2j,ob,13e,13f,2j,2j,2j,2j,13g,13h,13i
10u,2j,2j,2j,2j,2j,2j,1h,13j,2j,2j,2j,2j,13k,13l,13m
0,13n,13o,2j,2j,2j,2j,2j,13p,2j,2j,2j,2j,2s,111,0
0,0,112,113,13q,zu,2j,2j,2j,13r,zw,13s,117,13t,0,0
0,0,0,2r,13u,13v,dr,yp,n,13w,13x,8q,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
NAME ketwig5
EXT 15,7 17 7,5
EXT 0,7 15 7,7
PAL 1

ROOM 17
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,0,0,0,0,0,0,0,0,0,i,c,c,a,0
0,a,0,0,0,0,0,0,0,0,0,b,13y,0,a,0
0,a,0,0,0,0,0,0,0,0,0,f,c,c,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,a
0,a,0,0,0,0,0,0,0,0,0,0,0,0,0,8r
0,a,0,0,0,i,c,c,c,c,c,c,c,c,a,a
0,a,0,0,0,b,13y,0,0,0,0,0,0,0,a,0
0,a,0,0,0,f,c,c,c,c,c,c,c,c,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,0,0,0,0,0,0,0,0,0,0,0,0,a,0
0,a,a,a,a,a,a,a,a,a,a,a,a,a,a,0
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
ITM 7 14,8
END 0 15,8
PAL 0

TIL 1
11111111
11111111
11111111
11111111
11111111
11111111
11111110
11111100
NAME ctrl1 1

TIL 2
11111111
11111111
11111111
11111100
00000000
00000000
00000000
00000000
NAME ctrl1 2

TIL 3
00000000
00000000
00000000
00000000
00000111
11111111
11111111
11111111
NAME ctrl1 3

TIL 4
11111111
11111100
11110000
11110000
11100000
11100000
11100000
11110000
NAME ctrl1 4

TIL 5
00011111
00001111
00001111
00001111
00001111
00011111
00111111
01111111
NAME ctrl1 5

TIL 6
00000000
00000000
00000000
00000000
01111111
11111111
00011110
00000000
NAME ctrl1 6

TIL 7
00000000
00000000
00000000
00000000
11100000
11110000
01111110
00111111
NAME ctrl1 7

TIL 8
00000001
00001111
01111111
11111111
11111100
11100000
10000000
00000000
NAME ctrl1 8

TIL 9
11111111
11110000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 9

TIL 10
00000000
00000000
00000000
00000000
00000000
10000010
00001111
00001111
NAME ctrl1 27

TIL 11
00000000
00000000
00000000
00000001
00000111
00011111
00111111
01111111
NAME ctrl1 28

TIL 12
11111111
11111111
11111111
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 29

TIL 13
00111111
00001100
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 30

TIL 14
11111111
01111111
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 31

TIL 15
00000000
00000000
00000000
10000000
11100000
11110000
11111100
11111111
NAME ctrl1 32

TIL 16
11111111
11111110
11111100
11111100
11111100
10001000
00000000
00000000
NAME ctrl1 33

TIL 17
00000000
00000000
00000000
00000000
00000000
00000001
01111111
11111111
NAME ctrl1 34

TIL 18
00000000
00000000
00000000
00000000
11111110
11111111
11111111
11111111
NAME ctrl1 35

TIL 19
00000000
00000000
00000000
00000000
00000011
00001111
01111111
11111111
NAME ctrl1 36

TIL 20
00011100
01111110
11111110
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 63

TIL 21
00000111
00001111
00001111
00011111
11111111
11111111
11111111
11111111
NAME ctrl1 64

TIL 22
11111111
11111111
11111111
11111111
11111111
11111110
11111100
11000000
NAME ctrl1 65

TIL 23
11111111
11111111
11111111
11111111
01111111
00000000
00000000
00000000
NAME ctrl1 66

TIL 24
11111111
11111111
11110000
11000000
00000000
00000000
00000000
00000000
NAME ctrl1 67

TIL 25
11111111
11111111
00111111
00001111
00000111
00000011
00000000
00000000
NAME ctrl1 68

TIL 26
11111111
11111111
11111111
11111111
11111111
11111111
00111111
00000000
NAME ctrl1 69

TIL 27
11111111
11111111
11111111
11111111
11111110
11111100
11110000
00000000
NAME ctrl1 70

TIL 28
11100000
11000000
10000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 71

TIL 29
00001111
00000111
00000001
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 72

TIL 30
00000001
00000001
00000001
00000001
00000001
00000000
00000001
00000011
NAME ctrl1 99

TIL 31
00001110
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 100

TIL 32
00000111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 101

TIL 33
10000000
11000000
11101111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 102

TIL 34
11111111
11111111
11111111
01111111
00111111
00011111
00001111
00000011
NAME ctrl1 103

TIL 35
11111000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 104

TIL 36
00000001
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 105

TIL 37
11111111
11111111
11111111
11111111
11111111
11111111
11111111
00000000
NAME ctrl1 106

TIL 38
11111111
11111111
11111111
11111111
01111111
00011111
00000111
00000011
NAME ctrl1 107

TIL 39
11111111
11111111
11111111
11111111
11111111
11111111
11111111
11111100
NAME ctrl1 108

TIL 40
11110000
10000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 26

TIL 41
00000001
00000001
00000001
00000001
00000001
00000001
00000001
00000011
NAME ctrl2 27

TIL 42
11111100
11111110
11111100
11111100
11111000
11110000
11110000
11100000
NAME ctrl2 28

TIL 43
11111111
11111111
01111111
00111111
00000001
00000000
00000000
00000000
NAME ctrl2 29

TIL 44
11111100
11111100
11111100
11111000
11100000
00000000
00000000
00000000
NAME ctrl2 30

TIL 45
00000000
00000000
00000000
00000000
00001100
00111110
01111111
11111111
NAME ctrl2 31

TIL 46
00011111
00011111
00001111
00000111
00000011
00000001
00000000
00000000
NAME ctrl2 32

TIL 47
11111111
11111111
11111111
11111111
11111111
11111111
11111111
00111001
NAME ctrl2 33

TIL 48
11111111
11111100
11111000
11111000
11100000
11000000
11000000
11000000
NAME ctrl2 34

TIL 49
00000000
00000000
00000000
00000000
00000000
00000000
00000001
00000011
NAME ctrl2 35

TIL 50
00111111
00011111
00011111
10001111
10001111
00000011
00000000
00000000
NAME ctrl2 62

TIL 51
11111110
11111110
11111110
11111100
11111100
11000000
00000000
00000000
NAME ctrl2 63

TIL 52
11111111
01111111
00111111
00011111
00000000
00000000
00000000
00000000
NAME ctrl2 64

TIL 53
11111111
11110011
11000001
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 65

TIL 54
11111111
11111111
11111111
11111110
00000000
00000001
00000001
00000001
NAME ctrl2 66

TIL 55
11111111
11111111
11111111
01111111
01111111
11111111
11111111
11111111
NAME ctrl2 67

TIL 56
11111111
11111111
11111111
11111111
11111110
11111000
11111000
11111000
NAME ctrl2 68

TIL 57
10000000
10000000
10000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 69

TIL 58
00000000
00000000
00000000
00000000
00000000
00000001
00000000
00000001
NAME ctrl2 70

TIL 59
00000000
00000000
00000000
00000001
11000001
11100001
11110001
11110000
NAME ctrl2 71

TIL 60
00000000
00000000
00000001
00000111
11111111
11111111
11111111
11111111
NAME ctrl2 98

TIL 61
00111111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 99

TIL 62
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000001
NAME ctrl2 100

TIL 63
00000000
00000000
00000000
00000000
00000000
00000000
00000000
11111100
NAME ctrl2 101

TIL 64
00000000
00000000
00000000
00000000
00000000
00000000
00000001
00000001
NAME ctrl2 102

TIL 65
00000000
00001111
00111111
01111111
11111111
11111111
11111111
11111111
NAME ctrl2 103

TIL 66
00000000
11000000
11111000
11111111
11111111
11111111
11001111
11001110
NAME ctrl2 104

TIL 67
00000000
00000000
00000000
11111110
11111111
11111111
10000001
00000001
NAME ctrl2 105

TIL 68
00000000
00000000
00000000
00000000
00000000
11110000
11111110
11111111
NAME ctrl2 106

TIL 69
00000000
00000000
00000000
00000000
00000000
00000000
00011111
11111111
NAME ctrl2 107

TIL 70
00000000
00000000
00000000
00000000
00011111
11111111
11111111
11111111
NAME ctrl2 134

TIL 71
00000000
00000000
00000001
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 135

TIL 72
00000001
00000111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 136

TIL 73
11100011
11100000
11100000
11000001
11100111
11100111
11000110
11000000
NAME ctrl2 137

TIL 74
11011111
11011111
11111111
11111111
00011111
00111111
00111111
11111111
NAME ctrl2 138

TIL 75
11100000
11100000
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 139

TIL 76
00111111
01111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 140

TIL 77
11111111
11111111
11111111
11111111
11110111
11111111
11111111
11111111
NAME ctrl2 141

TIL 78
00000111
00001111
00011111
01111111
11111111
11111111
11111111
11111111
NAME ctrl2 142

TIL 79
11111111
11111111
11111111
11111111
11111010
11110000
11100000
11111111
NAME ctrl2 143

TIL 80
00000000
00000000
00000000
00000000
00000000
00000011
00000001
00000011
NAME ctrl2 170

TIL 81
11000000
00000000
00000000
00000000
00000000
00000000
00000000
10000100
NAME ctrl2 171

TIL 82
00000111
00000111
00001111
00011111
01111111
11111111
11111111
01111111
NAME ctrl2 172

TIL 83
11110000
11111111
11111111
11111111
11111011
11110000
11111000
11111000
NAME ctrl2 173

TIL 84
00000011
00000111
11111111
11111111
11111111
11111111
01111111
00111111
NAME ctrl2 174

TIL 85
11111100
11111100
11111110
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 175

TIL 86
11111100
11111100
11111110
11111110
11111111
11111111
11111111
11111111
NAME ctrl2 176

TIL 87
00011111
00011111
00011111
00111111
11111111
11111111
11111111
11111111
NAME ctrl2 177

TIL 88
11111111
11111111
11111111
11000011
10000000
00000000
00000000
00000000
NAME ctrl2 178

TIL 89
11111111
11111111
11111111
11111111
00000011
00000000
00000000
00000000
NAME ctrl2 179

TIL 90
00000000
00000000
00000000
00000000
00000000
00000000
00000000
11100000
NAME ctrl3 7

TIL 91
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00011110
NAME ctrl3 8

TIL 92
00000000
00000000
00000000
00000111
00011111
01111111
01111111
11111111
NAME ctrl3 9

TIL 93
00000000
00001110
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 10

TIL 94
00000000
00000000
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 11

TIL 95
00000000
00000000
11111000
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 12

TIL 96
00000000
00000000
00000000
11000000
11111100
11111111
11111111
11000011
NAME ctrl3 13

TIL 97
00000000
00000000
00000000
00000000
00000000
00000000
11000000
11100000
NAME ctrl3 14

TIL 98
11111100
11111100
11111110
11111111
11111100
11111000
11110000
11100000
NAME ctrl3 15

TIL 99
00000111
00000111
00000001
11000000
01110000
01110000
01110000
01111000
NAME ctrl3 16

TIL 100
00100000
01100000
11000000
10000000
10000000
10000000
01100000
00110000
NAME ketwig5 42

TIL 101
11111111
11111111
00111111
00001111
00000111
00000000
00000000
00000000
NAME ketwig5 43

TIL 102
11111111
11111111
11111111
11111111
11111111
00111111
00000000
00000000
NAME ketwig5 44

TIL 103
11110000
11111000
11111111
11111111
11101111
00000000
00000000
00000000
NAME ketwig5 45

TIL 104
00001111
00111111
11111111
11111111
11111100
00000000
00000000
00000000
NAME ketwig5 46

TIL 105
11111000
11100000
11000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 47

TIL 106
00000011
00000011
00000011
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 48

TIL 107
10010000
10000000
11000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 49

TIL 108
00000000
00000000
00000000
00000000
00000000
00000001
00001111
00111111
NAME ketwig5 50

TIL 109
00000011
00111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 51

TIL 110
00011111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 78

TIL 111
11110000
11100000
11000000
11000000
11000000
10000000
00000000
00000000
NAME ketwig5 79

TIL 112
00000111
00000111
00000001
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 80

TIL 113
11111111
11111111
11111111
11111111
01111111
00111111
00011111
00000111
NAME ketwig5 81

TIL 114
11111111
11111111
11111111
11111111
00011111
00011111
00011111
00011111
NAME ketwig5 82

TIL 115
11111111
11111111
11111111
11111000
11110000
11100000
11100000
11100000
NAME ketwig5 83

TIL 116
11111111
11111111
11111111
00111111
00001111
00000111
00000111
00001111
NAME ketwig5 84

TIL 117
11111111
11111111
11111110
11111000
11100000
10000000
00000000
00000000
NAME ketwig5 85

TIL 118
11111111
11111111
00111111
00011111
00000111
00000000
00000000
00000000
NAME ketwig5 86

TIL 119
11100000
11111000
11111111
11111111
11101111
00000000
00000000
00000000
NAME ketwig5 87

TIL 120
00011111
00111111
00011111
00001111
00001111
01111111
11111111
11111111
NAME ketwig5 114

TIL 121
11000000
11100000
11100000
11100000
11100000
11110000
11110000
11110000
NAME ketwig5 115

TIL 122
01111111
01111111
01111111
01111111
11111111
11111111
11101111
11100111
NAME ketwig5 116

TIL 123
11111101
11111001
11110001
11111001
11111101
11111000
11111000
11111000
NAME ketwig5 117

TIL 124
10000000
11000000
11100000
11000000
11000000
10000000
10000000
10000000
NAME ketwig5 118

TIL 125
00011111
00011111
00000111
00000011
00000001
00000000
00000000
00000000
NAME ketwig5 119

TIL 126
11111111
11111111
11111111
11111111
11111111
11111111
01111111
00111100
NAME ketwig5 120

TIL 127
11100000
11000000
10000000
10000000
11000000
11000000
11100001
11100000
NAME ketwig5 121

TIL 128
00000000
00000000
00000000
00000000
00000000
11100000
11000000
00000000
NAME ketwig5 122

TIL 129
00000111
00000111
00000111
00000011
00000011
00000001
00000001
00000001
NAME ketwig5 123

TIL 130
00000000
00000000
00000000
00000000
10000000
11000000
11100000
11111000
NAME ketwig5 150

TIL 131
11111100
11111100
11111110
11111111
11111111
11101111
00000111
00000011
NAME ketwig5 151

TIL 132
11111100
11111100
11111100
11111000
11111000
11110000
11100000
11100000
NAME ketwig5 152

TIL 133
11000000
11000000
11000000
11000000
11100000
11110111
11111111
11111111
NAME ketwig5 153

TIL 134
00001111
00011111
00011110
00111100
01111100
11111000
11110000
11110000
NAME ketwig5 154

TIL 135
11111111
11111111
11111110
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 155

TIL 136
11111111
11111111
01111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 156

TIL 137
11111111
11111111
11111111
11111110
11111100
11111000
11111000
11111000
NAME ketwig5 157

TIL 138
11111111
11111111
00111111
00001111
00000100
00000000
00000000
00000000
NAME ketwig5 158

TIL 139
11111111
11111111
11111111
00011111
00000111
00000011
00000011
00000011
NAME ketwig5 159

TIL a
11111111
10000001
10000001
10011001
10011001
10000001
10000001
11111111
WAL true

TIL b
00011000
00011000
00011000
00011000
00011000
00011000
00011000
00011000
NAME maze 1
WAL true

TIL c
00000000
00000000
00000000
11111111
11111111
00000000
00000000
00000000
NAME maze 2
WAL true

TIL d
00000000
00000000
00000000
11111111
11111111
00011000
00011000
00011000
NAME maze 3
WAL true

TIL e
00000000
00000000
00000000
11111000
11111000
00011000
00011000
00011000
WAL true

TIL f
00011000
00011000
00011000
00011111
00011111
00000000
00000000
00000000
WAL true

TIL g
00000100
00000010
00000001
00100101
11111111
01111110
00000000
00000000
NAME deadmaus

TIL h
00011000
00011000
00011000
11111000
11111000
00000000
00000000
00000000
WAL true

TIL i
00000000
00000000
00000000
00011111
00011111
00011000
00011000
00011000
WAL true

TIL j
10000000
11100000
11111110
00011111
00000111
00000011
00000001
00000000
NAME ctrl1 10

TIL k
00000000
00000000
00000000
00000000
00000000
11000000
11110000
11111100
NAME ctrl1 11

TIL l
00000000
00011111
00111111
01111111
11111111
11111111
11111111
11111111
NAME ctrl1 12

TIL m
11111111
01111111
00011111
00001111
00000011
00000000
00000000
00000000
NAME ctrl1 13

TIL n
11111111
11111111
11111111
11111111
11111111
11111000
00000000
00000000
NAME ctrl1 14

TIL o
11111111
11111111
11111111
11111111
00111111
00011111
00001111
00001111
NAME ctrl1 15

TIL p
00000000
11000000
11110000
11111100
11111110
11111110
11111111
11111111
NAME ctrl1 16

TIL q
00000111
00000111
00000111
00000011
00000000
00000001
00000011
00000011
NAME ctrl1 17

TIL r
00011111
00000011
00000000
00000000
00000001
10000001
11000011
00000011
NAME ctrl1 18

TIL s
11111110
11110000
11100000
11100000
11100111
11111111
11111111
11111111
NAME ctrl1 19

TIL t
00000011
00000011
00000011
00000011
00000011
00000111
10001111
11111111
NAME ctrl1 20

TIL u
11100000
11100000
11100000
11100000
11100000
11000000
11000000
11000000
NAME ctrl1 21

TIL v
11000000
11000000
11100000
11100000
11110000
11110000
11111000
11111100
NAME ctrl1 22

TIL w
11011111
11001111
01111111
00111111
00011111
00001111
00000111
00000001
NAME ctrl1 23

TIL x
00000000
00000000
00000000
00000000
00000000
00000000
00000000
11110001
NAME ctrl1 24

TIL y
00000000
00000000
00000000
00000000
00000000
00000011
01100000
11100000
NAME ctrl1 25

TIL z
00000000
00000000
00000000
00000000
00111111
01111111
00000000
00000000
NAME ctrl1 26

TIL 1a
00000000
10000000
11111110
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 37

TIL 1b
00000000
00000000
00000000
11111000
11111111
11111111
11111111
11111111
NAME ctrl1 38

TIL 1c
00000000
00000000
00000000
00000000
00000011
00000011
00000000
00000100
NAME ctrl1 39

TIL 1d
00000000
00000000
00000000
00000000
00000000
00000000
00000001
00111111
NAME ctrl1 40

TIL 1e
00000000
00000111
00001111
00011111
00111111
01111111
11111111
11111111
NAME ctrl1 41

TIL 1f
11111111
11111111
11111111
11111111
11111111
00011111
00000011
00000000
NAME ctrl1 42

TIL 1g
11111111
11111111
11111111
11111111
11111100
11110000
11100000
10000000
NAME ctrl1 43

TIL 1h
11111100
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 44

TIL 1i
00000000
00000000
00000000
00000001
00000011
00001111
10000111
11011111
NAME ctrl1 45

TIL 1j
11111100
10011100
10111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 46

TIL 1k
00000000
11111100
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 47

TIL 1l
00000000
00000001
00011111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 48

TIL 1m
00001111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 49

TIL 1n
11111110
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 50

TIL 1o
00000011
00000011
00000011
00000011
00000001
00000011
00000011
00000011
NAME ctrl1 51

TIL 1p
11111111
11000000
11000000
10000000
10000000
10000000
00000000
10000000
NAME ctrl1 52

TIL 1q
11111111
01111111
00011111
00000001
00000000
00000000
00000000
00000000
NAME ctrl1 53

TIL 1r
11111111
11111111
11111111
11111111
11111111
01111111
00111111
00011111
NAME ctrl1 54

TIL 1s
00000011
00000011
00000011
00000011
00000011
00000001
00000001
00000000
NAME ctrl1 55

TIL 1t
11111110
11111110
11111100
11111100
11111000
00110000
00000000
00000000
NAME ctrl1 56

TIL 1u
00000000
00000000
00000000
00000001
00000001
00000001
00000001
00000011
NAME ctrl1 57

TIL 1v
00000000
00000000
00000000
10000000
10000000
10000000
10000000
11000000
NAME ctrl1 58

TIL 1w
00000000
00000000
00000000
00000000
01000000
11100000
11100000
11110000
NAME ctrl1 59

TIL 1x
00000011
00000011
00000000
00001111
00111111
11111111
11111111
11111111
NAME ctrl1 60

TIL 1y
00001111
00001111
00011111
00011111
00001111
00001111
00011111
11111111
NAME ctrl1 61

TIL 1z
11110000
11110000
11110000
11110000
11110000
11111000
11111000
11111110
NAME ctrl1 62

TIL 2a
11111111
11111111
00111111
00001110
00000000
00000000
00000000
00000000
NAME ctrl1 73

TIL 2b
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000011
NAME ctrl1 74

TIL 2c
00000000
00000000
00000000
00000000
00000000
00000000
00000000
10000000
NAME ctrl1 75

TIL 2d
00000000
00000000
00000000
00000000
11111110
11111111
00000000
00000000
NAME ctrl1 76

TIL 2e
00000000
00000000
00000000
00000000
00000000
00000000
11100000
11111000
NAME ctrl1 77

TIL 2f
11111111
11111111
11111110
11111000
00000000
00000000
00000000
00000000
NAME ctrl1 78

TIL 2g
00000010
00000010
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 79

TIL 2h
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00001111
NAME ctrl1 80

TIL 2i
00000000
00000000
00000000
00000000
00000000
10000000
11100000
11110000
NAME ctrl1 81

TIL 2j
11111111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 82

TIL 2k
11111111
11111111
11111111
10011111
00000000
00000000
00000000
00000000
NAME ctrl1 83

TIL 2l
01111111
11111111
11111111
11111111
01111111
11111111
11111111
11111111
NAME ctrl1 84

TIL 2m
00000000
00000000
00000000
11110000
11111111
11111111
11111111
11111111
NAME ctrl1 85

TIL 2n
01111110
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 86

TIL 2o
00001111
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 87

TIL 2p
11110000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 88

TIL 2q
10000000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 89

TIL 2r
00000011
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 90

TIL 2s
11111111
11111111
11111111
11111111
11111111
11111111
11111111
11111110
NAME ctrl1 91

TIL 2t
10000000
10000000
10000000
10000000
00000000
00000000
00000000
00000000
NAME ctrl1 92

TIL 2u
00000000
00000000
00000000
00000000
00000000
00000000
00000000
11000000
NAME ctrl1 93

TIL 2v
01111111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 94

TIL 2w
11111100
11111110
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl1 95

TIL 2x
00000000
00000000
00000000
00000000
00000000
00000000
00000011
00001111
NAME ctrl1 96

TIL 2y
00000000
00000000
00000000
00000000
00000000
00000011
00000001
00000001
NAME ctrl1 97

TIL 2z
11000000
11000000
11100000
11100000
11110000
11110000
11110000
11110000
NAME ctrl1 98

TIL 3a
11110000
11100000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl1 109

TIL 3b
11111111
11111111
11111111
11110111
11111111
11111111
11111111
11111111
NAME ctrl2 1

TIL 3c
11111111
11111111
11111000
11110000
11111000
11111001
11111111
11111111
NAME ctrl2 2

TIL 3d
11111111
11111111
11111111
11111111
11111111
11111111
11111100
11111100
NAME ctrl2 3

TIL 3e
11111111
11111111
11111111
11111111
11111111
11111111
00011111
00000111
NAME ctrl2 4

TIL 3f
11111111
11111111
11111111
11111111
11111111
11111111
11111100
11111111
NAME ctrl2 5

TIL 3g
11111111
11111111
11111111
11111111
11110000
00000000
00000001
11111111
NAME ctrl2 6

TIL 3h
11111111
11111111
11011111
11000011
11100011
11110011
11111111
11111111
NAME ctrl2 7

TIL 3i
11111111
11111111
11111111
11111111
11111110
11111100
11111000
11111000
NAME ctrl2 8

TIL 3j
11111111
11111111
11111111
00000111
00000011
00000001
00000001
00000001
NAME ctrl2 9

TIL 3k
11111110
11111111
11111111
11111111
11111111
11111111
01111111
00111111
NAME ctrl2 10

TIL 3l
00000001
10000111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 11

TIL 3m
11111111
11111111
11111111
11111111
11111111
11111000
11111100
11111111
NAME ctrl2 12

TIL 3n
11111111
11111111
11111111
11111111
11111111
01111111
00111111
00111111
NAME ctrl2 13

TIL 3o
11111111
11111111
11111111
11011111
11111111
11111111
11111111
11111111
NAME ctrl2 14

TIL 3p
11111111
11111111
11111111
11111111
11111111
11111110
11111100
11111000
NAME ctrl2 15

TIL 3q
11111111
11111111
11111111
11111111
00000000
00000000
11000000
00000000
NAME ctrl2 16

TIL 3r
11111111
11111111
11111111
11111111
11111111
01111111
01111111
11111111
NAME ctrl2 17

TIL 3s
11111111
11111111
11111111
11111011
11111011
11111111
11111111
11111100
NAME ctrl2 18

TIL 3t
11111000
11110000
11110000
11110000
11110000
11110000
11110000
11111100
NAME ctrl2 19

TIL 3u
00111111
00011111
00001111
00000111
00000001
00000000
00000000
00000000
NAME ctrl2 20

TIL 3v
11111111
11111111
11111111
11111111
11111111
00111111
00011111
00000011
NAME ctrl2 21

TIL 3w
11101111
11100011
11000001
11000000
11100000
11110000
11110011
11111111
NAME ctrl2 22

TIL 3x
11111111
11111111
11111111
11111111
11111111
11111110
11100000
10000000
NAME ctrl2 23

TIL 3y
11111111
11111111
11111111
11111111
11100000
00000000
00000000
00000000
NAME ctrl2 24

TIL 3z
11111111
11111111
11111111
11111000
00000000
00000000
00000000
00000000
NAME ctrl2 25

TIL 4a
00000000
00000000
00001111
00011111
01111111
11111111
11111111
11111111
NAME ctrl2 36

TIL 4b
00011100
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 37

TIL 4c
00000011
10000111
11111110
11111110
11111110
11111110
11111111
11111111
NAME ctrl2 38

TIL 4d
11111111
11111111
00011111
00001110
00000000
00000011
10000111
11111111
NAME ctrl2 39

TIL 4e
11000000
10000000
00000000
00000000
00000000
00000000
10000000
10000000
NAME ctrl2 40

TIL 4f
00000000
00000000
00000000
00001000
00011111
00011111
00111111
00111111
NAME ctrl2 41

TIL 4g
00000000
00000000
00000000
00000000
00000000
10000111
11001111
11101111
NAME ctrl2 42

TIL 4h
00000001
00000000
00000000
00000000
00000000
11100000
11111100
11111110
NAME ctrl2 43

TIL 4i
11111111
01111111
00011111
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 44

TIL 4j
11000000
11000000
10000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 45

TIL 4k
10000000
10000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 46

TIL 4l
11111111
00000110
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 47

TIL 4m
11111100
00000000
00000000
00000111
00001111
00011111
00111111
00111111
NAME ctrl2 48

TIL 4n
00111111
00111111
01111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 49

TIL 4o
10000000
00000000
00000000
00000000
00000000
10000000
11000000
11000000
NAME ctrl2 50

TIL 4p
00111111
00011111
00001111
00000111
00000111
00000111
00000111
00000111
NAME ctrl2 51

TIL 4q
00000000
10000000
11100000
11100000
11110000
11110000
11110000
11110000
NAME ctrl2 52

TIL 4r
00000000
00000000
00000001
00001111
00011111
00111111
00111111
01111111
NAME ctrl2 53

TIL 4s
11111111
11111111
11111111
11111111
11111110
11111110
11111111
11111111
NAME ctrl2 54

TIL 4t
10000000
10000000
00000000
00000000
00000000
00000000
11110000
11111000
NAME ctrl2 55

TIL 4u
00000111
00000011
00000001
00000001
00000011
00000111
00000111
00001111
NAME ctrl2 56

TIL 4v
11111000
11111000
11111100
11111111
11111111
11111111
11111111
10111111
NAME ctrl2 57

TIL 4w
00000000
00000000
00000000
10000000
11100000
11111000
11111100
11111110
NAME ctrl2 58

TIL 4x
11111000
11111000
11111110
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 59

TIL 4y
00011111
00111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 60

TIL 4z
11111111
11111111
11111111
11111111
11111111
11111111
11111110
11100000
NAME ctrl2 61

TIL 5a
11111111
11111111
11111111
11111111
11111111
11111111
11111111
00111111
NAME ctrl2 72

TIL 5b
11111111
11111111
11111111
11111100
11110000
11000000
11100000
11110000
NAME ctrl2 73

TIL 5c
11111111
11111111
00001111
00001111
00000111
00000000
00000000
00000000
NAME ctrl2 74

TIL 5d
11111000
11110000
11110000
11100000
11000000
00000000
00000000
00000000
NAME ctrl2 75

TIL 5e
00000011
00000001
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 76

TIL 5f
00011111
00001111
00001111
00000111
00000111
00000011
00000011
00000000
NAME ctrl2 77

TIL 5g
11110000
11111000
11110000
11110000
11100000
11000000
11000000
00000000
NAME ctrl2 78

TIL 5h
00000000
00000000
00000000
00000000
00000000
00000000
00000000
01000000
NAME ctrl2 79

TIL 5i
00000000
00000000
00000000
00000000
00000011
00000111
00001111
00001111
NAME ctrl2 80

TIL 5j
00000000
00000000
01111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 81

TIL 5k
00000000
00000000
11111100
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 82

TIL 5l
00000000
00000000
00000000
00000000
11100000
11110000
11111000
11111000
NAME ctrl2 83

TIL 5m
00000000
00000000
00000000
00000000
00000000
11111111
11111111
11111111
NAME ctrl2 84

TIL 5n
00000000
00000000
00000000
00000000
00000000
11100000
11110001
11111011
NAME ctrl2 85

TIL 5o
00000000
00000000
00000000
00000001
00000011
01111111
11111111
11111111
NAME ctrl2 86

TIL 5p
00000111
00011111
01111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 87

TIL 5q
11111000
11111110
11111110
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 88

TIL 5r
00001111
00001111
00001111
00001111
10011111
11111111
11111111
11111111
NAME ctrl2 89

TIL 5s
11111111
11111111
11111111
11111111
11111111
11111111
11111111
00000111
NAME ctrl2 90

TIL 5t
11111100
11111100
11111100
11111100
11111110
11111111
11111111
11111111
NAME ctrl2 91

TIL 5u
00000000
00001111
00011111
01111111
11111111
11111111
11111111
11111111
NAME ctrl2 92

TIL 5v
00000000
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 93

TIL 5w
00000000
10000000
11100000
11111000
11111100
11111111
11111111
11111111
NAME ctrl2 94

TIL 5x
00000000
00000000
00000000
00000000
00000000
00000000
10000000
10000000
NAME ctrl2 95

TIL 5y
00000000
00000000
00000000
00000000
00000000
00001111
00011111
00011111
NAME ctrl2 96

TIL 5z
11000000
11110000
11111000
11111110
11111111
11111111
11111111
11111111
NAME ctrl2 97

TIL 6a
00000000
00000000
00000000
00000000
00000000
00000000
11111111
11111111
NAME ctrl2 108

TIL 6b
00000000
00000000
00000000
00000000
00000011
11111111
11111111
11111111
NAME ctrl2 109

TIL 6c
00000000
00000000
00000011
00011111
11111111
11111111
11111111
11111111
NAME ctrl2 110

TIL 6d
00001111
00111111
11111111
11111111
11111110
11111110
11111111
11111111
NAME ctrl2 111

TIL 6e
11111111
11111111
11111111
11111111
11000000
00000000
00000000
10000000
NAME ctrl2 112

TIL 6f
11100111
11111111
11111111
11111111
01111111
00111111
00111110
00111111
NAME ctrl2 113

TIL 6g
11111111
11000111
10000001
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 114

TIL 6h
11111111
11111111
11001111
00001111
00001111
00111111
11111111
11111111
NAME ctrl2 115

TIL 6i
11111110
11111110
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 116

TIL 6j
00000001
00000001
00000011
11110001
10001111
10001111
10001111
11111111
NAME ctrl2 117

TIL 6k
11111111
11111111
11111111
11111000
11100000
11100000
11111111
11111111
NAME ctrl2 118

TIL 6l
11111111
11111111
11111111
01111100
00010000
00000000
10100000
11110001
NAME ctrl2 119

TIL 6m
11000000
11110000
11111000
01111110
00111111
00111111
01111111
11111111
NAME ctrl2 120

TIL 6n
00000000
00000000
00000000
00000000
10000000
11100000
11110000
11111000
NAME ctrl2 121

TIL 6o
00011111
00111111
11111110
11111100
11111000
11110000
11110000
11110000
NAME ctrl2 122

TIL 6p
11111111
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 123

TIL 6q
11100000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 124

TIL 6r
11111111
00000001
00000001
00000011
00000111
00001111
00001111
00111111
NAME ctrl2 125

TIL 6s
11000000
11100000
11110000
11110000
11110000
11110111
11111111
11110111
NAME ctrl2 126

TIL 6t
00011111
00011111
00011111
00011111
00011111
10011111
11011111
11011111
NAME ctrl2 127

TIL 6u
00000000
00000000
00000000
00000000
10000000
10000000
10000000
11000000
NAME ctrl2 128

TIL 6v
00111111
00111111
00111111
00111111
00111111
00111111
00111111
00111111
NAME ctrl2 129

TIL 6w
11111011
11111001
11111001
11111000
11111111
11111111
11111111
11111111
NAME ctrl2 130

TIL 6x
11011111
11000111
10000011
00000011
00001111
11111111
11111111
11111111
NAME ctrl2 131

TIL 6y
11111110
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 132

TIL 6z
00000000
00000000
00000000
00000000
00000000
00000001
00000001
00000011
NAME ctrl2 133

TIL 7a
11111111
11111111
11111111
10001111
00000111
00000111
00001111
10011111
NAME ctrl2 144

TIL 7b
11111111
11111111
11111111
11111111
11111111
11111111
11111001
11110000
NAME ctrl2 145

TIL 7c
11111111
11111111
11111111
11111111
11111111
11111111
11111111
01111111
NAME ctrl2 146

TIL 7d
11111111
11111111
11111111
11111111
11111111
11111000
11110000
11100000
NAME ctrl2 147

TIL 7e
11111111
11111111
11111111
11111000
10000000
00000000
00000000
00000000
NAME ctrl2 148

TIL 7f
11111111
11111111
11111111
11100111
00000011
00000011
00000001
00000000
NAME ctrl2 149

TIL 7g
11110000
11111100
11111110
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 150

TIL 7h
00111110
00111000
00010000
00000000
00000000
00000000
00000000
10011100
NAME ctrl2 151

TIL 7i
00000111
00000001
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 152

TIL 7j
11111111
11111111
11111111
01111111
00111111
00111111
00111111
00111111
NAME ctrl2 153

TIL 7k
11111111
11111111
11111111
11111111
11111111
11111111
11111000
11110000
NAME ctrl2 154

TIL 7l
11100000
11000000
11000000
11000000
10000000
00000000
00000000
00000000
NAME ctrl2 155

TIL 7m
00000001
00000001
00000011
00000111
00001111
00011111
00011111
00111111
NAME ctrl2 156

TIL 7n
00000000
10000000
10000000
10000000
10000000
11100000
11110000
11110001
NAME ctrl2 157

TIL 7o
00111111
00011111
00011111
00011111
00110111
01110000
11110000
11110000
NAME ctrl2 158

TIL 7p
11100000
11000000
11000000
11000000
11000000
11000000
11000000
11100000
NAME ctrl2 159

TIL 7q
00000000
00000000
00000000
00000000
00000000
00001000
00011100
00111111
NAME ctrl2 160

TIL 7r
11111111
00011111
00011111
00001111
00000111
00000011
00000001
00000000
NAME ctrl2 161

TIL 7s
11111111
11111111
11111111
11111111
11111111
11100000
11100000
11100000
NAME ctrl2 162

TIL 7t
11111111
11111111
00000111
10001111
00001111
00000000
00000111
00001111
NAME ctrl2 163

TIL 7u
11111011
11111111
11111111
11111111
11111111
01111111
11111111
11111111
NAME ctrl2 164

TIL 7v
11111000
11111000
11111100
11111100
11111111
11111111
11111111
11111111
NAME ctrl2 165

TIL 7w
00011111
00011111
00011111
01111111
11111111
11111111
11111111
11111111
NAME ctrl2 166

TIL 7x
11111000
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 167

TIL 7y
10000001
10000111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl2 168

TIL 7z
10000000
11100000
11110000
11110000
11110000
11100000
11100000
11110000
NAME ctrl2 169

TIL 8a
11111111
11111111
11111111
11111111
11111111
11111111
00111111
00011111
NAME ctrl2 180

TIL 8b
11111111
11111111
11111111
11111111
11111111
11111111
00000000
00000000
NAME ctrl2 181

TIL 8c
11111111
11111111
11111111
11111111
11111111
11111111
01111111
00111111
NAME ctrl2 182

TIL 8d
11111111
11111111
11111111
11111111
11111111
11111100
11110000
11000000
NAME ctrl2 183

TIL 8e
11111111
11111110
11100000
10000000
00000000
00000000
00000000
00000000
NAME ctrl2 184

TIL 8f
11111111
01111111
00000011
00000001
00000000
00000000
00000000
00000000
NAME ctrl2 185

TIL 8g
11111000
11111000
11111000
11111000
11111100
01111110
00001111
00000111
NAME ctrl2 186

TIL 8h
00001111
00001111
00001111
00001111
00001111
00001111
11110000
11110000
NAME ctrl2 187

TIL 8i
11111111
11111111
11110000
11100000
11000000
00000000
00000000
00000000
NAME ctrl2 188

TIL 8j
11111111
11111111
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 189

TIL 8k
11111111
11111111
11111111
01111111
00001111
00000011
00000001
00000000
NAME ctrl2 190

TIL 8l
11111111
11111111
11111111
11111111
11111111
11111111
11111000
11111000
NAME ctrl2 191

TIL 8m
00011111
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 192

TIL 8n
11111111
11111100
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 193

TIL 8o
11111111
01111111
00111111
00001111
00000011
00000000
00000000
00000000
NAME ctrl2 194

TIL 8p
11111111
11111111
11111111
11111111
11111000
00000000
00000000
00000000
NAME ctrl2 195

TIL 8q
11110000
11100000
10000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl2 196

TIL 8r
00100000
00010000
00001000
00000100
00000100
00001000
00010000
00100000
>
00010000
00001000
00000100
00000010
00000010
00000100
00001000
00010000
NAME arrow

TIL 8s
00100000
00010000
00001000
00000100
00000100
00001000
00010000
00100000
>
11101111
11110111
11111011
11111101
11111101
11111011
11110111
11101111
NAME nextTile

TIL 8t
00001000
00010000
00100000
01000000
01000000
00100000
00010000
00001000
>
11101111
11011111
10111111
01111111
01111111
10111111
11011111
11101111
NAME prevTile

TIL 8u
00000000
00000000
00000000
00000000
00000011
00001111
00011111
01111110
NAME ctrl3 1

TIL 8v
00000000
00000000
00000011
00011111
11111111
11111111
11111111
00001111
NAME ctrl3 2

TIL 8w
00000000
00001001
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 3

TIL 8x
00000000
11100000
11111100
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 4

TIL 8y
00000000
00000000
00000000
10000000
11100000
11110000
11111000
11111111
NAME ctrl3 5

TIL 8z
00000000
00000000
00000000
00000000
00000000
00000000
00000100
11111111
NAME ctrl3 6

TIL 9a
11111111
11001111
10001111
00001111
00111111
01111111
01111111
11111111
NAME ctrl3 17

TIL 9b
11110000
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 18

TIL 9c
11100001
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 19

TIL 9d
11111111
11011110
11011100
11111100
11111000
11111000
11111000
11111000
NAME ctrl3 20

TIL 9e
00000001
00000001
00000011
00000111
00000011
00110001
00110000
01110000
NAME ctrl3 21

TIL 9f
11111000
11111100
11111110
11111111
11111111
11111111
11111111
01111111
NAME ctrl3 22

TIL 9g
11000000
10000000
00001111
10011111
11111111
11111111
11111111
11111111
NAME ctrl3 23

TIL 9h
11110000
11110000
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 24

TIL 9i
00011111
00001111
10000011
11000111
11111111
11111111
11111111
11111111
NAME ctrl3 25

TIL 9j
11111111
11111111
11111111
11111111
11111000
11110000
11000000
11000000
NAME ctrl3 26

TIL 9k
11111111
11111111
11111111
00001111
00001111
00011111
00011111
00111111
NAME ctrl3 27

TIL 9l
11111111
11111111
11111111
11110011
11110000
11110000
11111000
11111100
NAME ctrl3 28

TIL 9m
11111111
11111111
11111111
11111111
00011111
00011111
00111111
00111111
NAME ctrl3 29

TIL 9n
11111111
11111111
11111111
11111111
11101111
11000011
11000001
11100001
NAME ctrl3 30

TIL 9o
11111111
11111111
11111111
01111111
01111111
01111111
11111111
11111111
NAME ctrl3 31

TIL 9p
11111111
11111111
11111111
10000011
10000000
11000000
11100000
11100000
NAME ctrl3 32

TIL 9q
11111111
11111111
11111111
11111111
01111111
01111111
00111111
00011111
NAME ctrl3 33

TIL 9r
11111111
11111111
11111111
11111111
11111111
11111111
11111110
11111110
NAME ctrl3 34

TIL 9s
10000000
00000000
00000000
00000000
00000001
00000001
00000001
00000011
NAME ctrl3 35

TIL 9t
11111110
11111110
11111110
11111110
11111111
11111111
11111111
11111111
NAME ctrl3 36

TIL 9u
00111111
01111111
01111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 37

TIL 9v
11110011
11111011
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 38

TIL 9w
11110000
11111000
11111000
11111000
11111100
11111100
11111110
11111110
NAME ctrl3 39

TIL 9x
00001111
00000111
00000111
00000111
00000111
00000111
00000111
00000011
NAME ctrl3 40

TIL 9y
00000111
00001111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 41

TIL 9z
00000011
10000011
11000111
11101111
11111111
11111111
11111111
11111111
NAME ctrl3 42

TIL a0
11111111
11111111
11111111
11111111
11100001
10000001
10000000
00000000
NAME ctrl3 43

TIL a1
11111111
11111111
11111111
11111111
11111111
11111111
11111111
01111000
NAME ctrl3 44

TIL a2
10000000
10000000
10000000
10000000
10000000
10000000
11000000
11100001
NAME ctrl3 45

TIL a3
00001111
00000111
00000011
00000011
00000011
00001111
00011111
01111111
NAME ctrl3 46

TIL a4
11111111
11111111
11111111
11111111
11111111
11111111
11111111
11001111
NAME ctrl3 47

TIL a5
10000111
10000111
10000111
10000111
10000111
10000111
10000111
10000111
NAME ctrl3 48

TIL a6
11111111
11111111
11111111
11111111
11111110
11111100
11111100
11111000
NAME ctrl3 49

TIL a7
11111111
11111111
10000111
00000011
00000001
00000000
00000000
00000000
NAME ctrl3 50

TIL a8
11100111
10000011
10000011
10000001
00000001
00000001
00000001
01111111
NAME ctrl3 51

TIL a9
11111111
11111111
11111111
11111000
11000000
11000000
11000000
11000000
NAME ctrl3 52

TIL aa
11111111
11111111
11111111
11111111
00000000
00000000
00000000
00000000
NAME ctrl3 53

TIL ab
11111111
11111111
11111111
11111111
00111111
00011111
00011111
00011111
NAME ctrl3 54

TIL ac
11111111
11111111
11111111
11111111
11100001
11000001
11000001
11000001
NAME ctrl3 55

TIL ad
10000111
11000111
11000011
11000011
11100011
11100001
11100001
11100000
NAME ctrl3 56

TIL ae
11110000
11000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl3 57

TIL af
00111111
00111111
00011111
00001111
00001111
00001111
00000111
00000011
NAME ctrl3 58

TIL ag
01111111
01111111
01111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 59

TIL ah
11000000
11000000
11100000
11110000
11110000
11111000
11111100
11111100
NAME ctrl3 60

TIL ai
00001111
00001111
00011111
00011111
00111111
00111111
00111111
00111111
NAME ctrl3 61

TIL aj
11111111
11111111
11111110
11111100
11111000
11111000
11111000
11111000
NAME ctrl3 62

TIL ak
10000001
10000011
00000011
00000011
00000011
00000011
00000111
00000111
NAME ctrl3 63

TIL al
11000000
11000000
11000000
11000000
11000000
11000000
11000000
11000000
NAME ctrl3 64

TIL am
01111111
00011111
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl3 65

TIL an
11111110
11111100
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl3 66

TIL ao
00000011
00000011
00000001
00000000
00000000
00000000
00000000
00000000
NAME ctrl3 67

TIL ap
11111111
11111111
11111111
11111111
11111110
11111110
01111111
00111111
NAME ctrl3 68

TIL aq
11111111
11111111
11111111
11111111
11111111
01111111
11111111
11111111
NAME ctrl3 69

TIL ar
00000000
00000000
11110000
11111111
11111111
11111111
11111111
11111111
NAME ctrl3 70

TIL as
11111000
11111000
11111000
11111000
11111000
11111000
11110000
11100000
NAME ctrl3 71

TIL at
00001111
00001111
00011111
00111111
00111111
01111110
11111110
11111110
NAME ctrl3 72

TIL au
11000000
10000000
10000000
10000000
00000000
00000000
00000000
00000000
NAME ctrl3 73

TIL av
00111111
00111111
00011111
00001111
00001111
00000111
00000111
00000011
NAME ctrl3 74

TIL aw
11111111
11111111
11000111
11000011
11000001
11000000
11000000
11100000
NAME ctrl3 75

TIL ax
11100001
11100001
11110011
11111011
11111111
11111111
10000111
10001111
NAME ctrl3 76

TIL ay
11111100
11111100
11111000
11111000
11110000
11110000
11100000
11000000
NAME ctrl3 77

TIL az
11111111
11111111
01111111
00011111
00000011
00000000
00000000
00000000
NAME ctrl3 78

TIL b0
11111111
11111111
11111111
11111111
11111111
01111111
00001111
00000001
NAME ctrl3 79

TIL b1
11111111
11111111
11111111
11111111
11111111
11111111
11111111
11000000
NAME ctrl3 80

TIL b2
11111110
11111100
11111100
11111111
11111111
11111111
11111111
11111110
NAME ctrl3 81

TIL b3
00011111
00111111
01111111
11111111
11111100
11110000
10000000
00000000
NAME ctrl3 82

TIL b4
11000000
10000000
10000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl3 83

TIL b5
11111111
00111100
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl3 84

TIL b6
00000000
00000000
00000000
00000000
00000000
00000001
01111111
00011111
NAME ctrl4 1

TIL b7
00000000
00000000
00000000
00000000
00000000
11110000
11111100
11111000
NAME ctrl4 2

TIL b8
00000000
00000000
00000000
00000000
00000000
00000000
01100000
00010000
NAME ctrl4 3

TIL b9
00000000
00000000
00000000
00000000
00000011
00011111
11111111
11111111
NAME ctrl4 4

TIL ba
00000000
00000000
00000110
00001110
11111100
11111100
11111000
11110000
NAME ctrl4 5

TIL bb
00011111
00000111
00000111
00001111
00011111
00011111
11111111
11111111
NAME ctrl4 6

TIL bc
11110000
11110000
11110000
11110000
11111000
11111110
11111111
11111111
NAME ctrl4 7

TIL bd
00000000
00000000
00000000
00000000
00000000
00000000
10000000
11000000
NAME ctrl4 8

TIL be
00001000
00000000
00000000
00000001
00000001
00000000
00000000
00000000
NAME ctrl4 9

TIL bf
00000000
00000000
00000000
11000000
11100000
11110000
11111000
01111110
NAME ctrl4 10

TIL bg
00000000
00000000
00000000
00000000
00000000
00111000
00111000
01110000
NAME ctrl4 11

TIL bh
00001111
00011111
01111111
00111111
00111111
00111111
01111111
01111111
NAME ctrl4 12

TIL bi
11110000
11110000
11110000
11110000
11110000
11110000
11110000
11110000
NAME ctrl4 13

TIL bj
00000001
00000001
00000011
00000011
00000111
00000111
00000111
00000111
NAME ctrl4 14

TIL bk
01111111
01111111
00111111
00111111
00111111
00111111
00111111
00111111
NAME ctrl4 15

TIL bl
11000000
11100000
11111000
11111100
11111111
11111111
11111111
11111111
NAME ctrl4 16

TIL bm
01111111
01111111
01111111
01111111
00111111
00111111
00111111
00111111
NAME ctrl4 17

TIL bn
11110000
11110000
11111000
11111000
11111000
11111000
11110000
11100000
NAME ctrl4 18

TIL bo
00000111
00001111
00001111
00001111
00011111
00011111
01111100
01110000
NAME ctrl4 19

TIL bp
11111111
11111111
11111111
11111111
11111111
00000000
00000000
00000000
NAME ctrl4 20

TIL bq
11111111
11111111
11111111
11111111
11111111
00000111
00000001
00000000
NAME ctrl4 21

TIL br
11000000
11100000
11100000
11100000
11100000
11110000
11111000
11111100
NAME ctrl4 22

TIL bs
00011111
00011111
00011111
00011111
00011111
00011111
00111111
00111111
NAME ctrl4 23

TIL bt
00111111
00011111
00011111
00001111
00001111
00001111
00011111
00011111
NAME ctrl4 24

TIL bu
11000000
11000000
10000000
10000000
11000000
11000000
10000000
00000000
NAME ctrl4 25

TIL bv
00000000
00000000
00000000
00001110
00001100
00000000
00000110
00000111
NAME ctrl4 26

TIL bw
00000000
00000001
00000111
00011111
00011111
00111111
01111111
11111111
NAME ctrl4 27

TIL bx
11100000
11000000
10000000
10000000
10000000
10000000
11100000
11110000
NAME ctrl4 28

TIL by
01111110
01111111
01111111
00111111
00111111
00111111
00111111
00111111
NAME ctrl4 29

TIL bz
00000000
00000000
10000000
11100000
11111000
11111111
11111111
11111111
NAME ctrl4 30

TIL c0
01111111
01111111
01111111
01111111
11111111
11111111
11111111
11111111
NAME ctrl4 31

TIL c1
00000100
00001110
00001110
00001111
00001111
00001111
00001111
00001111
NAME ctrl4 32

TIL c2
00000000
00000000
00000000
00000000
10000000
11000000
11110000
11110000
NAME ctrl4 33

TIL c3
00001111
00001111
00001111
00001111
00000111
00000001
00000000
00000000
NAME ctrl4 34

TIL c4
11111100
11111100
11111100
11111110
11111111
11111111
11111111
11111111
NAME ctrl4 35

TIL c5
00000000
00000000
00000000
00000000
00000000
10000000
11000000
11000000
NAME ctrl4 36

TIL c6
00000111
00000111
00001111
00001111
00001111
00001111
00011111
00011111
NAME ctrl4 37

TIL c7
11110000
11110000
11111000
11111100
11111110
11111111
11111111
11111111
NAME ctrl4 38

TIL c8
00000000
00000000
00000000
00000000
00000000
10000000
11100000
11111111
NAME ctrl4 39

TIL c9
00000000
00000000
00001111
00011111
00111111
00111111
00111111
00011111
NAME ctrl4 40

TIL ca
11111111
11111111
11111111
11111110
11111110
11111110
11111111
11111111
NAME ctrl4 41

TIL cb
11111111
10011111
00001111
00001111
00011111
00111111
11111111
11111111
NAME ctrl4 42

TIL cc
00001111
00000111
00000011
00000011
00000011
00000000
00000000
00000000
NAME ctrl4 43

TIL cd
11000000
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl4 44

TIL ce
11111111
01111111
01111111
00111111
00011111
00011111
00001111
00001111
NAME ctrl4 45

TIL cf
11000000
11100000
11111001
11111111
11111111
11111111
11111111
11111000
NAME ctrl4 46

TIL cg
00111111
01111111
11111111
11111111
11111111
11111111
11111111
01111111
NAME ctrl4 47

TIL ch
11111111
11111111
11110000
11100000
11000000
11000000
10000000
10000000
NAME ctrl4 48

TIL ci
10000111
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl4 49

TIL cj
00001111
00001111
00000111
00000011
00000000
00000000
00000000
00000000
NAME ctrl4 50

TIL ck
11111111
11111111
11111111
11111111
11111110
11111110
11111110
11111111
NAME ctrl4 51

TIL cl
11111111
11111111
11111111
11111111
00111111
00011111
00011111
10111111
NAME ctrl4 52

TIL cm
00001111
00000111
00000111
00000011
00000000
00000000
00000000
10000000
NAME ctrl4 53

TIL cn
11110000
11100000
11000000
10000000
00000000
00000000
00000000
00000000
NAME ctrl4 54

TIL co
00111111
00111111
00011111
00000111
00000001
00000000
00000000
00000000
NAME ctrl4 55

TIL cp
00000000
10000000
10000000
00000000
10000000
10000000
10000000
10000000
NAME ctrl4 56

TIL cq
00001111
00001111
00001111
00001111
00011111
00011111
00111111
11111111
NAME ctrl4 57

TIL cr
11111111
11100000
11000000
10000000
00000000
00000000
00000000
00000000
NAME ctrl4 58

TIL cs
00000111
00001111
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl4 59

TIL ct
00000000
00000000
00000000
00000000
00000000
00000000
00000011
00000111
NAME ctrl4 60

TIL cu
00000000
00000000
00000000
00000000
00000000
00000001
00000011
00000011
NAME ctrl4 61

TIL cv
00011111
00001000
00000000
00000000
00000000
10000000
11000000
11100000
NAME ctrl4 62

TIL cw
00000000
00000001
00000001
00000001
00000000
00000000
00000000
00000000
NAME ctrl4 63

TIL cx
11111100
11111000
11111000
11111000
11111000
11111100
11111110
11111110
NAME ctrl4 64

TIL cy
00000001
00000001
00000001
00000001
00000001
00000001
00000000
00000000
NAME ctrl4 65

TIL cz
00000000
10000000
10000000
10000000
11000000
11000001
11111111
11111111
NAME ctrl4 66

TIL d0
00001111
00011111
00111111
01111111
11111111
11111111
11111111
11111111
NAME ctrl4 67

TIL d1
10000000
10000000
10000000
00000000
10000000
10000000
10000000
10000011
NAME ctrl4 68

TIL d2
00001111
00011111
00111111
00111111
00111111
01111111
11111111
11111111
NAME ctrl4 69

TIL d3
10000000
10000000
11000000
11100000
11100000
11110000
11100000
11100000
NAME ctrl4 70

TIL d4
00000000
00000000
00001110
00001111
00001111
00001111
00001111
00000110
NAME ctrl4 71

TIL d5
00000000
00000000
00000000
00000011
00000011
00000001
00000000
00000000
NAME ctrl4 72

TIL d6
01111111
01111111
11111111
11111111
11111111
11111111
11111111
01111111
NAME ctrl4 73

TIL d7
11111111
11111111
11111111
11111111
11111111
11111001
11111101
11111111
NAME ctrl4 74

TIL d8
00000000
10000000
10000000
11000000
11100000
11100000
11111100
11111111
NAME ctrl4 75

TIL d9
11111111
00111111
00011111
00001111
00000011
00000000
00000000
00000000
NAME ctrl4 76

TIL da
00000111
11101111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl4 77

TIL db
11110000
11111000
11111100
11111110
11111111
11111111
11111111
11111111
NAME ctrl4 78

TIL dc
00000000
00000000
00000100
00001100
00001110
10011100
11111110
11111110
NAME ctrl4 79

TIL dd
00111111
00000110
00000000
00000000
00000000
00000111
00001111
00001111
NAME ctrl4 80

TIL de
10011111
00001111
00001111
00011111
01111111
11111111
11111111
11111111
NAME ctrl4 81

TIL df
11111111
11111111
11111111
11110011
11100001
11000011
11000111
11111111
NAME ctrl4 82

TIL dg
11111111
11111111
11111111
11111111
11111110
11111100
11110000
11100000
NAME ctrl4 83

TIL dh
11111111
11111111
01111111
00011111
00000111
00000000
00000000
00000000
NAME ctrl4 84

TIL di
11111111
00000011
00000000
00000000
00000001
00000111
00001111
00001111
NAME ctrl4 85

TIL dj
11111111
11111111
01111111
01111111
11111111
11111111
11111111
11111111
NAME ctrl4 86

TIL dk
10000000
10000000
11001111
11111111
11111111
11111111
11111111
11111111
NAME ctrl4 87

TIL dl
00001111
00001111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl4 88

TIL dm
11111111
11111111
11111111
11111110
11111100
11111000
11110000
11100000
NAME ctrl4 89

TIL dn
11000000
10000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl4 90

TIL do
00000111
00000011
00000001
00000000
00000000
00000000
00000000
00000000
NAME ctrl4 91

TIL dp
11111111
11111111
11111111
01111111
00000001
00000000
00000000
00000000
NAME ctrl4 92

TIL dq
11111111
11111111
11111111
11111111
11111111
01111111
00000000
00000000
NAME ctrl4 93

TIL dr
11111111
11111111
11111111
11111111
11111111
11110000
00000000
00000000
NAME ctrl4 94

TIL ds
11111111
11111111
11111111
11111110
11111100
11110000
00000000
00000000
NAME ctrl4 95

TIL dt
00000000
00000000
00000000
00000000
00000000
00000000
00011111
00000111
NAME ctrl4 96

TIL du
00000000
00000000
00000000
00000000
00000000
01111100
11111111
11111110
NAME ctrl4 97

TIL dv
00000000
00000000
00000000
00000000
00000000
00000000
00001100
00000010
NAME ctrl4 98

TIL dw
00000000
00000000
00000000
00000000
00000000
00000111
01111111
11111111
NAME ctrl4 99

TIL dx
00000000
00000000
00000001
00000011
11111111
11111111
11111110
11111110
NAME ctrl4 100

TIL dy
00000000
00000000
10000000
10000000
00000000
00000000
00000000
00000000
NAME ctrl4 101

TIL dz
00000011
00000001
00000001
00000001
00000011
00000111
00011111
00111111
NAME ctrl4 102

TIL e0
11111110
11111100
11111100
11111110
11111111
11111111
11111111
11111111
NAME ctrl4 103

TIL e1
00000000
00000000
00000000
00111000
00111100
00011110
00011111
00001111
NAME ctrl4 104

TIL e2
00000000
00000000
00000000
00000000
00000000
00000000
10000000
11100000
NAME ctrl4 105

TIL e3
00000011
00000111
00011111
00011111
00011111
00001111
00011111
00011111
NAME ctrl4 106

TIL e4
11111100
11111100
11111100
11111100
11111100
11111100
11111100
11111100
NAME ctrl4 107

TIL e5
00000000
00000000
00000000
00000000
00000000
00000001
00000001
00000001
NAME ctrl4 108

TIL e6
11111000
11111000
11111000
11111000
11111000
11111000
11111000
11111000
NAME ctrl4 109

TIL e7
00001111
00001111
00000111
00000111
00000111
00000111
00000111
00000111
NAME ctrl4 110

TIL e8
11111000
11111100
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl4 111

TIL e9
00000000
00000000
10000000
11000000
11100000
11110000
11111000
11111000
NAME ctrl4 112

TIL ea
00011111
00011111
00011111
00011111
00011111
00001111
00001111
00001111
NAME ctrl4 113

TIL eb
11111100
11111100
11111110
11111110
11111110
11111110
11111100
11111000
NAME ctrl4 114

TIL ec
00000001
00000001
00000011
00000011
00000011
00000111
00001111
00011100
NAME ctrl4 115

TIL ed
11111111
11111111
11111111
11111111
11111111
11100000
00000000
00000000
NAME ctrl4 116

TIL ee
11111111
11111111
11111111
11111111
11111111
00000001
00000000
00000000
NAME ctrl4 117

TIL ef
11111000
11111000
11111100
11111100
11111100
11111110
01111110
00011111
NAME ctrl4 118

TIL eg
00000011
00000011
00000011
00000011
00000011
00000011
00000111
00000111
NAME ctrl4 119

TIL eh
00000000
00000000
00000000
10000000
11110000
11111000
11111110
11111110
NAME ctrl4 120

TIL ei
00001111
00000111
00000111
00000011
00000011
00000011
00000111
00000111
NAME ctrl4 121

TIL ej
11110000
11110000
11110000
11100000
11110000
11110000
11100000
11000000
NAME ctrl4 122

TIL ek
00000000
00000000
00000000
00000011
00000011
00000000
00000001
00000001
NAME ctrl4 123

TIL el
00000000
00000000
00000001
10000111
10000111
00001111
10001111
11111111
NAME ctrl4 124

TIL em
00111000
01110000
11110000
11100000
11100000
11110000
11111000
11111100
NAME ctrl4 125

TIL en
00011111
00001111
00001111
00001111
00001111
00001111
00000111
00000111
NAME ctrl4 126

TIL eo
11000000
11100000
11110000
11111100
11111111
11111111
11111111
11111111
NAME ctrl4 127

TIL ep
00001111
00001111
00001111
00001111
00011111
11111111
11111111
11111111
NAME ctrl4 128

TIL eq
00000000
10000000
10000000
11000000
11000000
11100000
11110000
11110000
NAME ctrl4 129

TIL er
00000011
00000011
00000011
00000011
00000001
00000000
00000000
00000000
NAME ctrl4 130

TIL es
00000000
00000000
00000000
10000000
11000000
11100000
11110000
11110000
NAME ctrl4 131

TIL et
00000001
00000001
00000001
00000011
00000011
00000011
00000111
00000111
NAME ctrl4 132

TIL eu
11111100
11111110
11111110
11111111
11111111
11111111
11111111
11111111
NAME ctrl4 133

TIL ev
00000000
00000000
00000000
00000000
11000000
11100000
11111100
11111111
NAME ctrl4 134

TIL ew
00000000
00000000
00000001
00000111
00000111
00001111
00001111
11100111
NAME ctrl4 135

TIL ex
00000111
00011111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl4 136

TIL ey
11111111
11110011
11100001
11000001
11000011
11000111
11111111
11111111
NAME ctrl4 137

TIL ez
11111111
11111111
11111111
11000111
10000000
10000000
10000000
11000000
NAME ctrl4 138

TIL f0
11110000
11110000
11111000
11111000
11111000
01111000
01111000
01111000
NAME ctrl4 139

TIL f1
00111111
00011111
00011111
00001111
00000111
00000111
00000011
00000011
NAME ctrl4 140

TIL f2
11110000
11111000
11111110
11111111
11111111
11111111
11111111
11111110
NAME ctrl4 141

TIL f3
00001111
00011111
01111111
11111111
11111111
11111111
11111111
00011111
NAME ctrl4 142

TIL f4
11111111
11111111
11111100
11111000
11111000
11110000
11100000
11100000
NAME ctrl4 143

TIL f5
11000011
00000001
00000000
00000000
00000000
00000000
00000000
00000000
NAME ctrl4 144

TIL f6
11111111
11111111
11111111
01111111
00111111
00001111
00000111
00000011
NAME ctrl4 145

TIL f7
11111111
11111111
11111111
11111111
11000111
11000011
11000011
11110111
NAME ctrl4 146

TIL f8
11111111
11111111
11111111
11111111
11111111
11111111
11111111
11111000
NAME ctrl4 147

TIL f9
11000000
11100000
11100000
11100000
11100000
11100001
11000001
00000001
NAME ctrl4 148

TIL fa
11111000
11111000
11110000
11100000
11000000
11000000
10000000
10000000
NAME ctrl4 149

TIL fb
00000011
00000001
00000001
00000000
00000000
00000000
00000000
11000000
NAME ctrl4 150

TIL fc
11111100
11111000
11110000
11100000
00000000
00000000
00000000
00000000
NAME ctrl4 151

TIL fd
00001111
00001111
00000011
00000000
00000000
00000000
00000000
00000000
NAME ctrl4 152

TIL fe
11111111
11111111
11111111
11111111
01111111
00111111
00001111
00000111
NAME ctrl4 153

TIL ff
11100000
11100000
11100000
11100000
11100000
11100000
11110000
11110000
NAME ctrl4 154

TIL fg
00000011
00000001
00000001
00000011
00000011
00000111
00001111
00011111
NAME ctrl4 155

TIL fh
11111111
11111100
11111000
11110000
11110000
11100000
11000000
10000000
NAME ctrl4 156

TIL fi
10000000
00000000
00000000
00000111
00000001
00000001
00000000
00000000
NAME ctrl4 157

TIL fj
00000001
00000011
00000000
00000000
00000000
00000000
01000000
01000000
NAME ctrl4 158

TIL fk
11000000
11000000
00000000
00000000
00000000
00000000
00000000
00000001
NAME ctrl4 159

TIL fl
00000000
00000000
00000000
00000000
00000000
00000000
11100000
11110000
NAME ctrl4 160

TIL fm
00000011
00000000
00000000
00000000
00000000
01110000
11110000
11111000
NAME ctrl4 161

TIL fn
00111111
00111111
00111111
00111111
00011111
00011111
00011111
00001111
NAME ctrl4 162

TIL fo
01000000
01100000
01100000
01100000
01100000
01110000
00111111
00111111
NAME ctrl4 163

TIL fp
00000011
00000111
00001111
00011111
00111111
01111111
11111111
11111111
NAME ctrl4 164

TIL fq
11100000
11100000
11100000
11000000
11100000
11100000
11100000
11100000
NAME ctrl4 165

TIL fr
00000011
00000111
00000111
00001111
00001111
00001111
00111111
01111111
NAME ctrl4 166

TIL fs
11100000
11100000
11110000
11111000
11111100
11111100
11111100
11111100
NAME ctrl4 167

TIL ft
00000000
00000000
00000001
00000011
00000011
00000011
00000011
00000001
NAME ctrl4 168

TIL fu
00000000
00000000
11000000
11000000
11100000
11100000
11100000
11000000
NAME ctrl4 169

TIL fv
00001111
00001111
00011111
01111111
01111111
01111111
00011111
00001111
NAME ctrl4 170

TIL fw
11100000
11110000
11111000
11111000
11111100
00111100
10111111
11111111
NAME ctrl4 171

TIL fx
00000001
00000001
00000011
00000011
00000011
00000011
00000111
00000111
NAME ctrl4 172

TIL fy
00111111
00001111
00000111
00000011
00000001
00000000
00000000
00000000
NAME ctrl4 173

TIL fz
11111111
11111111
11111111
11111111
11111111
00111111
00000111
00000001
NAME ctrl4 174

TIL g0
11000001
11111011
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl4 175

TIL g1
00000000
00000000
10000000
10000011
11000011
11100011
11111111
11111111
NAME ctrl4 176

TIL g2
00000111
00000001
00000000
00000000
00000000
00000000
00000001
00000011
NAME ctrl4 177

TIL g3
11110011
11000001
00000001
00000011
00001111
11111111
11111111
11111111
NAME ctrl4 178

TIL g4
11111111
11111111
11111111
11111110
11111100
11111000
11111000
11111111
NAME ctrl4 179

TIL g5
11111111
11111111
11111111
01111111
00111111
01111111
11111111
11111111
NAME ctrl4 180

TIL g6
11111110
11111111
11111111
11111111
11000000
10000000
00000000
00000000
NAME ctrl4 181

TIL g7
00000000
00000000
10000000
11100000
00001111
00001111
00000000
00000000
NAME ctrl4 182

TIL g8
00000110
00000100
00000100
00000000
11110000
11100000
00000000
00000000
NAME ctrl4 183

TIL g9
01111111
00111111
00011111
00000111
00000001
00000000
00000000
00000000
NAME ctrl4 184

TIL ga
11111111
11100000
11000000
11000000
11000000
01000001
00000011
00000011
NAME ctrl4 185

TIL gb
11111111
11111111
00011111
00001111
01111111
11111111
11111111
11111111
NAME ctrl4 186

TIL gc
11100000
11110000
11110011
11111111
11111111
11111111
11111111
11111111
NAME ctrl4 187

TIL gd
00000011
00000011
11111111
11111111
11111111
11111111
11111111
11111111
NAME ctrl4 188

TIL ge
11111000
11110000
11100000
11000000
10000000
00000000
00000000
00000000
NAME ctrl4 189

TIL gf
11111111
11111111
00111111
00011111
00000000
00000000
00000000
00000000
NAME ctrl4 190

TIL gg
11111111
11111111
11111111
11111111
01111111
00001111
00000000
00000000
NAME ctrl4 191

TIL gh
11111111
11111111
11111111
11111111
11111111
11111100
00000000
00000000
NAME ctrl4 192

TIL gi
11111111
11111111
11111111
11111111
11111111
00001111
00000000
00000000
NAME ctrl4 193

TIL gj
11111111
11111111
11111111
11111111
11111111
11111110
00000000
00000000
NAME ctrl4 194

TIL gk
11111111
11111111
11111111
11111111
11111111
11111111
10000011
11000001
NAME ctrl5 1

TIL gl
11100001
11000000
10000000
00000001
00011111
00011111
00011111
10001100
NAME ctrl5 2

TIL gm
11111111
01100000
01110000
11110001
11110001
11110001
11110001
00111011
NAME ctrl5 3

TIL gn
00000000
00000000
00000000
11111000
11111100
11111100
11110000
11000000
NAME ctrl5 4

TIL go
11100000
11110000
11111111
11111111
11111111
11111000
11100000
00000000
NAME ctrl5 5

TIL gp
00000010
00000110
11111110
11111111
11111111
00111111
00111111
00111111
NAME ctrl5 6

TIL gq
11111111
11111111
11111111
11111110
11100000
11100000
01100000
00000000
NAME ctrl5 7

TIL gr
11111111
11111111
11111111
00011110
00001100
00001100
00001100
00011110
NAME ctrl5 8

TIL gs
00011110
00001110
00000110
00000111
00000010
00000010
00000010
00000010
NAME ctrl5 9

TIL gt
00000001
00000001
00000000
00000001
00000001
00000011
00001111
11111111
NAME ctrl5 10

TIL gu
10000111
10000111
11000111
11101111
11111111
11111111
00111111
00001111
NAME ctrl5 11

TIL gv
11100000
11000000
11000000
11110001
11111111
11111111
11111111
11111111
NAME ctrl5 12

TIL gw
00000000
00000000
00000000
11111111
11111110
11111100
11111100
11100000
NAME ctrl5 13

TIL gx
00000111
00000111
01100011
11100000
00000000
00000000
00000000
00000000
NAME ctrl5 14

TIL gy
11111111
11111111
11111111
11111111
11111100
11111100
11100100
01110110
NAME ctrl5 15

TIL gz
11111111
11111111
11111111
00011111
00000111
00000011
00000011
00011111
NAME ctrl5 16

TIL h0
00000001
00000001
00000001
00000001
00000011
00000011
11111111
11111111
NAME ctrl5 17

TIL h1
11111111
11111111
11111111
00111111
10111111
10011111
11011111
11001111
NAME ctrl5 18

TIL h2
00000111
00000111
00000010
00000010
00000010
00000011
00000011
00000001
NAME ctrl5 19

TIL h3
11111111
11111111
11111111
11111111
11111111
11110011
11110011
11100011
NAME ctrl5 20

TIL h4
01111111
11111111
11000011
10000011
10000001
10000001
00000111
10001111
NAME ctrl5 21

TIL h5
00001111
11111111
11111111
11111111
11110001
11000000
00000000
00000000
NAME ctrl5 22

TIL h6
00001111
00001111
00001111
00001111
10000111
11000011
11000011
11000011
NAME ctrl5 23

TIL h7
11000000
10000000
10000000
10000000
10000001
10000001
10000111
10001111
NAME ctrl5 24

TIL h8
11100000
11100000
11000000
11000000
11000000
11000000
11111111
11111111
NAME ctrl5 25

TIL h9
00000000
00000000
00000000
00111000
00111110
01111111
11111111
11111111
NAME ctrl5 26

TIL ha
00000011
00000011
00000111
00000111
00001111
11111111
11111111
11111111
NAME ctrl5 27

TIL hb
10000111
00001111
00001111
00001111
00001111
10001111
11000111
11100111
NAME ctrl5 28

TIL hc
00000000
00000000
00000000
00000000
11111000
11111111
11111111
00000111
NAME ketwig1 1

TIL hd
00000000
00000001
00001111
01111111
11111111
11111110
11111110
11111100
NAME ketwig1 2

TIL he
11111100
11111000
11110000
11110000
11111111
00111111
00011111
00000111
NAME ketwig1 3

TIL hf
01111000
01111000
01111001
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 4

TIL hg
00111000
01111000
11111000
11111000
11110000
11110000
11110000
11110000
NAME ketwig1 5

TIL hh
00001111
00011111
00111111
00111110
01111100
01110000
11100000
11000000
NAME ketwig1 6

TIL hi
11000000
11111000
11111111
01111111
00000000
00000000
00000000
00000000
NAME ketwig1 7

TIL hj
00000000
00000000
11100000
11111111
01111111
00111111
00011111
00000111
NAME ketwig1 8

TIL hk
10000000
10000000
10000000
10001111
11111111
11111111
11111111
11111111
NAME ketwig1 9

TIL hl
11111111
00000000
00000000
00000000
00000000
00000000
00011000
11111100
NAME ketwig1 10

TIL hm
11111111
11111111
11111100
11110000
11100000
11000000
10000001
10000111
NAME ketwig1 11

TIL hn
11111111
10000011
00000000
00000000
00000000
00000000
11111100
11111111
NAME ketwig1 12

TIL ho
11111100
11110000
01110000
00110000
01110000
00110000
01111000
01111110
NAME ketwig1 13

TIL hp
11111111
11101111
11000001
11000000
11100000
11100000
11100000
11100000
NAME ketwig1 14

TIL hq
00011111
00111111
01111111
01111111
01111110
11111100
11110000
11100000
NAME ketwig1 15

TIL hr
11111110
01111100
01111000
00000000
00000000
00000000
00000001
00001111
NAME ketwig1 16

TIL hs
11000000
11000000
10000000
00000000
00000000
00000000
00111100
01111111
NAME ketwig1 17

TIL ht
00001111
00001111
00111100
11111110
11111110
11111110
11111111
11111111
NAME ketwig1 18

TIL hu
11111111
11111111
11110001
00000000
00000001
00111111
11111111
11111111
NAME ketwig1 19

TIL hv
11111111
11111111
00000011
00000000
00000000
11111100
11111111
11111111
NAME ketwig1 20

TIL hw
11111111
11111111
11111111
11110001
00000001
00000001
00000011
00000011
NAME ketwig1 21

TIL hx
11111111
11111111
11111111
11111111
10011111
00111111
00111011
01100011
NAME ketwig1 22

TIL hy
00000000
00000000
00000000
00000000
00000000
11111100
00000011
00000011
NAME ketwig1 23

TIL hz
00000000
00000000
00110000
11110000
11100000
11100000
11100000
11100000
NAME ketwig1 24

TIL i0
00000111
00001111
00011111
00111100
00110000
00000000
00000000
00000000
NAME ketwig1 25

TIL i1
00000000
00000000
00000000
00000000
00001111
00001111
00000011
00000000
NAME ketwig1 26

TIL i2
00111011
00111110
00111110
00111100
00111100
00111100
00111000
00110000
NAME ketwig1 27

TIL i3
11110000
11111000
11111100
11111111
11111111
11111111
11111111
00100001
NAME ketwig1 28

TIL i4
00000011
00000011
00000011
00000001
00000000
00000000
11111000
11111100
NAME ketwig1 29

TIL i5
00000000
11000000
10000000
10100000
00100111
00011111
00011111
00011111
NAME ketwig1 30

TIL i6
11000000
11000000
11000000
11000000
11110000
11111111
11111111
11111111
NAME ketwig1 31

TIL i7
00000000
00000000
00100000
01100000
11100000
11100001
11100011
11111111
NAME ketwig1 32

TIL i8
11111111
11111100
01111000
01110000
11100000
11000000
00000000
00000000
NAME ketwig1 33

TIL i9
00000000
00000000
00000000
00000000
00001111
00111111
11111111
01111100
NAME ketwig1 34

TIL ia
00111000
01000000
01100000
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 35

TIL ib
00011111
00111111
00011111
00011111
00011011
11111111
11111111
11111110
NAME ketwig1 36

TIL ic
00000000
00000000
00000000
00000000
00000000
00011110
11111111
11111110
NAME ketwig1 37

TIL id
00000000
00000000
00000000
00000000
11110000
11111111
11111111
00000111
NAME ketwig1 38

TIL ie
00000000
00000000
00000000
00000000
00000000
00000000
00000000
11111111
NAME ketwig1 39

TIL if
00000011
00000011
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 40

TIL ig
11111101
11111001
00100000
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 41

TIL ih
11111111
11111111
01111100
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 42

TIL ii
00000000
00000000
00000000
00000000
00000000
00000111
00011111
01111111
NAME ketwig1 43

TIL ij
11111100
11111000
11110000
11110000
11111101
00111111
00001111
00000111
NAME ketwig1 44

TIL ik
00011000
01111000
11111000
11111000
11110000
11110000
11110000
11110000
NAME ketwig1 45

TIL il
11110000
11110000
11110000
11110000
01110000
01100000
11110000
11110001
NAME ketwig1 46

TIL im
11111111
11111111
11111111
01111100
00111000
00000000
00000000
00000000
NAME ketwig1 47

TIL in
11000000
11100000
11111111
01111111
00000000
00000000
00000000
00000000
NAME ketwig1 48

TIL io
00000000
00000000
11000000
11111110
01111111
00111111
00001111
00000111
NAME ketwig1 49

TIL ip
00000000
00000000
00000000
00000000
11110000
11111100
11111111
11111111
NAME ketwig1 50

TIL iq
00000000
00000000
00000000
00000000
00000000
00000000
00000001
00000111
NAME ketwig1 51

TIL ir
00000000
00000001
00000011
00011111
00111111
11111111
11111111
11111111
NAME ketwig1 52

TIL is
11111110
11111000
11110000
11100000
11100000
11100000
11100000
11100000
NAME ketwig1 53

TIL it
00110000
00110000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 54

TIL iu
00000001
00000000
00000000
00000001
00001111
00011111
00111111
01111111
NAME ketwig1 55

TIL iv
00011111
00011111
01111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 56

TIL iw
00000000
10000000
10000000
10001111
11111111
11111111
11111111
11111111
NAME ketwig1 57

TIL ix
11111111
01111111
01111111
01111110
11111110
11111100
11111100
11111000
NAME ketwig1 58

TIL iy
00000000
00000000
00000000
00000000
00000000
00000000
00000001
00001111
NAME ketwig1 59

TIL iz
00001111
00001111
00001111
00000111
00000011
00000011
00000011
00000011
NAME ketwig1 60

TIL j0
11110000
11111100
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 61

TIL j1
00000000
00000000
00000000
11000000
11110000
11111000
11111100
11111110
NAME ketwig1 62

TIL j2
00001111
00011111
01111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 63

TIL j3
11000000
11000000
11110110
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 64

TIL j4
00000111
00011111
00011111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 65

TIL j5
11111000
11111001
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 66

TIL j6
01111101
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 67

TIL j7
11110000
11111110
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 68

TIL j8
00000000
00000000
11110000
11111110
11111111
11111111
11111111
11111111
NAME ketwig1 69

TIL j9
00000000
00000000
00000000
00000000
11110000
11111100
11111100
11111111
NAME ketwig1 70

TIL ja
11111111
00000000
00000000
00000000
00000000
00000000
00001000
11111000
NAME ketwig1 71

TIL jb
11111111
11111111
01111111
00011111
00001111
00001111
00001111
00011111
NAME ketwig1 72

TIL jc
11111111
11111111
11111111
00111111
00011111
00001111
00000111
10000000
NAME ketwig1 73

TIL jd
11111111
11111111
11111111
11111111
11111111
11111100
11000000
00000000
NAME ketwig1 74

TIL je
11111111
11111111
11111111
10000001
00000000
00000000
00000000
00000000
NAME ketwig1 75

TIL jf
11111111
11111111
11111111
11111111
00111111
00011111
00001111
00000011
NAME ketwig1 76

TIL jg
10011111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 77

TIL jh
11100000
11110000
11110000
11111100
11111111
11111111
11111111
11111111
NAME ketwig1 78

TIL ji
00001111
00001111
00011111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 79

TIL jj
11100000
11000000
11100000
11110000
11111111
11111111
11111111
11111111
NAME ketwig1 80

TIL jk
00000000
00000000
00001111
00111111
11111111
11111111
11111111
11111111
NAME ketwig1 81

TIL jl
00000001
11000000
11110000
11111100
11111111
11111111
11111111
11111111
NAME ketwig1 82

TIL jm
11111111
11111111
01111111
00111111
00111111
11111111
11111111
11111111
NAME ketwig1 83

TIL jn
11111111
11111111
11111100
11111000
11111000
11110000
11110000
11111000
NAME ketwig1 84

TIL jo
11111100
11110000
00100000
00110000
00110000
00110000
01111000
01111110
NAME ketwig1 85

TIL jp
11111111
01111111
00100001
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 86

TIL jq
11111111
11100111
11000001
11000000
11000000
11100000
11100000
11100000
NAME ketwig1 87

TIL jr
11111111
11111111
11111111
00001111
00000111
00000000
00000000
00000000
NAME ketwig1 88

TIL js
01111100
11111000
11111000
11111000
11111101
11111111
11111111
11111111
NAME ketwig1 89

TIL jt
00000000
00000000
00000000
00001111
11111111
11111111
11111111
11111111
NAME ketwig1 90

TIL ju
11100000
11100000
11100000
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 91

TIL jv
00000000
00000000
00010000
11111000
11111111
11111111
11111111
11111111
NAME ketwig1 92

TIL jw
11111111
11111111
11111111
11111011
01111011
00000000
00000000
00000000
NAME ketwig1 93

TIL jx
11111111
11111111
11111111
11111111
11111111
11110000
10000000
00000000
NAME ketwig1 94

TIL jy
11111111
11111111
11111111
11111111
10000000
00000000
00000000
00000000
NAME ketwig1 95

TIL jz
11111111
11111111
11111111
11111111
01111111
00011111
00000111
00000000
NAME ketwig1 96

TIL k0
11111111
11111111
11111111
11111111
11111110
11111000
11110000
11000000
NAME ketwig1 97

TIL k1
11111111
11100000
10000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 98

TIL k2
11111111
00111111
00001111
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 99

TIL k3
11111111
11111111
11111111
01111111
00001111
00000000
00000000
00000000
NAME ketwig1 100

TIL k4
11111111
11111110
11111100
11111000
11110000
11100000
11000000
00000000
NAME ketwig1 101

TIL k5
00000010
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 102

TIL k6
00000000
00000000
00000000
00000000
00000000
00011110
11111111
11111111
NAME ketwig1 103

TIL k7
00000000
00000000
00000000
00000000
00001111
00111111
11111111
11111100
NAME ketwig1 104

TIL k8
11111111
11111001
00100000
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 105

TIL k9
00000000
00000000
00000000
00000000
00000001
00000111
00011111
01111111
NAME ketwig1 106

TIL ka
00111000
01001000
01100000
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 107

TIL kb
11110000
11110000
11110000
11110000
01110000
01110000
11110000
11110001
NAME ketwig1 108

TIL kc
00000000
00000000
11100000
11111110
01111111
00111111
00011111
00000111
NAME ketwig1 109

TIL kd
11111110
11111000
11110000
11100000
11100000
11100000
11110000
11100000
NAME ketwig1 110

TIL ke
00000011
00000000
00000000
00000011
00001111
00011111
00111111
01111111
NAME ketwig1 111

TIL kf
00011111
00011111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 112

TIL kg
11111111
01111111
01111111
01111110
11111110
11111100
11111100
11111100
NAME ketwig1 113

TIL kh
11000000
11000000
11111110
11111111
11111111
11111111
11111111
11111111
NAME ketwig1 114

TIL ki
11111111
00000000
00000000
00000000
00000000
00000000
00011000
11111000
NAME ketwig1 115

TIL kj
11111111
11111111
01111111
00111111
00001111
00001111
00001111
00011111
NAME ketwig1 116

TIL kk
00011111
00111111
00011111
00011111
00111011
11111111
11111111
11111111
NAME ketwig1 117

TIL kl
11100000
11110000
11110000
11111110
11111111
11111111
11111111
11111111
NAME ketwig1 118

TIL km
11111111
01111111
01100001
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 119

TIL kn
11111111
11100111
11000001
11000000
11100000
11100000
11100000
11100000
NAME ketwig1 120

TIL ko
11111111
11111111
11111111
11111111
01111011
00000000
00000000
00000000
NAME ketwig1 121

TIL kp
11111111
11111111
11111111
11111111
11111111
11111000
10000000
00000000
NAME ketwig1 122

TIL kq
00000111
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig1 123

TIL kr
11111110
11111110
01111110
11110111
11100111
00000000
00000000
00000000
NAME ketwig2 1

TIL ks
00000000
00000000
00000000
00000000
00000000
00000111
00011111
00111111
NAME ketwig2 2

TIL kt
00000000
00000000
00000000
00000000
01111111
11111111
11111111
11111111
NAME ketwig2 3

TIL ku
00000000
00000011
00000111
11111111
11111111
11111111
11111111
11111111
NAME ketwig2 4

TIL kv
00000000
00000000
11000000
11111111
11111111
11111111
11111111
11111111
NAME ketwig2 5

TIL kw
00000000
00000000
00000000
11000000
11100000
11110000
11110000
11110000
NAME ketwig2 6

TIL kx
00000000
00000000
00000000
00000000
00000000
00000011
00000111
00001111
NAME ketwig2 7

TIL ky
00000000
00000000
00000000
01111111
11111111
11111111
11111111
00000011
NAME ketwig2 8

TIL kz
00000000
00000000
00000000
11111000
11111111
11111111
11111111
11001111
NAME ketwig2 9

TIL l0
00000000
00000000
00000000
00000000
00000000
11111000
11111111
11111111
NAME ketwig2 10

TIL l1
00000000
00000001
00000111
00111111
11111111
11111111
11111111
11111111
NAME ketwig2 11

TIL l2
11111111
11101111
10001111
10011111
11111111
11111111
11111111
11111111
NAME ketwig2 12

TIL l3
11111000
11110000
11000000
11000000
10000000
10000000
00000000
00000000
NAME ketwig2 13

TIL l4
11110000
11110000
01110000
00110000
00110000
00100000
00110000
01110000
NAME ketwig2 14

TIL l5
00011110
00011100
00011100
00011000
00011000
00011000
00011000
00011000
NAME ketwig2 15

TIL l6
00000011
00000000
00000000
00000001
00000000
00000000
00000000
00000000
NAME ketwig2 16

TIL l7
10000000
00000000
00000000
10000000
00000000
00000000
11111000
11111100
NAME ketwig2 17

TIL l8
00111111
00001111
00000001
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 18

TIL l9
11111111
11111111
11111111
11100111
01100011
01110001
00110000
00111000
NAME ketwig2 19

TIL la
11000000
11110000
11111100
11111111
11111111
11111111
00011111
00001111
NAME ketwig2 20

TIL lb
00000000
00000000
00000000
00000000
11000000
11110000
11111110
11111111
NAME ketwig2 21

TIL lc
11111111
11111111
11111111
11111111
11111111
11111111
00111111
00111111
NAME ketwig2 22

TIL ld
11111111
11111111
11111111
11111111
11111111
11111111
11111111
11111011
NAME ketwig2 23

TIL le
11111100
11111100
11111100
11111100
11111111
11111111
11111111
11111111
NAME ketwig2 24

TIL lf
00000000
00000000
00011111
01111111
11111111
11111111
11111111
11111111
NAME ketwig2 25

TIL lg
01110000
11110000
11110000
11111100
11111111
11111111
11111111
11111111
NAME ketwig2 26

TIL lh
00011000
00111000
01111000
11111100
11111110
11111111
11111111
11111111
NAME ketwig2 27

TIL li
11111111
11111111
11111111
11111111
11111111
11000011
00000000
00000000
NAME ketwig2 28

TIL lj
00000000
11111000
11111100
11111110
11111111
11111111
11111111
11111111
NAME ketwig2 29

TIL lk
01111000
01110000
01100000
00000000
00000000
10000000
10000000
10000000
NAME ketwig2 30

TIL ll
00000111
00000011
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 31

TIL lm
11111111
11111111
01111111
00111111
00111000
00011000
00011000
00001000
NAME ketwig2 32

TIL ln
11000000
11100000
11110000
11111000
11111110
00111110
00011111
00001111
NAME ketwig2 33

TIL lo
00111111
00011111
00011111
00011111
00111111
00111111
01111111
11111111
NAME ketwig2 34

TIL lp
11111111
11111111
11111111
11111000
11110000
11100000
10000000
00000000
NAME ketwig2 35

TIL lq
11110001
11000000
00000000
00000000
00000000
00000000
00000000
00000001
NAME ketwig2 36

TIL lr
11111111
11111111
01111111
01111111
01111111
01111111
11111111
11111111
NAME ketwig2 37

TIL ls
11111000
11111100
11111100
11111110
11111111
11111111
11111111
11111111
NAME ketwig2 38

TIL lt
01111111
01111111
00111111
00011111
00001111
00000000
00000000
00000000
NAME ketwig2 39

TIL lu
11111111
11111111
11111111
11111111
11111111
00111111
00001111
00000111
NAME ketwig2 40

TIL lv
11110000
11111100
11111100
11111110
11111111
11111111
11111111
11111111
NAME ketwig2 41

TIL lw
00000000
00000000
00000000
00000000
00000000
11000000
11100000
11110000
NAME ketwig2 42

TIL lx
11111111
11111110
11111100
11110000
11100000
11000000
10000000
00000000
NAME ketwig2 43

TIL ly
00000001
00000011
00001111
00011111
00111111
01111111
11111111
11111111
NAME ketwig2 44

TIL lz
11111111
11111111
11111111
11111111
11111111
11111100
11111100
11111100
NAME ketwig2 45

TIL m0
11111111
11111111
11111111
11111111
00111111
00111111
01111111
11111111
NAME ketwig2 46

TIL m1
11111111
11111111
11111111
11111110
11111100
11111100
11111110
11111111
NAME ketwig2 47

TIL m2
11110000
11111000
01111100
01111110
00111111
00011111
00001111
00000011
NAME ketwig2 48

TIL m3
11111111
11111111
11111111
01111111
01111111
00111111
00111111
00011111
NAME ketwig2 49

TIL m4
00000000
00000000
00000000
00000000
00000000
10000000
11000000
11100000
NAME ketwig2 50

TIL m5
11111110
11111000
11111000
11110000
11100000
11000011
11000011
11000111
NAME ketwig2 51

TIL m6
00000000
00000111
00011111
00111111
11111111
11111111
11111111
11111111
NAME ketwig2 52

TIL m7
11111111
11111111
11111111
11111111
11111111
11111111
11111100
11111000
NAME ketwig2 53

TIL m8
11111110
11111110
11111111
11111111
11110011
00000011
00000011
00000011
NAME ketwig2 54

TIL m9
11111100
11100000
11100000
11000000
11000000
11000000
11000000
11100000
NAME ketwig2 55

TIL ma
00000011
00000001
00000001
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 56

TIL mb
11111000
11111000
11111100
11111111
11111111
01111111
01111111
01111111
NAME ketwig2 57

TIL mc
00000000
00000000
00000000
11110000
11111100
11111111
11111111
11111111
NAME ketwig2 58

TIL md
00001111
00001111
00000011
00000001
00000000
00000000
11000000
11100000
NAME ketwig2 59

TIL me
11100000
11110000
11110000
11111000
11111000
11111100
11111110
11111111
NAME ketwig2 60

TIL mf
10001111
10011111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig2 61

TIL mg
11111000
11111000
11111000
11110000
11110000
11111000
11111000
11111000
NAME ketwig2 62

TIL mh
01000111
01110111
00111011
00111111
00111111
00111111
00111111
00001111
NAME ketwig2 63

TIL mi
11111111
11111111
11111111
11111111
11111111
11111111
11111111
10001111
NAME ketwig2 64

TIL mj
11100000
11000000
10000000
10000000
11000000
11000000
10000000
10000000
NAME ketwig2 65

TIL mk
01111111
01111111
00111111
00011111
00011111
00001111
00000111
00000011
NAME ketwig2 66

TIL ml
11111111
11111111
11111111
11111111
11111111
10111111
10111111
10011111
NAME ketwig2 67

TIL mm
11110000
11111000
11111110
11111111
11111111
11111111
11111111
11111111
NAME ketwig2 68

TIL mn
00111111
00011111
00001111
00001111
10000111
10000111
10000111
10000111
NAME ketwig2 69

TIL mo
11111111
11111111
11111111
11111011
11111001
11111001
11111111
11111111
NAME ketwig2 70

TIL mp
00000111
00000111
00000111
00001111
10001111
10001111
10001111
10001111
NAME ketwig2 71

TIL mq
11111111
11111111
11111110
11111000
11110000
11100000
11000000
10000000
NAME ketwig2 72

TIL mr
00001111
00000111
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 73

TIL ms
11111111
01111001
00000000
00000000
00000000
00000001
00000000
00000000
NAME ketwig2 74

TIL mt
00000000
00000000
00000000
00000000
00000000
11000000
10000000
00000000
NAME ketwig2 75

TIL mu
00000001
00000000
00000000
00000000
00000000
01110000
11111100
11111111
NAME ketwig2 76

TIL mv
10111111
00111111
00111111
00011111
00011111
00011111
01111111
11111111
NAME ketwig2 77

TIL mw
10000011
11100011
11100001
11100001
11100001
11000001
11000001
11000001
NAME ketwig2 78

TIL mx
10011111
11111111
11111110
11111110
11111110
11111100
11111110
11111110
NAME ketwig2 79

TIL my
00000000
00000100
00000110
00000110
00000111
00001111
00001111
00001111
NAME ketwig2 80

TIL mz
00000001
00000111
00001111
00111111
11111111
11111111
11111111
11111111
NAME ketwig2 81

TIL n0
11111111
11111111
11111110
11111100
11111000
11111000
11110000
11110000
NAME ketwig2 82

TIL n1
11000001
00000001
00000001
00000001
00000111
00001111
00111111
01111111
NAME ketwig2 83

TIL n2
00000000
10001110
11111111
11111111
11111111
11111111
11111110
11111110
NAME ketwig2 84

TIL n3
11100000
11100000
11000000
11000000
11000011
11000011
11000011
11100111
NAME ketwig2 85

TIL n4
00001111
00001111
00001111
00011111
11111111
11111111
11111111
11111111
NAME ketwig2 86

TIL n5
11100000
11000000
11000001
10000011
10000111
11001111
11111111
11111111
NAME ketwig2 87

TIL n6
11101111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig2 88

TIL n7
11111110
11110000
11000000
10000000
10000000
10000000
00000000
00000000
NAME ketwig2 89

TIL n8
01111100
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 90

TIL n9
01111111
00001111
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 91

TIL na
11111111
11111111
01111111
00111111
00111111
00111111
00111111
00111111
NAME ketwig2 92

TIL nb
11111111
11111111
11111111
11111111
11110000
11100000
11100000
11000000
NAME ketwig2 93

TIL nc
00000000
00000000
10000000
10000000
00111000
00111100
00111100
00011000
NAME ketwig2 94

TIL nd
00000000
00000000
00000000
00011000
00000000
00000000
00000000
00000000
NAME ketwig2 95

TIL ne
00111111
00111111
01111111
00111110
00000000
00000000
00000000
00000000
NAME ketwig2 96

TIL nf
11111111
11111111
10000011
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 97

TIL ng
11111111
11111111
11111111
00001111
00000000
00000000
00000000
00000000
NAME ketwig2 98

TIL nh
11111111
11111111
11111111
11111111
00111111
00001111
00000111
00000011
NAME ketwig2 99

TIL ni
11111111
11111111
11111111
11111111
11111111
11111100
11111100
11111000
NAME ketwig2 100

TIL nj
11111111
11111111
11111111
11100000
00000000
00000000
00000000
00000000
NAME ketwig2 101

TIL nk
11111111
11111111
11111111
11111111
00001111
00000011
00000000
00000000
NAME ketwig2 102

TIL nl
11111111
11111111
11111111
11111111
11111100
11111000
11000000
00000000
NAME ketwig2 103

TIL nm
00000000
00000000
00000000
00000000
00000000
00011000
00011100
00011100
NAME ketwig2 104

TIL nn
00000000
00000000
00000000
00000000
00000000
00110001
01111111
01111111
NAME ketwig2 105

TIL no
00000000
00000000
00000000
00000000
00000000
11000000
11100000
11100000
NAME ketwig2 106

TIL np
11000100
01100100
00110100
01100110
00000000
00000000
00000000
00000000
NAME ketwig2 107

TIL nq
00000000
00000000
00000000
00000000
00000000
00000001
00001111
00011111
NAME ketwig2 108

TIL nr
00000000
00000010
11111111
11111111
11001111
11001111
11000111
11000001
NAME ketwig2 109

TIL ns
00000000
00000000
00000000
11111111
11111111
11111111
11111111
11110000
NAME ketwig2 110

TIL nt
00000000
00000000
00000000
00000000
11100000
11100000
11100000
11100000
NAME ketwig2 111

TIL nu
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000100
NAME ketwig2 112

TIL nv
00000000
00000000
00000000
00000000
00111111
00001111
00000011
00000001
NAME ketwig2 113

TIL nw
00000000
00000000
00000000
00000000
11111100
11111111
11000000
00000000
NAME ketwig2 114

TIL nx
00000000
00000000
00000000
00000000
00000000
00000000
01110000
00001000
NAME ketwig2 115

TIL ny
00000000
00000000
00000001
00011111
01111111
11111111
11111111
11111111
NAME ketwig2 116

TIL nz
11111111
11111111
11111111
11111111
11111111
11111111
10011101
10111111
NAME ketwig2 117

TIL o0
10000001
00000001
00000000
00000000
10000111
10011111
11111111
11111111
NAME ketwig2 118

TIL o1
11111111
11111111
11111111
11111111
11111111
11111110
11111110
11111100
NAME ketwig2 119

TIL o2
01100000
00100000
00100000
00000000
00000000
00000000
00000000
00100000
NAME ketwig2 120

TIL o3
00001100
00011000
00011000
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 121

TIL o4
11111111
01111111
01001111
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 122

TIL o5
10000000
11000000
11110000
00011110
00000010
00000001
00000001
00000001
NAME ketwig2 123

TIL o6
00000000
00000000
00000000
00000000
00000000
11100000
11111000
11111110
NAME ketwig2 124

TIL o7
11111111
11111110
11111100
11000000
10000000
00000000
00000000
00000000
NAME ketwig2 125

TIL o8
11110011
11100001
00000001
00000001
00010001
00011011
00111111
00111111
NAME ketwig2 126

TIL o9
11111011
11111011
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig2 127

TIL oa
11111111
11111111
11111111
11111111
11111111
11110011
11110001
11100000
NAME ketwig2 128

TIL ob
11111000
11111000
11111000
11111000
11111000
11111111
11111111
11111111
NAME ketwig2 129

TIL oc
00000000
00000000
00000000
00001111
01111111
11111111
11111111
11111111
NAME ketwig2 130

TIL od
00100000
01100000
11110000
11110000
11111111
11111111
11111111
11111111
NAME ketwig2 131

TIL oe
00000000
00000000
00010000
01111000
11111100
11111100
11111111
11111111
NAME ketwig2 132

TIL of
00000000
00010000
00000000
00000011
00000000
00000000
00000000
00000000
NAME ketwig2 133

TIL og
00000000
00000000
00000000
00000000
00000000
00111100
01111110
01111111
NAME ketwig2 134

TIL oh
11111111
00111111
00011110
00000000
00000000
00000000
00000000
00000000
NAME ketwig2 135

TIL oi
00000000
10000000
11100000
01111000
00011100
00001100
00001110
00000000
NAME ketwig2 136

TIL oj
00000111
00000111
00000111
00000111
00000111
00000111
00001111
00111111
NAME ketwig2 137

TIL ok
11111111
11111110
11111000
11100000
10000000
10000000
00000000
00000000
NAME ketwig2 138

TIL ol
01111111
00111111
00111111
00111111
00111111
00111111
00111111
00011111
NAME ketwig2 139

TIL om
11100000
11110000
11111000
11111000
11111100
11111100
11111000
11111000
NAME ketwig2 140

TIL on
00111111
00011111
00011111
00000111
00000000
00000000
00000000
00000000
NAME ketwig2 141

TIL oo
10000000
11111111
11111111
11111111
00111111
00001111
00000011
00000001
NAME ketwig2 142

TIL op
00000000
00000000
11111000
11111000
11111100
11111111
11111111
11111111
NAME ketwig2 143

TIL oq
11111100
11111100
11110000
11100000
11000000
10000000
00000000
00000000
NAME ketwig2 144

TIL or
00000000
00000001
00000011
00000111
00011111
00111111
01111111
01111111
NAME ketwig2 145

TIL os
00011111
10001111
11000111
11000000
11000000
11000000
11000000
11000000
NAME ketwig2 146

TIL ot
11111111
11111111
00111111
00011111
00011111
00011111
00011111
00011111
NAME ketwig2 147

TIL ou
11100111
11100011
11100001
11110001
11111110
11111111
11111111
11111111
NAME ketwig2 148

TIL ov
11110000
11000000
10000000
00000000
00000000
10000000
10000000
10000000
NAME ketwig2 149

TIL ow
00000000
00000000
00010000
00011000
00001110
00000011
00000011
00000001
NAME ketwig2 150

TIL ox
11111111
11111111
01111111
00111111
00111111
00011111
00011111
00001111
NAME ketwig2 151

TIL oy
11110000
11111000
11111000
11111100
11111110
11111111
11111111
11111111
NAME ketwig2 152

TIL oz
11111000
11110000
11100000
11100000
11000000
10000000
10000001
10000011
NAME ketwig2 153

TIL p0
00000000
00000000
00000111
00001111
00111111
11111111
11111111
11111111
NAME ketwig2 154

TIL p1
00000011
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig2 155

TIL p2
11111110
11111100
11111100
11111000
11111000
11110000
11110000
11110000
NAME ketwig2 156

TIL p3
00001111
00001111
00001111
00011111
00011111
01111111
11111111
11111111
NAME ketwig2 157

TIL p4
11000000
10000000
10000000
10000000
10000000
10000000
10000000
10000000
NAME ketwig2 158

TIL p5
11100000
11110000
11111000
01111100
01111111
01111111
00111111
00111111
NAME ketwig2 159

TIL p6
00000111
00000011
00000001
00000000
00000000
00000000
00000000
11000000
NAME ketwig2 160

TIL p7
11100000
11100000
11100000
11100000
11110000
11111000
11111000
11111100
NAME ketwig2 161

TIL p8
11111111
11111111
11111110
11111110
11111110
11111110
11111110
11111110
NAME ketwig2 162

TIL p9
00000111
00001111
00011111
00111111
00111111
01111111
01111111
11111111
NAME ketwig2 163

TIL pa
11111111
11111111
11111111
11111111
11111111
11111110
11111100
11111100
NAME ketwig2 164

TIL pb
11110000
11110000
11100000
11000000
00000000
00000000
00000000
00100000
NAME ketwig2 165

TIL pc
11111111
11111111
11111111
11111111
00111111
00000000
00000000
00000000
NAME ketwig2 166

TIL pd
11111111
11111111
11111111
11111111
11111111
00111111
00001111
00001111
NAME ketwig2 167

TIL pe
11111111
11111110
11111110
11111110
11111110
11111110
11111100
11111000
NAME ketwig2 168

TIL pf
00111111
00011111
00001111
00001111
00000111
00000000
00000000
00000000
NAME ketwig2 169

TIL pg
11111111
11111111
11111111
11111111
00011111
00001111
00001111
00001111
NAME ketwig2 170

TIL ph
11100000
11110000
11111000
11111100
11111110
11111110
11111111
11111111
NAME ketwig2 171

TIL pi
00011111
00001111
00001111
00000111
00000111
00000011
00000011
00000011
NAME ketwig2 172

TIL pj
11111101
11111001
11111001
11110000
11110000
11110000
11110000
11111000
NAME ketwig2 173

TIL pk
01110000
11111000
11111000
11111100
11111100
11111110
11111110
11111110
NAME ketwig2 174

TIL pl
00000000
00000000
00000000
00000000
00000001
00000001
00000000
00000000
NAME ketwig2 175

TIL pm
00000000
00000000
00000000
00000000
00000000
00000000
00000000
11111000
NAME ketwig2 176

TIL pn
00001111
00001111
00001111
00001111
00001111
00001111
00001111
00011111
NAME ketwig2 177

TIL po
00000001
00000001
10000000
10000000
10000000
10000000
10000000
10000000
NAME ketwig2 178

TIL pp
11111111
11111111
11111111
11111111
11111111
11111111
11111111
10000001
NAME ketwig2 179

TIL pq
00000000
00000000
10000000
11111000
11111000
11111000
11111000
11111100
NAME ketwig2 180

TIL pr
00000000
00000001
00000011
00001111
00001111
00000111
10000111
10000111
NAME ketwig2 181

TIL ps
11111111
11111110
11111100
11111000
11110000
11110000
11100000
11000000
NAME ketwig2 182

TIL pt
00000000
00000000
00000000
00000001
00000001
00000011
00001111
00011111
NAME ketwig2 183

TIL pu
10000000
10000000
11000000
11100000
11100000
11110000
11111000
11111111
NAME ketwig2 184

TIL pv
11111111
11111111
01111111
00111111
00111111
00011111
00011111
00111111
NAME ketwig2 185

TIL pw
00000000
00000000
00000000
11000001
11111110
11111100
11111000
11111000
NAME ketwig2 186

TIL px
00000000
00000000
00011110
11111111
11111111
11111111
01111111
01111111
NAME ketwig2 187

TIL py
00000000
00000000
00000000
00000000
10000000
10000000
10000001
11000001
NAME ketwig2 188

TIL pz
00000011
00000011
00000111
00000111
00001111
00001111
11111111
11111111
NAME ketwig2 189

TIL q0
11000111
11000111
11000011
11100011
11000011
11001111
11111111
11111111
NAME ketwig2 190

TIL q1
11000000
10000000
10000000
00000001
00000011
10000111
10001111
11011111
NAME ketwig2 191

TIL q2
11111000
11111111
11111111
11111111
11111111
11111111
11111111
11111110
NAME ketwig2 192

TIL q3
01111111
11111111
11111111
11111111
11111111
11111111
11111111
01111111
NAME ketwig2 193

TIL q4
11000011
11100011
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig2 194

TIL q5
11111111
01111111
00011111
00011111
00011111
00011111
00011111
00011111
NAME ketwig2 195

TIL q6
11111111
11111111
11111111
11111111
11100000
11000000
11000000
11000000
NAME ketwig2 196

TIL q7
00011111
00011111
00011110
00001100
00000000
00000000
00000000
00000000
NAME ketwig2 197

TIL q8
11111111
11111111
00011111
00000011
00000000
00000000
00000000
00000000
NAME ketwig2 198

TIL q9
11111111
11111111
11111111
11111111
00001111
00000111
00000001
00000000
NAME ketwig2 199

TIL qa
11111111
11111111
11111111
11111111
11111110
11111000
11111000
01100000
NAME ketwig2 200

TIL qb
11111111
11111111
11111111
00001111
00000111
00000001
00000000
00000000
NAME ketwig2 201

TIL qc
11111111
11111111
11111111
11111110
11111100
11100000
10000000
00000000
NAME ketwig2 202

TIL qd
00000000
00000000
00000000
00000000
00000000
00000000
00011000
00011100
NAME ketwig2 203

TIL qe
00000000
00000000
00000000
00000000
00000000
00000000
00110001
01110001
NAME ketwig2 204

TIL qf
00000000
00000000
00000000
00000000
00000000
00000000
11000000
11000000
NAME ketwig2 205

TIL qg
00000000
00000000
00000000
00000000
00000000
00000000
00000000
01111111
NAME ketwig3 1

TIL qh
11111111
11111111
11111100
10000000
00000000
00000000
00000000
00000000
NAME ketwig3 2

TIL qi
11111100
10111100
00011000
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 3

TIL qj
00000000
00000000
00000001
00001111
00011111
01111111
11111111
11111111
NAME ketwig3 4

TIL qk
00000000
00000000
00000000
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 5

TIL ql
00000000
00000000
00000000
00000000
10000000
11100000
11110000
11111100
NAME ketwig3 6

TIL qm
00000000
00000000
00000000
00000000
01111100
11111111
11110000
11100000
NAME ketwig3 7

TIL qn
00000000
00000000
00000000
00000000
11111110
11111111
01111111
00000000
NAME ketwig3 8

TIL qo
00000000
00000000
00000000
00000000
00000000
10000000
11110000
00111100
NAME ketwig3 9

TIL qp
00000000
11110001
11111111
11111111
11110001
11111111
01111111
00111111
NAME ketwig3 10

TIL qq
01000000
11100000
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 11

TIL qr
00000000
00000000
10000000
11000000
11111000
11111100
11111111
11111111
NAME ketwig3 12

TIL qs
00000011
00000011
00000001
00000000
00000000
00000000
00000000
10000000
NAME ketwig3 13

TIL qt
11000000
11000000
11100000
01100000
00100000
00100000
00110000
00111000
NAME ketwig3 14

TIL qu
00000000
00000000
01110000
00011000
00011111
00001111
00001111
00001111
NAME ketwig3 15

TIL qv
11000000
11110000
11110000
11111000
11111110
11111110
11111111
11111111
NAME ketwig3 16

TIL qw
00111000
00111100
00111110
00011111
00011111
00011111
00001111
00001111
NAME ketwig3 17

TIL qx
00000000
00000000
00000000
00011000
00011100
00111100
01111100
11111111
NAME ketwig3 18

TIL qy
00001111
00000110
00001110
00011111
00111111
01111111
01111111
11111110
NAME ketwig3 19

TIL qz
11110000
01111000
01111000
11111110
11000000
10000000
00000000
00000000
NAME ketwig3 20

TIL r0
00000000
00000000
00000000
00000000
10000000
10000000
00000000
00000000
NAME ketwig3 21

TIL r1
00001111
00000111
00000111
10000111
10001111
11111111
11111111
11111111
NAME ketwig3 22

TIL r2
11110001
11110001
10000001
00000001
00000011
00000011
00000011
00000111
NAME ketwig3 23

TIL r3
11111100
11111100
11111000
11110000
11000000
10000000
00000000
00000000
NAME ketwig3 24

TIL r4
00000111
00000111
10000111
10000111
11000111
11111111
11111111
11111111
NAME ketwig3 25

TIL r5
00000000
00000000
00000000
00000000
00000000
10000000
10000000
10000000
NAME ketwig3 26

TIL r6
11000000
11110000
11111100
11111110
11111110
11111100
11111100
11111100
NAME ketwig3 27

TIL r7
11111000
11111000
11110000
11111001
11111001
11111111
11111111
11111111
NAME ketwig3 28

TIL r8
11111000
11111000
11111000
11111000
11111100
11111110
11111111
11111111
NAME ketwig3 29

TIL r9
00000000
00000000
00000000
00000000
00001110
00000000
11110000
11100000
NAME ketwig3 30

TIL ra
11111111
11111111
11111111
11111110
11000000
00000000
00000000
00000000
NAME ketwig3 31

TIL rb
11111111
11111111
11111111
01111111
00111111
00011111
00011111
00011111
NAME ketwig3 32

TIL rc
11111111
11111111
11111111
11111110
11111110
11111110
11111110
11111100
NAME ketwig3 33

TIL rd
11100000
11000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 34

TIL re
11111111
11111111
11111111
11111111
11111111
11111111
01111111
01111111
NAME ketwig3 35

TIL rf
11111111
11111111
11111110
11111110
11111100
11111100
11111110
11111111
NAME ketwig3 36

TIL rg
10011111
00001111
00000111
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 37

TIL rh
11111111
10011111
00011111
00000110
00000000
00000000
00000000
00000000
NAME ketwig3 38

TIL ri
11111111
11111111
11111111
11111111
01101111
01011111
01111111
11111111
NAME ketwig3 39

TIL rj
11111100
11111100
11111000
11111000
11111000
11110000
11110000
11100000
NAME ketwig3 40

TIL rk
11111110
11111110
11111110
11111110
11111110
11111100
11111000
11110000
NAME ketwig3 41

TIL rl
00111111
00111111
00011111
00001111
00000111
00000111
00000011
00000011
NAME ketwig3 42

TIL rm
10000000
11111110
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 43

TIL rn
00000001
00000001
00000001
00000000
11000000
11110000
11111111
11111111
NAME ketwig3 44

TIL ro
11111111
11111111
00011111
00001111
00001111
00001111
00011111
11111111
NAME ketwig3 45

TIL rp
11000000
11000000
10000000
10000000
00000000
00000000
00000000
00000000
NAME ketwig3 46

TIL rq
00000111
00000111
00000111
00000111
00000011
00000011
00000001
00000000
NAME ketwig3 47

TIL rr
11111111
11111111
11111111
11111111
11111100
11111000
11110000
11100000
NAME ketwig3 48

TIL rs
11110000
11110000
11100000
10000000
00000000
00000000
00000000
00000000
NAME ketwig3 49

TIL rt
11111111
11111111
01111111
00011111
00000001
00000000
00000000
00000011
NAME ketwig3 50

TIL ru
11111111
11111111
11111111
11111111
11111111
01111111
00001111
00000000
NAME ketwig3 51

TIL rv
11111111
11111111
11111111
11111111
11111111
11111111
11111111
00011111
NAME ketwig3 52

TIL rw
11111111
11111111
11111111
11111111
11111111
11000011
00000011
00000111
NAME ketwig3 53

TIL rx
10000000
11000000
11110000
01111111
00111111
00011111
00001111
00000000
NAME ketwig3 54

TIL ry
00011111
00001111
00011111
00111111
11111111
11111111
11111111
00000000
NAME ketwig3 55

TIL rz
11111110
11111110
11111111
11111111
11111111
11111100
11100000
00000000
NAME ketwig3 56

TIL s0
00000111
00001111
00001111
10011111
11111100
00000000
00000000
00000000
NAME ketwig3 57

TIL s1
11110000
11100000
11000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 58

TIL s2
00000000
00000000
00000000
00000001
00000001
00000001
00000001
00000001
NAME ketwig3 59

TIL s3
00000000
00000000
00000000
10000000
11000000
11000000
11000000
11000000
NAME ketwig3 60

TIL s4
00000000
00000000
00000000
00000111
00011111
01111111
11111111
11111110
NAME ketwig3 61

TIL s5
00011111
00111111
11111111
11111100
11100000
11000000
00000000
00000000
NAME ketwig3 62

TIL s6
11111111
11111111
11110000
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 63

TIL s7
11100000
11100000
11000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 64

TIL s8
00000000
00000000
00000000
00000000
00000000
00000011
00001111
00111111
NAME ketwig3 65

TIL s9
00000000
00000000
00000000
11100000
11111100
11111111
11111111
11111111
NAME ketwig3 66

TIL sa
00000000
00000000
00000000
00000000
00000000
10000000
11000000
11110000
NAME ketwig3 67

TIL sb
00000000
00000000
00000000
00000000
11110001
11111111
11100001
10000000
NAME ketwig3 68

TIL sc
00000000
00000000
00000000
00000000
11111100
11111110
11111111
00000000
NAME ketwig3 69

TIL sd
00000000
00000000
00000000
00000000
00000000
00000000
11100000
01110000
NAME ketwig3 70

TIL se
00000111
00001110
00111000
01110000
11000000
11000000
11000000
11000000
NAME ketwig3 71

TIL sf
00000000
00000111
00001111
00001111
00001111
00000111
00000011
00000001
NAME ketwig3 72

TIL sg
00000010
10001111
11111111
11111111
10001111
11111111
11111111
11111111
NAME ketwig3 73

TIL sh
11111000
11111100
11111110
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 74

TIL si
00000000
00000000
00000000
00000000
11100000
11110000
11111100
11111110
NAME ketwig3 75

TIL sj
00001111
00001111
00000111
00000001
00000000
00000000
00000000
00000000
NAME ketwig3 76

TIL sk
00000000
00000000
10000000
10000000
10000000
10000000
11000000
11100000
NAME ketwig3 77

TIL sl
00111110
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 78

TIL sm
11100000
11110000
11110001
11111001
11111111
11111111
11111111
11111111
NAME ketwig3 79

TIL sn
00000001
00000011
00001111
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 80

TIL so
00000000
11000000
11100000
11110000
11111000
11111000
11111100
11111100
NAME ketwig3 81

TIL sp
11110000
11110000
01111000
01111100
01111100
00111110
00111111
00111111
NAME ketwig3 82

TIL sq
00000000
00000000
00000000
00000000
00000000
00000000
11000001
11100011
NAME ketwig3 83

TIL sr
00000000
00000000
00000000
01100000
01110000
01111000
11111001
11111111
NAME ketwig3 84

TIL ss
00011111
00011111
00011111
00011110
00111100
11111100
11111100
11111100
NAME ketwig3 85

TIL st
11100111
11000111
00000111
00000111
00000111
00001111
00001111
00001111
NAME ketwig3 86

TIL su
11111100
11111110
11111110
11111110
11111111
11111111
11111111
11111111
NAME ketwig3 87

TIL sv
00011111
00001111
00001111
00001111
10011111
11111111
11111111
11111111
NAME ketwig3 88

TIL sw
11111100
11111100
11111100
11111110
11111110
11111110
11111110
11111111
NAME ketwig3 89

TIL sx
11111111
11111111
11111111
11111111
11111111
11111101
11111101
11111001
NAME ketwig3 90

TIL sy
11111111
11111111
11111111
11111111
11111111
11111111
11110011
11100001
NAME ketwig3 91

TIL sz
11111001
11110001
11110001
11110001
11110011
11110011
11110011
11111111
NAME ketwig3 92

TIL t0
11100011
11100011
11100011
11100011
11100011
11111111
11111111
11111111
NAME ketwig3 93

TIL t1
11111111
11111111
11111111
10011111
10011111
10111111
11111110
11111110
NAME ketwig3 94

TIL t2
11111111
11111111
11111111
11111111
11111111
11111111
00011111
00001111
NAME ketwig3 95

TIL t3
11111111
11111111
11111111
11111111
11111111
11111100
11111000
11110000
NAME ketwig3 96

TIL t4
11111111
11111111
11111111
11111111
01111111
01111111
01111111
01111111
NAME ketwig3 97

TIL t5
11111110
11111100
11111100
11111100
11111000
11111000
11111000
11111000
NAME ketwig3 98

TIL t6
00001111
00001111
00001111
00001111
00000111
00000111
00000011
00000011
NAME ketwig3 99

TIL t7
11111110
11111000
11111000
11110000
11110000
11110000
11110000
11111000
NAME ketwig3 100

TIL t8
11111111
00111110
00011000
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 101

TIL t9
11111111
11111111
01111111
00110011
00000001
00000001
00000001
00000111
NAME ketwig3 102

TIL ta
11111111
11111111
11111111
11111111
00111111
01111111
11111111
11111111
NAME ketwig3 103

TIL tb
11110000
11110000
11100000
11100000
11100000
11000000
11000000
10000000
NAME ketwig3 104

TIL tc
01111111
01111111
01111111
01111111
00111111
00111111
00111111
00011111
NAME ketwig3 105

TIL td
11111000
11111000
11110000
11110000
11000000
00000000
00000000
00000000
NAME ketwig3 106

TIL te
00000001
00000001
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 107

TIL tf
11111111
11111111
11111111
01111111
00111111
00011111
00011111
00001111
NAME ketwig3 108

TIL tg
00000000
11110000
11111000
11111100
11111110
11111111
11111111
11111111
NAME ketwig3 109

TIL th
00000111
00000111
00000000
00000000
00000000
10000000
11111100
11111111
NAME ketwig3 110

TIL ti
11111111
11111111
11111111
00111111
00111111
00111111
01111111
11111111
NAME ketwig3 111

TIL tj
11111111
11111111
11111110
11111110
11111100
11111000
11110000
11100000
NAME ketwig3 112

TIL tk
00011111
00011111
00011111
00001111
00001111
00000111
00000111
00000011
NAME ketwig3 113

TIL tl
11111111
11111111
11111111
11111111
11111000
11110000
11100000
11000000
NAME ketwig3 114

TIL tm
00001111
00000111
00000011
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 115

TIL tn
11111111
11111111
11111111
11111111
00001111
00000001
00000000
00011000
NAME ketwig3 116

TIL to
11111111
11111111
11111111
11111111
11111111
11111111
01111111
00000000
NAME ketwig3 117

TIL tp
11111111
11111111
11111111
11111111
11111111
00001111
00001111
00011111
NAME ketwig3 118

TIL tq
00001100
00001110
00000111
00000011
00000001
00000000
00000000
00000000
NAME ketwig3 119

TIL tr
00000000
00000000
10000000
11111001
11111111
01111111
01111111
00000000
NAME ketwig3 120

TIL ts
01111111
01111111
11111111
11111111
11111111
11111111
11111111
00000000
NAME ketwig3 121

TIL tt
11111000
11111000
11111100
11111110
11111111
11110000
10000000
00000000
NAME ketwig3 122

TIL tu
00011111
00111111
00111110
11111100
11110000
00000000
00000000
00000000
NAME ketwig3 123

TIL tv
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00011111
NAME ketwig3 124

TIL tw
00000000
00000000
00000000
00000000
00000000
00000000
00111111
11111111
NAME ketwig3 125

TIL tx
00000000
00000000
00000000
00000000
00000000
00000001
00000011
00001111
NAME ketwig3 126

TIL ty
00000000
00000001
00000111
00111111
01111111
11111111
11111111
11111111
NAME ketwig3 127

TIL tz
01111111
11111111
11111111
11111111
11111111
11111000
11110000
11111111
NAME ketwig3 128

TIL u0
11111111
11111111
11111111
11110001
10000001
00000001
00000011
11000111
NAME ketwig3 129

TIL u1
11110000
11110000
11110000
11100000
11100000
11100000
11000000
11000001
NAME ketwig3 130

TIL u2
00000000
00000000
00000000
00000000
00000011
00001111
00111111
11111111
NAME ketwig3 131

TIL u3
00000000
00011111
00111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 132

TIL u4
00000000
00000000
11000000
11111110
11111111
11111111
11111111
11111111
NAME ketwig3 133

TIL u5
00000000
00000000
00000000
00000001
00000011
00001111
00001111
00011111
NAME ketwig3 134

TIL u6
00000000
00000000
00100000
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 135

TIL u7
00000000
00000000
00000000
11111100
11111111
11111111
11111111
11111111
NAME ketwig3 136

TIL u8
00000000
00000000
00000000
00000000
10000000
11110000
11111100
11111110
NAME ketwig3 137

TIL u9
00011111
01111111
11111111
11111110
11111100
11111110
11111111
11111111
NAME ketwig3 138

TIL ua
11111111
11111111
11100000
00000000
00000000
00000001
10000011
11000111
NAME ketwig3 139

TIL ub
11111111
01111111
01111111
01111111
11111111
11111111
11111111
11111111
NAME ketwig3 140

TIL uc
10000111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 141

TIL ud
00000000
00000000
00000000
11000000
11110000
11111110
11111111
11111111
NAME ketwig3 142

TIL ue
00011111
00011111
00001111
00000111
00000011
00000001
00000001
10000001
NAME ketwig3 143

TIL uf
11100111
11111111
11111110
11111000
11110000
11110001
11110001
11111000
NAME ketwig3 144

TIL ug
11000001
11000000
11000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 145

TIL uh
11111111
01111111
00001111
00000011
00000001
00000000
00000000
00010000
NAME ketwig3 146

TIL ui
11000001
11100001
11110000
11110000
11111100
11111100
11111100
11111110
NAME ketwig3 147

TIL uj
11111100
11111100
11111110
11111110
11111111
01111111
01111111
01111111
NAME ketwig3 148

TIL uk
00000000
00001111
00001111
00011111
00111111
11111111
11111111
11111111
NAME ketwig3 149

TIL ul
01111000
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 150

TIL um
01111111
01111111
01111111
01111111
11111111
11111111
11111111
11111110
NAME ketwig3 151

TIL un
11111111
11111111
11111111
11111111
11110000
10000000
00000000
00000000
NAME ketwig3 152

TIL uo
11111111
11111110
11111110
11111110
11111100
11111100
11111100
11111100
NAME ketwig3 153

TIL up
00011111
00011111
00011111
00001111
00001111
00001111
00001111
00000111
NAME ketwig3 154

TIL uq
11111111
11111111
11111111
11111111
11111111
11111101
11111100
11111110
NAME ketwig3 155

TIL ur
11111000
11111000
11110000
11110000
11110000
11110000
11100000
11000000
NAME ketwig3 156

TIL us
11111111
11111111
11111111
11111111
01111111
01111111
00111111
00111111
NAME ketwig3 157

TIL ut
11111111
11111111
11111111
11111111
11111111
11111111
11111100
00000000
NAME ketwig3 158

TIL uu
11111100
11111100
11111000
11111000
11110000
11000000
00000000
00000000
NAME ketwig3 159

TIL uv
00000111
00000011
00000011
00000001
00000000
00000000
00000000
00000000
NAME ketwig3 160

TIL uw
00111111
00111111
00111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig3 161

TIL ux
11111111
11111111
11111111
11111111
11111110
11111100
11111000
11110000
NAME ketwig3 162

TIL uy
00111111
00111111
00111111
00111111
00011111
00001111
00001111
00001111
NAME ketwig3 163

TIL uz
00011111
00001111
00000111
00000011
00000001
00000000
00000000
00000000
NAME ketwig3 164

TIL v0
11111111
11111111
00011110
00000000
00000000
00000000
00000000
00000000
NAME ketwig3 165

TIL v1
00111111
00111111
00011111
00001111
00000011
00000001
00000000
00000000
NAME ketwig3 166

TIL v2
11111101
11111101
11111111
11111111
11111111
11111111
11111111
00111111
NAME ketwig3 167

TIL v3
11111111
11111111
11111111
11111111
11111111
11111111
11110000
00000000
NAME ketwig3 168

TIL v4
11111111
11111111
11111111
11111111
11111100
11110000
00000000
00000000
NAME ketwig3 169

TIL v5
11111110
10111110
00001110
00000000
00000000
00000000
00000000
00000000
NAME ketwig4 1

TIL v6
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000111
NAME ketwig4 2

TIL v7
00000000
00000000
00000000
00000000
00000000
00000000
01111000
11111111
NAME ketwig4 3

TIL v8
00000000
00000000
00000000
00000001
00000111
00011111
01111111
11111111
NAME ketwig4 4

TIL v9
00000000
00000000
00011111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 5

TIL va
00000000
00000000
11111110
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 6

TIL vb
00000000
00000000
00000000
00000011
11111111
11111111
11111111
11111111
NAME ketwig4 7

TIL vc
00000000
00001111
00111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 8

TIL vd
00000000
10000000
11111111
11111111
11111111
11111111
11001111
00000111
NAME ketwig4 9

TIL ve
00000000
00000000
10000000
11110000
11111100
11111111
11111111
11111111
NAME ketwig4 10

TIL vf
00000000
00000000
00000000
00000000
00000000
10000000
11100000
11111110
NAME ketwig4 11

TIL vg
00011111
01111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 12

TIL vh
11111111
11111111
11111111
11111110
11111100
11111000
11110000
11110000
NAME ketwig4 13

TIL vi
11111111
01111111
00111111
00111111
00111111
00111111
00111111
00111111
NAME ketwig4 14

TIL vj
11111100
11111100
11111000
11111000
11111000
11111000
11111000
11111000
NAME ketwig4 15

TIL vk
00011111
00011111
00001111
00001111
00000111
00000001
00000001
00000000
NAME ketwig4 16

TIL vl
00000000
11100000
11110000
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 17

TIL vm
00000000
00000000
00000000
10000000
11000000
11100000
11111000
11111110
NAME ketwig4 18

TIL vn
11100000
11000000
11000000
10000000
00000000
00000000
00000000
00000000
NAME ketwig4 19

TIL vo
00111111
00111111
00111111
00111111
00111111
00111111
01111111
01111111
NAME ketwig4 20

TIL vp
11111100
11111100
11111110
11111110
11111110
11111111
11111111
11111111
NAME ketwig4 21

TIL vq
00000000
10000000
11000000
11110000
11111000
11111100
11111110
11111111
NAME ketwig4 22

TIL vr
00000000
00000000
00000000
00000001
00000011
00000011
00000111
00000111
NAME ketwig4 23

TIL vs
11000000
11000000
11000000
11000000
11000000
11100000
11100000
11110000
NAME ketwig4 24

TIL vt
00001111
00001111
00011111
00011111
00111111
00111111
11111111
11111111
NAME ketwig4 25

TIL vu
11000000
11000000
11100000
11100000
11100000
11000000
11000000
10000000
NAME ketwig4 26

TIL vv
11000000
11111001
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 27

TIL vw
11110111
11111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 28

TIL vx
11111111
11111111
11111110
11111110
11111100
11111100
11111000
11111000
NAME ketwig4 29

TIL vy
11110000
11100000
11100000
11100000
11000000
10000000
00000000
00000000
NAME ketwig4 30

TIL vz
11111111
11111111
11111111
11111111
00011111
00001111
00001111
11111111
NAME ketwig4 31

TIL w0
10000000
11000000
11000000
11000000
11100000
11000000
11000000
10000000
NAME ketwig4 32

TIL w1
11111111
11111111
11111111
11111111
11111111
11111111
00011111
00011111
NAME ketwig4 33

TIL w2
11111100
11111100
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 34

TIL w3
11111111
11111111
11111111
11111110
11111100
11111000
11000000
10000000
NAME ketwig4 35

TIL w4
11111110
11111110
11111100
11111000
11111000
11110000
11100000
11000000
NAME ketwig4 36

TIL w5
11111111
11111111
11111110
11111110
11111100
11111000
11100000
11000000
NAME ketwig4 37

TIL w6
00011111
00001111
00000011
00000000
00000000
00000000
00000000
00000000
NAME ketwig4 38

TIL w7
11111111
11111111
11111111
11111111
01111111
00111111
00011111
00001111
NAME ketwig4 39

TIL w8
11111111
11111111
11111111
11100111
11111111
11111111
11111111
11111100
NAME ketwig4 40

TIL w9
11111111
11111110
11111100
11111000
11110000
11000000
00000000
00000000
NAME ketwig4 41

TIL wa
11111111
11111111
11111111
00111111
00001111
00000000
00000000
00000000
NAME ketwig4 42

TIL wb
11111111
11111111
11111111
11111111
11111111
11111111
00000011
00000000
NAME ketwig4 43

TIL wc
11111111
11111111
11111111
11111111
11111111
11111111
11111111
00001111
NAME ketwig4 44

TIL wd
11111111
11111111
11111111
11111111
11111111
11111111
11111110
00000000
NAME ketwig4 45

TIL we
11111111
11111111
11111111
11000000
00000000
00000000
00000000
00000000
NAME ketwig4 46

TIL wf
11111111
11111100
10000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig4 47

TIL wg
00000000
00000001
00000011
00000011
00000011
00000011
00000011
00000011
NAME ketwig4 48

TIL wh
00000000
11100001
11110001
11111001
11111001
10011001
10011001
10011000
NAME ketwig4 49

TIL wi
00000000
11110000
11110000
11100011
11110111
11111111
11111111
11111111
NAME ketwig4 50

TIL wj
00000000
00000000
00000000
10000000
10000000
10000000
10000000
10000000
NAME ketwig4 51

TIL wk
00000000
00000000
00000000
00000000
00000000
00000000
11111000
11111111
NAME ketwig4 52

TIL wl
00000000
00000000
00111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 53

TIL wm
00000000
00001111
00111111
11111111
11111111
11111111
11111111
11111110
NAME ketwig4 54

TIL wn
00000000
10000000
11111111
11111111
11111111
11111111
10001111
00000111
NAME ketwig4 55

TIL wo
00000000
00000000
10000000
11100000
11111100
11111111
11111111
11111111
NAME ketwig4 56

TIL wp
00000000
00000000
00000000
00000000
00000000
00000000
11100000
11111100
NAME ketwig4 57

TIL wq
00000000
00000000
00000001
00011111
00111111
00111111
01111111
01111111
NAME ketwig4 58

TIL wr
11111111
11111111
11111111
11111100
11111000
11110000
11110000
11100000
NAME ketwig4 59

TIL ws
11111111
11100000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig4 60

TIL wt
11111111
11111111
01111111
01111111
00111111
00111111
00111111
00111111
NAME ketwig4 61

TIL wu
11111100
11111000
11111000
11111000
11111000
11111000
11111000
11111000
NAME ketwig4 62

TIL wv
00111111
00011111
00011111
00001111
00001111
00000011
00000001
00000001
NAME ketwig4 63

TIL ww
00000000
11000000
11110000
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 64

TIL wx
00000000
00000000
00000000
00000000
11000000
11100000
11110000
11111100
NAME ketwig4 65

TIL wy
00000000
00000011
00011111
01111111
11111111
11111111
11111111
11111111
NAME ketwig4 66

TIL wz
11111111
11111111
11111111
11111111
11111111
11111110
11111110
11111110
NAME ketwig4 67

TIL x0
00111111
00111111
00111111
00111111
00111111
01111111
01111111
11111111
NAME ketwig4 68

TIL x1
11111000
11111100
11111100
11111110
11111110
11111110
11111111
11111111
NAME ketwig4 69

TIL x2
11111111
01111111
01111111
01111111
01111111
01111111
00111111
00011111
NAME ketwig4 70

TIL x3
00000000
00000000
00000001
00000001
00000011
00000111
00000111
00000111
NAME ketwig4 71

TIL x4
10000000
10000000
11000000
11000000
11000000
11000000
11100000
11110000
NAME ketwig4 72

TIL x5
00011111
00011111
00011111
00111111
00111111
01111111
11111111
11111111
NAME ketwig4 73

TIL x6
10000000
11110001
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 74

TIL x7
11111111
11111111
11111111
11111111
11111111
11111110
11111110
11111111
NAME ketwig4 75

TIL x8
11111111
11111111
11111111
11111111
11111111
11111111
11111101
11111101
NAME ketwig4 76

TIL x9
11111111
11111111
11111111
11111111
11111111
11111100
11111000
11111000
NAME ketwig4 77

TIL xa
11111111
11111111
11111110
11111100
11111100
11110000
11000000
00000000
NAME ketwig4 78

TIL xb
01111111
00111111
00001111
00000011
00000000
00000000
00000000
00000000
NAME ketwig4 79

TIL xc
11111110
11111100
11111100
11111000
11110000
11100000
11000000
11000000
NAME ketwig4 80

TIL xd
00111111
00111111
00011111
00001111
00000111
00000011
00000000
00000000
NAME ketwig4 81

TIL xe
11111111
11111111
11111110
11111100
11111000
11110000
11100000
10000000
NAME ketwig4 82

TIL xf
00111111
00001111
00000011
00000001
00000000
00000000
00000000
00000000
NAME ketwig4 83

TIL xg
11111111
11111111
11111111
11000111
11111111
11111111
11111111
11111000
NAME ketwig4 84

TIL xh
11111111
11111100
11111000
11110000
11100000
11000000
00000000
00000000
NAME ketwig4 85

TIL xi
11111111
11111111
11111111
00111111
00001111
00000001
00000000
00000000
NAME ketwig4 86

TIL xj
11111111
11111111
11111111
11111111
11111110
11000000
00000000
00000000
NAME ketwig4 87

TIL xk
00000000
00000011
00000011
00000011
00000111
00000111
00000111
00000111
NAME ketwig4 88

TIL xl
00000000
11000001
11110011
11111001
11111001
10111001
10111001
10111001
NAME ketwig4 89

TIL xm
00000000
00000000
00000000
01111111
11111111
11111111
11111111
11111101
NAME ketwig4 90

TIL xn
00000000
00000000
00000000
00000000
11111100
11111111
11111111
11111111
NAME ketwig4 91

TIL xo
00000000
00000000
00011111
01111111
11111111
11111111
11111110
11111000
NAME ketwig4 92

TIL xp
00000000
00000000
11000100
11111111
11111111
11011111
00000111
00000000
NAME ketwig4 93

TIL xq
00000000
00000000
00000000
11000000
11110000
11111111
11111111
00111111
NAME ketwig4 94

TIL xr
00000000
00000000
00000000
00000111
00011111
00111111
00111111
00111111
NAME ketwig4 95

TIL xs
00001111
00111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 96

TIL xt
11111111
11111111
11111100
11111000
11110000
11100000
11100000
11000000
NAME ketwig4 97

TIL xu
01111111
00111111
00111111
00011111
00011111
00011111
00011111
00011111
NAME ketwig4 98

TIL xv
00011111
00001111
00000111
00000011
00000001
00000001
00000000
00000000
NAME ketwig4 99

TIL xw
00000000
10000000
11100000
11111000
11111111
11111111
11111111
11111111
NAME ketwig4 100

TIL xx
00000000
00000001
00001111
00111111
11111111
11111111
11111111
11111111
NAME ketwig4 101

TIL xy
11111111
11111111
11111111
11111111
11111110
11111110
11111100
11111100
NAME ketwig4 102

TIL xz
00011111
00011111
00011111
00011111
00111111
00111111
00111111
01111111
NAME ketwig4 103

TIL y0
11110000
11111000
11111000
11111100
11111100
11111100
11111100
11111110
NAME ketwig4 104

TIL y1
00111111
00111111
00111111
00111111
00111111
00011111
00011111
00001111
NAME ketwig4 105

TIL y2
11111100
11111100
11111100
11111110
11111110
11111110
11111110
11111110
NAME ketwig4 106

TIL y3
00000000
00000000
00000000
00000000
00000001
00000011
00000011
00000111
NAME ketwig4 107

TIL y4
01111111
01111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 108

TIL y5
00001111
00001111
00001111
00001111
00011111
00111111
01111111
11111111
NAME ketwig4 109

TIL y6
00000000
10000000
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 110

TIL y7
00000011
11110111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 111

TIL y8
11111111
11111111
11111111
11111111
11111111
11011111
11111111
11111000
NAME ketwig4 112

TIL y9
11111111
01111111
01111111
00111111
00111111
00111111
00111111
00111111
NAME ketwig4 113

TIL ya
11111111
11111111
11111111
11111111
11111110
11111100
11111100
11111110
NAME ketwig4 114

TIL yb
11111000
11111100
11111100
00001110
00000111
00000000
00000000
00000001
NAME ketwig4 115

TIL yc
01111111
00111111
00111111
00111111
00111111
01111111
11111111
11111111
NAME ketwig4 116

TIL yd
11111111
11111111
11110000
11110000
11110000
11110000
11110000
11110000
NAME ketwig4 117

TIL ye
11111111
11111111
11111111
11111111
11111000
11110000
11100000
11100000
NAME ketwig4 118

TIL yf
10001111
11111111
11111111
11111111
11111111
00110001
00000000
00000000
NAME ketwig4 119

TIL yg
11110000
11110000
11111100
11111111
11111111
11111111
11111111
11111110
NAME ketwig4 120

TIL yh
00111111
00011110
01111100
11111100
11110000
11000000
10000000
00000000
NAME ketwig4 121

TIL yi
00111111
00001111
00000111
00000001
00000000
00000000
00000000
00000000
NAME ketwig4 122

TIL yj
11111111
11111111
11111111
11111111
01111111
00111111
00111111
00011111
NAME ketwig4 123

TIL yk
11110000
11111000
11111100
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 124

TIL yl
00000000
00000011
11001111
11111111
11111111
11111111
11111111
11111111
NAME ketwig4 125

TIL ym
11111100
11111100
11111000
11110000
11100000
11100000
11000000
10000000
NAME ketwig4 126

TIL yn
11111111
11111111
11111111
11111111
00111111
00011111
00001111
00000111
NAME ketwig4 127

TIL yo
11111111
11110111
11000111
10000011
11111111
11111111
11111100
11110000
NAME ketwig4 128

TIL yp
11111111
11111111
11111111
11111111
11111111
00011111
00000000
00000000
NAME ketwig4 129

TIL yq
11111111
11111111
11111111
11111111
11111111
11111111
11100000
00000000
NAME ketwig4 130

TIL yr
11111111
11111111
11111111
11111111
11110000
00000000
00000000
00000000
NAME ketwig4 131

TIL ys
11111111
11000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig4 132

TIL yt
00000000
00000000
00000011
00000011
00000011
00000011
00000011
00000011
NAME ketwig4 133

TIL yu
00000000
10000001
11000001
10010000
00010000
00010000
00010000
00010000
NAME ketwig4 134

TIL yv
10010000
11000000
11000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 1

TIL yw
00111111
00011111
00011111
00001111
00000111
00000000
00000000
00000000
NAME ketwig5 2

TIL yx
00000000
10000000
10000000
10000000
10000000
00000000
00000000
00000000
NAME ketwig5 3

TIL yy
00000000
00000000
00000000
00000000
00000000
00000001
00000111
00011111
NAME ketwig5 4

TIL yz
00000001
00011111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 5

TIL z0
11000000
11111100
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 6

TIL z1
00000000
00000000
11100000
11111000
11111111
11111111
11111111
11111111
NAME ketwig5 7

TIL z2
00000000
00000000
00000000
00000000
10000000
11100000
11111111
11111111
NAME ketwig5 8

TIL z3
00000000
00000000
10000000
11000000
11000000
11110000
11111111
11111111
NAME ketwig5 9

TIL z4
00000000
00000000
00000000
10000000
11000000
11100000
11110000
11111000
NAME ketwig5 10

TIL z5
11111100
11111110
11111111
11111111
11111111
11111111
00001111
00000111
NAME ketwig5 11

TIL z6
00000000
00000000
00000000
00000000
10000000
10000000
11000000
11000000
NAME ketwig5 12

TIL z7
11111100
11111100
11111100
11111100
11111100
11111000
11110000
11100000
NAME ketwig5 13

TIL z8
00000011
00000011
00000011
00000111
00000111
00000111
00000111
00001111
NAME ketwig5 14

TIL z9
11000000
11000000
11100000
11100000
11000000
11000000
11000000
11000000
NAME ketwig5 15

TIL za
11100000
11100000
11100000
11100000
11100100
11111111
11111111
11111111
NAME ketwig5 16

TIL zb
00001111
00011111
00011111
00111110
01111100
11111100
11111000
11111000
NAME ketwig5 17

TIL zc
11111111
11111111
11111111
11111110
11111110
11111100
11111100
11111100
NAME ketwig5 18

TIL zd
11111111
11111111
11111111
00001111
00000110
00000000
00000000
00000000
NAME ketwig5 19

TIL ze
11111111
11111111
11111111
11111111
00000111
00000011
00000011
00000011
NAME ketwig5 20

TIL zf
11111111
11111111
11111111
11111100
11111000
11110000
11110000
11110000
NAME ketwig5 21

TIL zg
11111111
11111111
11000001
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 22

TIL zh
11110000
11110000
11110000
01111000
00111000
00011000
00011100
00011100
NAME ketwig5 23

TIL zi
11111100
11111100
11111000
11111100
11111100
11111111
11111111
11111111
NAME ketwig5 24

TIL zj
00000000
00000000
00000000
11100000
11100000
11100000
11110000
11111100
NAME ketwig5 25

TIL zk
00000011
00000011
00000111
00000111
00000111
00001111
00011111
00111111
NAME ketwig5 26

TIL zl
11111100
11111111
11111111
11111111
11111111
11111111
11110000
11110000
NAME ketwig5 27

TIL zm
00000000
00000000
11000000
11110000
11111000
11111100
00001111
00000011
NAME ketwig5 28

TIL zn
00011100
00011100
00011110
00011110
00111110
01111100
11111100
11111100
NAME ketwig5 29

TIL zo
01111111
11111111
11111111
11111111
11111111
11011111
10001111
10001111
NAME ketwig5 30

TIL zp
00000001
00000001
00000001
00000011
11101111
11111111
11111111
11111110
NAME ketwig5 31

TIL zq
11111000
11111000
11110000
11110000
11100000
11000000
10000000
00000000
NAME ketwig5 32

TIL zr
00111111
00011111
00011111
00011111
00001111
00001111
00001111
00000111
NAME ketwig5 33

TIL zs
10001111
10111111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 34

TIL zt
11111000
11100000
11100000
11000000
11000000
11000000
10000000
00000000
NAME ketwig5 35

TIL zu
11111111
11111111
11111111
11111111
00011111
00011111
00001111
00011111
NAME ketwig5 36

TIL zv
11111111
11111111
11111111
11111000
11110000
11110000
11100000
11100000
NAME ketwig5 37

TIL zw
11111111
11111111
11111111
00011111
00001111
00000111
00000111
00000111
NAME ketwig5 38

TIL zx
11111111
11111111
11111110
11111100
11110000
11000000
00000000
00000000
NAME ketwig5 39

TIL zy
11111100
11111000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 40

TIL zz
00000000
00010000
00011000
00011000
00011000
00011000
00011100
00011100
NAME ketwig5 41

TIL 10a
11000000
11111000
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 52

TIL 10b
00000000
00000000
00000000
00000000
00000000
11100000
11111111
11111111
NAME ketwig5 53

TIL 10c
00000000
00000000
00000000
00000011
00000111
00001111
00011111
00111111
NAME ketwig5 54

TIL 10d
11111000
11111110
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 55

TIL 10e
00000000
00000000
00000000
10000000
11000000
11100000
11111111
11111111
NAME ketwig5 56

TIL 10f
00000000
00000000
00000000
00000000
10000000
11000000
11110000
11111000
NAME ketwig5 57

TIL 10g
11111100
11111100
11111100
11111100
11111000
11111000
11100000
11100000
NAME ketwig5 58

TIL 10h
00000011
00000011
00000011
00000111
00000111
00000111
00001111
00001111
NAME ketwig5 59

TIL 10i
11100000
11000000
11100000
11100000
11101100
11111111
11111111
11111111
NAME ketwig5 60

TIL 10j
00011111
00011111
00111110
00111110
01111100
11111000
11111000
11110000
NAME ketwig5 61

TIL 10k
11111111
11111111
11111111
11111110
11111110
11111100
11111100
11111000
NAME ketwig5 62

TIL 10l
11111111
11111111
11111111
11111000
11110000
11100000
11110000
11110000
NAME ketwig5 63

TIL 10m
11110000
11110000
11110000
01110000
00110000
00111000
00111000
00011100
NAME ketwig5 64

TIL 10n
11011111
10000111
10000011
10000011
11111111
11111111
11111111
11111111
NAME ketwig5 65

TIL 10o
11111000
11111000
11111000
11111000
11111101
11111111
11111111
11111111
NAME ketwig5 66

TIL 10p
00000000
00000000
00000000
11000000
11000000
11100000
11110000
11111000
NAME ketwig5 67

TIL 10q
00000011
00000111
00000111
00001111
00001111
00001111
00011111
00111111
NAME ketwig5 68

TIL 10r
11111000
11111110
11111111
11111111
11111111
11111111
11110000
11110000
NAME ketwig5 69

TIL 10s
00000000
00000000
11000000
11100000
11111000
11111100
00001111
00000111
NAME ketwig5 70

TIL 10t
00011100
00011100
00011100
00011100
00111100
11111100
11111100
11111000
NAME ketwig5 71

TIL 10u
11111111
01111111
00111111
00011111
00000111
00000011
00000001
00000000
NAME ketwig5 72

TIL 10v
11111111
11111111
11111111
11111111
11111111
11011111
00011111
00011111
NAME ketwig5 73

TIL 10w
00000011
00000011
00000011
00000011
11011111
11111111
11111111
11111110
NAME ketwig5 74

TIL 10x
11111000
11110000
11110000
11100000
11000000
11000000
00000000
00000000
NAME ketwig5 75

TIL 10y
01111110
00111110
00111100
00011100
00001100
00000000
00000000
00000000
NAME ketwig5 76

TIL 10z
00111111
00111111
00011111
00011111
00011111
00011111
00001111
00001111
NAME ketwig5 77

TIL 11a
00011111
01111111
11111111
11111111
11111000
00000000
00000000
00000000
NAME ketwig5 88

TIL 11b
00000000
00000000
00000000
00000011
00001111
01111111
11111111
11111111
NAME ketwig5 89

TIL 11c
00000000
00000000
00000111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 90

TIL 11d
00000000
01111110
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 91

TIL 11e
00000000
00000000
00000000
11000000
11100000
11111100
11111111
11111111
NAME ketwig5 92

TIL 11f
00000000
00000000
00000000
00000000
00000000
00000000
11000000
11111111
NAME ketwig5 93

TIL 11g
00000000
00000000
00000000
00000000
00000000
00000000
00000000
11111110
NAME ketwig5 94

TIL 11h
00000000
00000000
00000111
00111111
11111111
11111111
11111111
11111111
NAME ketwig5 95

TIL 11i
10000000
11000000
11111000
11111110
11111111
11111111
11111111
11111111
NAME ketwig5 96

TIL 11j
00000000
00000000
00000000
00000000
00000000
10000000
11000000
11111111
NAME ketwig5 97

TIL 11k
00011111
00111111
00111111
01111111
11111111
11111111
11111111
11111111
NAME ketwig5 98

TIL 11l
11000000
11100000
11000000
11000000
11000000
11000010
11000111
11101111
NAME ketwig5 99

TIL 11m
11111111
11111111
11111111
11110001
11111111
11111111
11111111
11111111
NAME ketwig5 100

TIL 11n
11100000
11110000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 101

TIL 11o
11111111
10000111
00000011
00000011
00000001
00000001
10000011
11000111
NAME ketwig5 102

TIL 11p
11100000
11000000
10000000
11000000
11000000
10000000
10000000
10000000
NAME ketwig5 103

TIL 11q
00000000
00000000
00000000
00000000
00000000
00000001
00000000
00000000
NAME ketwig5 104

TIL 11r
11111111
11111111
11111111
11111111
11111111
11111111
11111111
10000000
NAME ketwig5 105

TIL 11s
10000000
10000000
10000000
10000000
10000000
10000000
10000000
11000000
NAME ketwig5 106

TIL 11t
00000000
10000000
11000000
11110000
11111000
11111100
11000000
00000000
NAME ketwig5 107

TIL 11u
00001111
00000111
00000011
00000011
00000011
00000011
00000011
00000111
NAME ketwig5 108

TIL 11v
11111111
11111100
11110000
11000000
10000000
10000000
10000000
10000000
NAME ketwig5 109

TIL 11w
11111111
00000001
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 110

TIL 11x
11111111
11110000
11000000
11000000
10000000
10000000
10000000
10000000
NAME ketwig5 111

TIL 11y
10000001
00000000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 112

TIL 11z
00000000
00000000
00000000
00000000
00000000
00000000
00000011
00011111
NAME ketwig5 113

TIL 12a
11100111
11101111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 124

TIL 12b
11000000
11000000
11000000
11000000
11100001
11111111
11111111
11111111
NAME ketwig5 125

TIL 12c
10000000
10000000
11000000
11100000
11110000
11111100
11111111
11111111
NAME ketwig5 126

TIL 12d
00011000
00011000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 127

TIL 12e
00011111
00001111
00001111
00001111
00000111
00000111
00000111
00000011
NAME ketwig5 128

TIL 12f
11111000
11111100
11111100
11111100
11111100
11111100
11111000
11111000
NAME ketwig5 129

TIL 12g
00000000
00000000
00000000
00000100
00000100
00000000
00000000
00000000
NAME ketwig5 130

TIL 12h
00000001
00000011
00000011
00000111
00011111
01111111
01111111
01111111
NAME ketwig5 131

TIL 12i
11111111
11110111
11111111
11111111
11111111
11111111
11111100
11111000
NAME ketwig5 132

TIL 12j
11111111
11111111
01111111
00111111
00011111
00001111
00000011
00000001
NAME ketwig5 133

TIL 12k
11111111
11111111
11111000
11111000
11110000
11110000
11110000
11110000
NAME ketwig5 134

TIL 12l
11111111
11111111
00011111
00001111
00000111
00000111
00000011
00000011
NAME ketwig5 135

TIL 12m
11100001
11111011
11111011
11111011
11111111
11111111
11111111
11111111
NAME ketwig5 136

TIL 12n
11111111
11110000
11000000
11000000
10000000
00000000
00000000
00000000
NAME ketwig5 137

TIL 12o
11111111
00111111
00001111
00000011
00000001
00000001
00000001
00000001
NAME ketwig5 138

TIL 12p
11111111
11111111
11111111
11111111
11111111
11111100
11110000
11100000
NAME ketwig5 139

TIL 12q
11111111
11111100
11110000
11000000
00000000
00000000
00000000
00000000
NAME ketwig5 140

TIL 12r
00111000
00011110
00000111
00000111
00000000
00000000
00000000
00000000
NAME ketwig5 141

TIL 12s
00000111
00001111
11111111
11111111
00000000
00000000
00000000
00000000
NAME ketwig5 142

TIL 12t
00000000
10000000
10000000
11000000
00000000
00000000
00000000
00000000
NAME ketwig5 143

TIL 12u
00000011
00000111
00001100
00010000
00000000
00000000
00000000
00000000
NAME ketwig5 144

TIL 12v
00000000
10000000
10000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 145

TIL 12w
10000000
11110000
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 146

TIL 12x
00000000
00000000
11000000
11111000
11111111
11111111
11111111
11111111
NAME ketwig5 147

TIL 12y
00000000
00000000
00000000
00000000
00000000
11000000
11111111
11111111
NAME ketwig5 148

TIL 12z
00000000
00000000
00000000
00000001
00000011
00001111
00011111
00111111
NAME ketwig5 149

TIL 13a
11111111
11111111
11111111
11111000
11110000
11100000
11100000
11110000
NAME ketwig5 160

TIL 13b
11111111
11111111
00000001
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 161

TIL 13c
11110000
11110000
11110000
01110000
00110000
00010000
00011000
00011100
NAME ketwig5 162

TIL 13d
11001111
00000111
00000001
00000011
10001111
11111111
11111111
11111111
NAME ketwig5 163

TIL 13e
00000000
00000000
00000000
00000000
10000000
11000000
11100000
11100000
NAME ketwig5 164

TIL 13f
00000011
00000011
00000111
00000111
00000111
00001111
00001111
00011111
NAME ketwig5 165

TIL 13g
11111000
11111100
11111111
11111111
11111111
11111111
11100000
11100000
NAME ketwig5 166

TIL 13h
00000000
00000000
10000000
11000000
11110000
10000000
00000001
00000001
NAME ketwig5 167

TIL 13i
00011100
00011100
00011100
00011100
00111100
01111100
11111100
11111000
NAME ketwig5 168

TIL 13j
01111111
11111111
11111111
11111111
11111111
10001111
00001111
00001111
NAME ketwig5 169

TIL 13k
11110000
11110000
11111100
11111110
11111111
11111111
11111111
11111111
NAME ketwig5 170

TIL 13l
00000001
00000001
00000001
00000011
10001111
11111111
11111111
11111100
NAME ketwig5 171

TIL 13m
11110000
11110000
11110000
11100000
11000000
10000000
00000000
00000000
NAME ketwig5 172

TIL 13n
01111110
00111100
00111100
00011100
00001100
00000000
00000000
00000000
NAME ketwig5 173

TIL 13o
00111111
00011111
00011111
00011111
00011111
00001111
00001111
00000111
NAME ketwig5 174

TIL 13p
00001111
00011111
11111111
11111111
11111111
11111111
11111111
11111111
NAME ketwig5 175

TIL 13q
11111111
11111111
11111111
11111111
11111110
11111110
11111100
11111110
NAME ketwig5 176

TIL 13r
11111111
11111111
11111100
11110000
11110000
11100000
11000000
11100000
NAME ketwig5 177

TIL 13s
11111111
11111111
11111111
11111111
11111111
11111111
11111110
11111000
NAME ketwig5 178

TIL 13t
11111000
11110000
00000000
00000000
00000000
00000000
00000000
00000000
NAME ketwig5 179

TIL 13u
11111111
11111111
00111111
00011111
00000011
00000000
00000000
00000000
NAME ketwig5 180

TIL 13v
10111111
11111111
11111111
11111111
11111111
01111111
00000000
00000000
NAME ketwig5 181

TIL 13w
11100000
11110000
11111111
11111111
00000111
00000000
00000000
00000000
NAME ketwig5 182

TIL 13x
00001111
00111111
11111111
11111111
11110000
00000000
00000000
00000000
NAME ketwig5 183

TIL 13y
00000000
00011000
00011000
01111110
01111110
00011000
00011000
00000000

SPR A
00011000
00011000
00010000
10111101
01111110
00111100
00100100
00100100
>
00000000
00011000
00011000
00111100
01111110
10111101
00100100
00100100
POS 0 4,4

SPR d
00011000
00100101
01000010
01000010
01000010
00100101
00011000
00011000
>
00011000
10100100
01000010
01000010
01000010
10100100
00011000
00011000
DLG SPR_2

SPR e
00111000
00111000
01010100
00111000
00111000
01111100
00101000
00101000
>
00111000
01111100
00010000
00111000
00111000
01111100
00101000
00101000
DLG SPR_3
POS 17 6,12

SPR f
11111111
10000001
10111101
10000001
10110101
10000001
11111111
00011000
>
11111111
10000001
10111101
10000001
10110001
10000001
11111111
00011000
DLG SPR_3

SPR g
00100000
00011111
00001111
00111111
11111011
11100011
11111111
11111111
>
00000000
00000111
00001111
10111111
11111011
11100011
11111111
11111111
NAME brain slicer
DLG SPR_4
POS 1 9,9

SPR h
11111110
10000001
00100001
10001101
10000001
00000001
10000001
11111111
>
11111110
10000001
00000001
10001101
10000001
00000001
10000001
11111111
DLG SPR_1
POS 1 6,2

SPR i
01000100
00101000
00010000
00101000
01000100
11111110
10000010
10000010
>
00000000
00101000
00010000
00101000
00000000
11111110
10000010
10000010
NAME xRayStation
DLG SPR_2
POS 5 8,10

SPR j
11111111
10000001
10101001
10010001
10101001
10000001
11111111
00011000
>
11111111
10000001
10111101
10000001
10110001
10000001
11111111
00011000
NAME xraysign
DLG SPR_0
POS 5 5,5

SPR k
01111111
01000001
01010101
11010101
11000101
01010101
01000001
01111111
>
01111111
01000001
01010101
11010101
11000101
01000101
01000001
01111111
NAME microscopeScreen
DLG SPR_3

SPR l
11111111
10000001
10111101
10000001
10110101
10000001
11111111
00011000
>
11111111
10000001
10111101
10000001
10110001
10000001
11111111
00011000
NAME microscopeSign
POS 4 8,4

SPR m
01100000
00110000
00011000
00001100
00001100
00011000
00110000
01100000
>
00110000
00011000
00001100
00000110
00000110
00001100
00011000
00110000
NAME arrow

ITM 0
00000110
00001111
00010010
00111110
01101100
01111100
01101100
00001100
NAME laptop

ITM 1
00000000
00000010
00000001
00100101
01111111
11111110
00000000
00000000

ITM 2
00000000
00000000
00010100
00011100
00111110
00000000
00000000
00000000
>
00000000
00000000
00010100
00011100
00110110
00000000
00000000
00000000
NAME mousebrain
DLG ITM_1

ITM 3
00000000
00000000
00000000
00000000
00000000
00000000
00000000
00000000

ITM 4
00100100
00000000
00000000
00000000
00000000
00000000
00000000
00000000

ITM 5
00000000
00000100
00000010
01000001
11000001
11111110
01111110
00100100
>
00000000
00000000
00000100
01001010
11000001
11111110
01111110
00100100
NAME mouse
DLG ITM_0

ITM 6
01111111
01000001
01010101
11010101
11000101
01010101
01000001
01111111
>
01111111
01000001
01010101
11010101
11000101
01000101
01000001
01111111
NAME microScopeImagePortal
DLG ITM_2

ITM 7
11111111
10000001
10111101
10000001
10110101
10000001
11111111
00011000
>
11111111
10000001
10111101
10000001
10000101
10000001
11111111
00011000
DLG ITM_3

DLG SPR_4
"""
{
  - frozen == 1 ?
    Ok you carefully slice the brain to 20m sections & mount them on glass cover slips {slides = 1}
  - else ?
    You'll need a flash frozen mouse brain unless you're just making a tiny ham sandwich. You'll contaminate my apparatus!
}
"""

DLG SPR_1
"""
{
  - {item "mousebrain"} == 1 ?
    You insert your mouse brain in here for flash freezing! {frozen = 1}
  - else ?
    You might need this flash freezer for something!
}
"""

DLG SPR_2
"""
{
  - slides == 1 ?
    Ok we'll leave brain sections to x-ray film for 7 days along with calibrated 14C-standards for comparison {xrayed = 1}
  - else ?
    You'll need something to expose to the X-Rays in this machine.
}
"""

DLG ITM_0
"""
Hi! Im a young mouse! I'm going to stick to these edges!
Hey what's that pointy thing? Why are you putting it near me? oh. {gotmouse = 1}
You've gently killed the mouse! you better carefully remove his brain somewhere or he will have died for {shk}nothing{shk}
"""

DLG ITM_1
You pick up the dissected mouse brain. Better get it frozen to keep it fresh!

DLG SPR_0
{shk}WARNING!{shk} X-RAYS Expose slides with caution

DLG ITM_2
"""
{
  - xrayed == 1 ?
    It's been 7 days since we exposed our slides let's see what we've got...{looking = 1}
  - else ?
    You've not quite done everything!
}
"""

DLG SPR_3
Hey do you know the song {wvy}Mr Pharmacist?{wvy}

DLG ITM_3
{rbw}Congratulations{rbw} you've paved the way for life changing drugs!Go get your {shk}big pharma{shk} reward!Yay! Further funding includes investing in local social care & youth work infrastructure so we'll get less mental health problems in the first place. Maybe we can visualise that next!Many scientists also use important knowledge of the social world you know, like {shk}class{shk} and {rbw}social justice :){rbw}

END 0
The Black Box of Functional Brain Imaging is really handy but sometimes social care boxes might contribute also. Should these different but related boxes be constructed together more somehow?

VAR a
42

VAR gotmouse
0

VAR gotneedle
0

VAR frozen
0

VAR slides
0

VAR xrayed
0

VAR looking
0


</script>

<style>
html {
	margin:0px;
	padding:0px;
}

body {
	margin:0px;
	padding:0px;
	overflow:hidden;
	background:#ffffff;
}

#game {
	background:black;
	width:100vw;
	max-width:100vh;
	margin:auto;
	display:block;
}
</style>

<!-- SCRIPTS -->
<script>
function startExportedGame() {
	attachCanvas( document.getElementById("game") );
	load_game( document.getElementById("exportedGameData").text.slice(1) );
}
</script>

<script>
//hex-to-rgb method borrowed from stack overflow
function hexToRgb(hex) {
	// Expand shorthand form (e.g. "03F") to full form (e.g. "0033FF")
	var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
	hex = hex.replace(shorthandRegex, function(m, r, g, b) {
		return r + r + g + g + b + b;
	});

	var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
	return result ? {
		r: parseInt(result[1], 16),
		g: parseInt(result[2], 16),
		b: parseInt(result[3], 16)
	} : null;
}
function componentToHex(c) {
    var hex = c.toString(16);
    return hex.length == 1 ? "0" + hex : hex;
}
function rgbToHex(r, g, b) {
    return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
}

function hslToHex(h,s,l) {
    var rgbArr = hslToRgb(h,s,l);
    return rgbToHex( Math.floor(rgbArr[0]), Math.floor(rgbArr[1]), Math.floor(rgbArr[2]) );
}

function hexToHsl(hex) {
    var rgb = hexToRgb(hex);
    return rgbToHsl(rgb.r, rgb.g, rgb.b);
}

// really just a vector distance
function colorDistance(a1,b1,c1,a2,b2,c2) {
    return Math.sqrt( Math.pow(a1 - a2, 2) + Math.pow(b1 - b2, 2) + Math.pow(c1 - c2, 2) );
}

function hexColorDistance(hex1,hex2) {
    var color1 = hexToRgb(hex1);
    var color2 = hexToRgb(hex2);
    return rgbColorDistance(color1.r, color1.g, color1.b, color2.r, color2.g, color2.b);
}


// source : http://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c
/* accepts parameters
 * h  Object = {h:x, s:y, v:z}
 * OR 
 * h, s, v
*/
function HSVtoRGB(h, s, v) {
    var r, g, b, i, f, p, q, t;
    if (arguments.length === 1) {
        s = h.s, v = h.v, h = h.h;
    }
    i = Math.floor(h * 6);
    f = h * 6 - i;
    p = v * (1 - s);
    q = v * (1 - f * s);
    t = v * (1 - (1 - f) * s);
    switch (i % 6) {
        case 0: r = v, g = t, b = p; break;
        case 1: r = q, g = v, b = p; break;
        case 2: r = p, g = v, b = t; break;
        case 3: r = p, g = q, b = v; break;
        case 4: r = t, g = p, b = v; break;
        case 5: r = v, g = p, b = q; break;
    }
    return {
        r: Math.round(r * 255),
        g: Math.round(g * 255),
        b: Math.round(b * 255)
    };
}

/* accepts parameters
 * r  Object = {r:x, g:y, b:z}
 * OR 
 * r, g, b
*/
function RGBtoHSV(r, g, b) {
    if (arguments.length === 1) {
        g = r.g, b = r.b, r = r.r;
    }
    var max = Math.max(r, g, b), min = Math.min(r, g, b),
        d = max - min,
        h,
        s = (max === 0 ? 0 : d / max),
        v = max / 255;

    switch (max) {
        case min: h = 0; break;
        case r: h = (g - b) + d * (g < b ? 6: 0); h /= 6 * d; break;
        case g: h = (b - r) + d * 2; h /= 6 * d; break;
        case b: h = (r - g) + d * 4; h /= 6 * d; break;
    }

    return {
        h: h,
        s: s,
        v: v
    };
}

// source : https://gist.github.com/mjackson/5311256
/**
 * Converts an HSL color value to RGB. Conversion formula
 * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
 * Assumes h, s, and l are contained in the set [0, 1] and
 * returns r, g, and b in the set [0, 255].
 *
 * @param   Number  h       The hue
 * @param   Number  s       The saturation
 * @param   Number  l       The lightness
 * @return  Array           The RGB representation
 */
function hslToRgb(h, s, l) {
  var r, g, b;

  if (s == 0) {
    r = g = b = l; // achromatic
  } else {
    function hue2rgb(p, q, t) {
      if (t < 0) t += 1;
      if (t > 1) t -= 1;
      if (t < 1/6) return p + (q - p) * 6 * t;
      if (t < 1/2) return q;
      if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
      return p;
    }

    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    var p = 2 * l - q;

    r = hue2rgb(p, q, h + 1/3);
    g = hue2rgb(p, q, h);
    b = hue2rgb(p, q, h - 1/3);
  }

  return [ r * 255, g * 255, b * 255 ];
}

/**
 * From: http://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion
 *
 * Converts an RGB color value to HSL. Conversion formula
 * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
 * Assumes r, g, and b are contained in the set [0, 255] and
 * returns h, s, and l in the set [0, 1].
 *
 * @param   {number}  r       The red color value
 * @param   {number}  g       The green color value
 * @param   {number}  b       The blue color value
 * @return  {Array}           The HSL representation
 */
function rgbToHsl(r, g, b){
    r /= 255, g /= 255, b /= 255;
    var max = Math.max(r, g, b), min = Math.min(r, g, b);
    var h, s, l = (max + min) / 2;

    if(max == min){
        h = s = 0; // achromatic
    }else{
        var d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch(max){
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
        }
        h /= 6;
    }

    return [h, s, l];
}
</script>

<script>
var TransitionManager = function() {
	var transitionStart = null;
	var transitionEnd = null;
	var effectImage = null;

	var isTransitioning = false;
	var transitionTime = 0; // milliseconds
	var frameRate = 8; // cap the FPS
	var prevStep = -1; // used to avoid running post-process effect constantly

	this.BeginTransition = function(startRoom,startX,startY,endRoom,endX,endY,effectName) {
		// console.log("--- START ROOM TRANSITION ---");

		curEffect = effectName;

		var tmpRoom = player().room;
		var tmpX = player().x;
		var tmpY = player().y;

		if (transitionEffects[curEffect].showPlayerStart) {
			player().room = startRoom;
			player().x = startX;
			player().y = startY;
		}
		else {
			player().room = "_transition_none"; // kind of hacky!!
		}

		drawRoom(room[startRoom]);
		var startPalette = getPal( room[startRoom].pal );
		var startImage = new PostProcessImage( ctx.getImageData(0,0,canvas.width,canvas.height) ); // TODO : don't use global ctx?
		transitionStart = new TransitionInfo(startImage, startPalette, startX, startY);

		if (transitionEffects[curEffect].showPlayerEnd) {
			player().room = endRoom;
			player().x = endX;
			player().y = endY;
		}
		else {
			player().room = "_transition_none";
		}

		drawRoom(room[endRoom]);
		var endPalette = getPal( room[endRoom].pal );
		var endImage = new PostProcessImage( ctx.getImageData(0,0,canvas.width,canvas.height) );
		transitionEnd = new TransitionInfo(endImage, endPalette, endX, endY);

		effectImage = new PostProcessImage( ctx.createImageData(canvas.width,canvas.height) );

		isTransitioning = true;
		transitionTime = 0;
		prevStep = -1;

		player().room = tmpRoom;
		player().x = tmpX;
		player().y = tmpY;
	}

	this.UpdateTransition = function(dt) {
		if (!isTransitioning) {
			return;
		}

		transitionTime += dt;

		var transitionDelta = transitionTime / transitionEffects[curEffect].duration;
		var maxStep = Math.floor(frameRate * (transitionEffects[curEffect].duration / 1000));
		var step = Math.floor(transitionDelta * maxStep);

		if (step != prevStep) {
			// console.log("step! " + step + " " + transitionDelta);
			for (var y = 0; y < effectImage.Height; y++) {
				for (var x = 0; x < effectImage.Width; x++) {
					var color = transitionEffects[curEffect].pixelEffectFunc(transitionStart,transitionEnd,x,y,(step / maxStep));
					effectImage.SetPixel(x,y,color);
				}
			}
		}
		prevStep = step;

		ctx.putImageData(effectImage.GetData(), 0, 0);

		if (transitionTime >= transitionEffects[curEffect].duration) {
			isTransitioning = false;
			transitionTime = 0;
			transitionStart = null;
			transitionEnd = null;
			effectImage = null;
			prevStep = -1;
		}
	}

	this.IsTransitionActive = function() {
		return isTransitioning;
	}

	var transitionEffects = {};
	var curEffect = "none";
	this.RegisterTransitionEffect = function(name, effect) {
		transitionEffects[name] = effect;
	}

	this.RegisterTransitionEffect("none", {
		showPlayerStart : false,
		showPlayerEnd : false,
		pixelEffectFunc : function() {},
	});

	this.RegisterTransitionEffect("fade_w", { // TODO : have it linger on full white briefly?
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 750,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelColorA = delta < 0.5 ? start.Image.GetPixel(pixelX,pixelY) : {r:255,g:255,b:255,a:255};
			var pixelColorB = delta < 0.5 ? {r:255,g:255,b:255,a:255} : end.Image.GetPixel(pixelX,pixelY);

			delta = delta < 0.5 ? (delta / 0.5) : ((delta - 0.5) / 0.5); // hacky

			return PostProcessUtilities.LerpColor(pixelColorA, pixelColorB, delta);
		}
	});

	this.RegisterTransitionEffect("fade_b", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 750,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelColorA = delta < 0.5 ? start.Image.GetPixel(pixelX,pixelY) : {r:0,g:0,b:0,a:255};
			var pixelColorB = delta < 0.5 ? {r:0,g:0,b:0,a:255} : end.Image.GetPixel(pixelX,pixelY);

			delta = delta < 0.5 ? (delta / 0.5) : ((delta - 0.5) / 0.5); // hacky

			return PostProcessUtilities.LerpColor(pixelColorA, pixelColorB, delta);
		}
	});

	this.RegisterTransitionEffect("wave", {
		showPlayerStart : true,
		showPlayerEnd : true,
		duration : 1500,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var waveDelta = delta < 0.5 ? delta / 0.5 : 1 - ((delta - 0.5) / 0.5);

			var offset = (pixelY + (waveDelta * waveDelta * 0.2 * start.Image.Height));
			var freq = 4;
			var size = 2 + (14 * waveDelta);
			pixelX += Math.floor(Math.sin(offset / freq) * size);

			if (pixelX < 0) {
				pixelX += start.Image.Width;
			}
			else if (pixelX >= start.Image.Width) {
				pixelX -= start.Image.Width;
			}

			var curImage = delta < 0.5 ? start.Image : end.Image;
			return curImage.GetPixel(pixelX,pixelY);
		}
	});

	this.RegisterTransitionEffect("tunnel", {
		showPlayerStart : true,
		showPlayerEnd : true,
		duration : 1500,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			if (delta <= 0.4) {
				var tunnelDelta = 1 - (delta / 0.4);

				var xDist = start.PlayerCenter.x - pixelX;
				var yDist = start.PlayerCenter.y - pixelY;
				var dist = Math.sqrt((xDist * xDist) + (yDist * yDist));

				if (dist > start.Image.Width * tunnelDelta) {
					return {r:0,g:0,b:0,a:255};
				}
				else {
					return start.Image.GetPixel(pixelX,pixelY);
				}
			}
			else if (delta <= 0.6)
			{
				return {r:0,g:0,b:0,a:255};
			}
			else {
				var tunnelDelta = (delta - 0.6) / 0.4;

				var xDist = end.PlayerCenter.x - pixelX;
				var yDist = end.PlayerCenter.y - pixelY;
				var dist = Math.sqrt((xDist * xDist) + (yDist * yDist));

				if (dist > end.Image.Width * tunnelDelta) {
					return {r:0,g:0,b:0,a:255};
				}
				else {
					return end.Image.GetPixel(pixelX,pixelY);
				}
			}
		}
	});

	this.RegisterTransitionEffect("slide_u", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 1000,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelOffset = -1 * Math.floor(start.Image.Height * delta);
			var slidePixelY = pixelY + pixelOffset;

			var colorDelta = clampLerp(delta, 0.4);

			if (slidePixelY >= 0) {
				var colorA = start.Image.GetPixel(pixelX,slidePixelY);
				var colorB = PostProcessUtilities.GetCorrespondingColorFromPal(colorA,start.Palette,end.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
			else {
				slidePixelY += start.Image.Height;
				var colorB = end.Image.GetPixel(pixelX,slidePixelY);
				var colorA = PostProcessUtilities.GetCorrespondingColorFromPal(colorB,end.Palette,start.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
		}
	});

	this.RegisterTransitionEffect("slide_d", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 1000,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelOffset = Math.floor(start.Image.Height * delta);
			var slidePixelY = pixelY + pixelOffset;

			var colorDelta = clampLerp(delta, 0.4);

			if (slidePixelY < start.Image.Height) {
				var colorA = start.Image.GetPixel(pixelX,slidePixelY);
				var colorB = PostProcessUtilities.GetCorrespondingColorFromPal(colorA,start.Palette,end.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
			else {
				slidePixelY -= start.Image.Height;
				var colorB = end.Image.GetPixel(pixelX,slidePixelY);
				var colorA = PostProcessUtilities.GetCorrespondingColorFromPal(colorB,end.Palette,start.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
		}
	});

	this.RegisterTransitionEffect("slide_l", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 1000,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelOffset = -1 * Math.floor(start.Image.Width * delta);
			var slidePixelX = pixelX + pixelOffset;

			var colorDelta = clampLerp(delta, 0.4);

			if (slidePixelX >= 0) {
				var colorA = start.Image.GetPixel(slidePixelX,pixelY);
				var colorB = PostProcessUtilities.GetCorrespondingColorFromPal(colorA,start.Palette,end.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
			else {
				slidePixelX += start.Image.Width;
				var colorB = end.Image.GetPixel(slidePixelX,pixelY);
				var colorA = PostProcessUtilities.GetCorrespondingColorFromPal(colorB,end.Palette,start.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
		}
	});

	this.RegisterTransitionEffect("slide_r", {
		showPlayerStart : false,
		showPlayerEnd : true,
		duration : 1000,
		pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
			var pixelOffset = Math.floor(start.Image.Width * delta);
			var slidePixelX = pixelX + pixelOffset;

			var colorDelta = clampLerp(delta, 0.4);

			if (slidePixelX < start.Image.Width) {
				var colorA = start.Image.GetPixel(slidePixelX,pixelY);
				var colorB = PostProcessUtilities.GetCorrespondingColorFromPal(colorA,start.Palette,end.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
			else {
				slidePixelX -= start.Image.Width;
				var colorB = end.Image.GetPixel(slidePixelX,pixelY);
				var colorA = PostProcessUtilities.GetCorrespondingColorFromPal(colorB,end.Palette,start.Palette);
				var colorLerped = PostProcessUtilities.LerpColor(colorA, colorB, colorDelta);
				return colorLerped;
			}
		}
	});

	function clampLerp(deltaIn, clampDuration) {
		var clampOffset = (1.0 - clampDuration) / 2;
		var deltaOut = Math.min(clampDuration, Math.max(0.0, deltaIn - clampOffset)) / clampDuration;
		return deltaOut;
	}

	// TODO : WIP
	// this.RegisterTransitionEffect("fuzz", {
	// 	showPlayerStart : true,
	// 	showPlayerEnd : true,
	// 	duration : 1500,
	// 	pixelEffectFunc : function(start,end,pixelX,pixelY,delta) {
	// 		var curImage = delta <= 0.5 ? start : end;
	// 		var sampleSize = delta <= 0.5 ? (2 + Math.floor(14 * (delta/0.5))) : (16 - Math.floor(14 * ((delta-0.5)/0.5)));

	// 		var palIndex = 0;

	// 		var sampleX = Math.floor(pixelX / sampleSize) * sampleSize;
	// 		var sampleY = Math.floor(pixelY / sampleSize) * sampleSize;

	// 		var frameState = transitionEffects["fuzz"].frameState;

	// 		if (frameState.time != delta) {
	// 			frameState.time = delta;
	// 			frameState.preCalcSampleValues = {};
	// 		}

	// 		if (frameState.preCalcSampleValues[[sampleX,sampleY]]) {
	// 			palIndex = frameState.preCalcSampleValues[[sampleX,sampleY]];
	// 		}
	// 		else {
	// 			var paletteCount = {};
	// 			var foregroundValue = 1.0;
	// 			var backgroundValue = 0.4;
	// 			for (var y = sampleY; y < sampleY + sampleSize; y++) {
	// 				for (var x = sampleX; x < sampleX + sampleSize; x++) {
	// 					var color = curImage.Image.GetPixel(x,y)
	// 					var palIndex = PostProcessUtilities.GetColorPalIndex(color,curImage.Palette);
	// 					if (palIndex != -1) {
	// 						if (paletteCount[palIndex]) {
	// 							paletteCount[palIndex] += (palIndex != 0) ? foregroundValue : backgroundValue;
	// 						}
	// 						else {
	// 							paletteCount[palIndex] = (palIndex != 0) ? foregroundValue : backgroundValue;
	// 						}
	// 					}
	// 				}
	// 			}

	// 			var maxCount = 0;
	// 			for (var i in paletteCount) {
	// 				if (paletteCount[i] > maxCount) {
	// 					palIndex = i;
	// 					maxCount = paletteCount[i];
	// 				}
	// 			}

	// 			frameState.preCalcSampleValues[[sampleX,sampleY]] = palIndex;
	// 		}

	// 		return PostProcessUtilities.GetPalColor(curImage.Palette,palIndex);
	// 	},
	// 	frameState : { // ok this is hacky but it's for performance ok
	// 		time : -1,
	// 		preCalcSampleValues : {}
	// 	}
	// });
}; // TransitionManager()


// TODO : extract the scale variable so it can be changed?
var PostProcessUtilities = {
	SamplePixelColor : function(image,x,y) {
		var pixelIndex = (y * scale * image.width * 4) + (x * scale * 4);
		var r = image.data[pixelIndex + 0];
		var g = image.data[pixelIndex + 1];
		var b = image.data[pixelIndex + 2];
		var a = image.data[pixelIndex + 3];
		return { r:r, g:g, b:b, a:a };
	},
	SetPixelColor : function(image,x,y,colorRgba) {
		for (var yDelta = 0; yDelta <= scale; yDelta++) {
			for (var xDelta = 0; xDelta <= scale; xDelta++) {
				var pixelIndex = (((y * scale) + yDelta) * image.width * 4) + (((x * scale) + xDelta) * 4);
				image.data[pixelIndex + 0] = colorRgba.r;
				image.data[pixelIndex + 1] = colorRgba.g;
				image.data[pixelIndex + 2] = colorRgba.b;
				image.data[pixelIndex + 3] = colorRgba.a;
			}
		}
	},
	LerpColor : function(colorA,colorB,t) {
		// TODO: move to color_util.js?
		return {
			r : colorA.r + ((colorB.r - colorA.r) * t),
			g : colorA.g + ((colorB.g - colorA.g) * t),
			b : colorA.b + ((colorB.b - colorA.b) * t),
			a : colorA.a + ((colorB.a - colorA.a) * t),
		};
	},
	GetColorPalIndex : function(colorIn,curPal) {
		var colorIndex = -1;

		for (var i = 0; i < curPal.length; i++) {
			if (colorIn.r == curPal[i][0] && colorIn.g == curPal[i][1] && colorIn.b == curPal[i][2]) {
				colorIndex = i;
			}
		}

		return colorIndex;
	},
	GetPalColor : function(palette,index) {
		return { r: palette[index][0], g: palette[index][1], b: palette[index][2], a: 255 }
	},
	GetCorrespondingColorFromPal : function(colorIn,curPal,otherPal) { // this is kind of hacky!
		var colorIndex = PostProcessUtilities.GetColorPalIndex(colorIn,curPal);

		if (colorIndex >= 0 && colorIndex <= otherPal.length) {
			return PostProcessUtilities.GetPalColor(otherPal,colorIndex);
		}
		else {
			return colorIn;
		}
	},
};

var PostProcessImage = function(imageData) {
	this.Width = imageData.width / scale;
	this.Height = imageData.height / scale;

	this.GetPixel = function(x,y) {
		return PostProcessUtilities.SamplePixelColor(imageData,x,y);
	};

	this.SetPixel = function(x,y,colorRgba) {
		PostProcessUtilities.SetPixelColor(imageData,x,y,colorRgba);
	};

	this.GetData = function() {
		return imageData;
	};
};

var TransitionInfo = function(image, palette, playerX, playerY) {
	this.Image = image;
	this.Palette = palette;
	this.PlayerTilePos = { x: playerX, y: playerY };
	this.PlayerCenter = { x: Math.floor((playerX * tilesize) + (tilesize / 2)), y: Math.floor((playerY * tilesize) + (tilesize / 2)) };
};
</script>

<script>
/*
TODO:
- untangle local & external resource use in font manager (still more to do here)
*/

function FontManager(useExternalResources) {

if (useExternalResources === undefined || useExternalResources === null) {
	useExternalResources = false;
}

var self = this;

var fontExtension = ".bitsyfont";
this.GetExtension = function() {
	return fontExtension;
}

// place to store font data that is part of the local game data
var localResources = {};

// place to store font data fetched from a server (only used in editor)
var externalResources = null;
if (useExternalResources) {
	externalResources = new ResourceLoader();// NOTE : this class doesn't exist in exported game
}

this.LoadResources = function(filenames, onLoadAll) {
	if (!useExternalResources)
		return;

	// TODO : is this being called too many times?
	var onLoad = function() {
		var count = externalResources.getResourceLoadedCount();

		if (count >= filenames.length && onLoadAll != null) {
			onLoadAll();
		}
	}

	for (var i = 0; i < filenames.length; i++) {
		externalResources.load("bitsyfont", filenames[i], onLoad);
	}
}

// manually add resource
this.AddResource = function(filename, fontdata) {
	if (useExternalResources) {
		externalResources.set(filename, fontdata);
	}
	else {
		localResources[filename] = fontdata;
	}
}

this.ContainsResource = function(filename) {
	if (useExternalResources) {
		return externalResources.contains(filename);
	}
	else {
		return localResources[filename] != null;
	}
}

function GetData(fontName) {
	if (useExternalResources) {
		return externalResources.get(fontName + fontExtension);
	}
	else {
		return localResources[fontName + fontExtension];
	}
}
this.GetData = GetData;

function Create(fontData) {
	return new Font(fontData);
}
this.Create = Create;

this.Get = function(fontName) {
	var fontData = self.GetData(fontName);
	return self.Create(fontData);
}

function Font(fontData) {
	var name = "unknown";
	var width = 6; // default size so if you have NO font or an invalid font it displays boxes
	var height = 8;
	var chardata = {};
	var invalidCharData = {};

	this.getName = function() {
		return name;
	}

	this.getData = function() {
		return chardata;
	}

	this.getWidth = function() {
		return width;
	}

	this.getHeight = function() {
		return height;
	}

	this.hasChar = function(char) {
		var codepoint = char.charCodeAt(0);
		return chardata[codepoint] != null;
	}

	this.getChar = function(char) {

		var codepoint = char.charCodeAt(0);

		if (chardata[codepoint] != null) {
			return chardata[codepoint];
		}
		else {
			return invalidCharData;
		}
	}

	this.allCharCodes = function() {
		var codeList = [];
		for (var code in chardata) {
			codeList.push(code);
		}
		return codeList;
	}

	function parseFont(fontData) {
		if (fontData == null)
			return;

		var lines = fontData.split("\n");

		var isReadingChar = false;
		var isReadingCharProperties = false;
		var curCharLineCount = 0;
		var curCharCode = 0;

		for (var i = 0; i < lines.length; i++) {
			var line = lines[i];

			if (line[0] === "#") {
				continue; // skip comment lines
			}

			if (!isReadingChar) {
				// READING NON CHARACTER DATA LINE
				var args = line.split(" ");
				if (args[0] == "FONT") {
					name = args[1];
				}
				else if (args[0] == "SIZE") {
					width = parseInt(args[1]);
					height = parseInt(args[2]);
				}
				else if (args[0] == "CHAR") {
					isReadingChar = true;
					isReadingCharProperties = true;

					curCharLineCount = 0;
					curCharCode = parseInt(args[1]);
					chardata[curCharCode] = { 
						width: width,
						height: height,
						offset: {
							x: 0,
							y: 0
						},
						spacing: width,
						data: []
					};
				}
			}
			else {
				// CHAR PROPERTIES
				if (isReadingCharProperties) {
					var args = line.split(" ");
					if (args[0].indexOf("CHAR_") == 0) { // Sub-properties start with "CHAR_"
						if (args[0] == "CHAR_SIZE") {
							// Custom character size - overrides the default character size for the font
							chardata[curCharCode].width = parseInt(args[1]);
							chardata[curCharCode].height = parseInt(args[2]);
							chardata[curCharCode].spacing = parseInt(args[1]); // HACK : assumes CHAR_SIZE is always declared first
						}
						else if (args[0] == "CHAR_OFFSET") {
							// Character offset - shift the origin of the character on the X or Y axis
							chardata[curCharCode].offset.x = parseInt(args[1]);
							chardata[curCharCode].offset.y = parseInt(args[2]);
						}
						else if (args[0] == "CHAR_SPACING") {
							// Character spacing:
							// specify total horizontal space taken up by the character
							// lets chars take up more or less space on a line than its bitmap does
							chardata[curCharCode].spacing = parseInt(args[1]);
						}
					}
					else {
						isReadingCharProperties = false;
					}
				}

				// CHAR DATA
				if (!isReadingCharProperties) {
					// READING CHARACTER DATA LINE
					for (var j = 0; j < chardata[curCharCode].width; j++)
					{
						chardata[curCharCode].data.push( parseInt(line[j]) );
					}

					curCharLineCount++;
					if (curCharLineCount >= height) {
						isReadingChar = false;
					}
				}
			}
		}

		// init invalid character box
		invalidCharData = { 
			width: width,
			height: height,
			offset: {
				x: 0,
				y: 0
			},
			spacing: width, // TODO : name?
			data: []
		};
		for (var y = 0; y < height; y++) {
			for (var x = 0; x < width; x++) {
				if (x < width-1 && y < height-1) {
					invalidCharData.data.push(1);
				}
				else {
					invalidCharData.data.push(0);
				}
			}
		}
	}

	parseFont(fontData);
}

} // FontManager
</script>

<script>
function Script() {

this.CreateInterpreter = function() {
	return new Interpreter();
};

this.CreateUtils = function() {
	return new Utils();
};

var Interpreter = function() {
	var env = new Environment();
	var parser = new Parser( env );

	this.SetDialogBuffer = function(buffer) { env.SetDialogBuffer( buffer ); };

	// TODO -- maybe this should return a string instead othe actual script??
	this.Compile = function(scriptName, scriptStr) {
		// console.log("COMPILE");
		var script = parser.Parse( scriptStr );
		env.SetScript( scriptName, script );
	}
	this.Run = function(scriptName, exitHandler) { // Runs pre-compiled script
		// console.log("RUN");
		// console.log(env.GetScript( scriptName ));
		env.GetScript( scriptName )
			.Eval( env, function(result) { OnScriptReturn(result, exitHandler); } );

		// console.log("SERIALIZE!!!!");
		// console.log( env.GetScript( scriptName ).Serialize() );
	}
	this.Interpret = function(scriptStr, exitHandler) { // Compiles and runs code immediately
		// console.log("INTERPRET");
		var script = parser.Parse( scriptStr );
		script.Eval( env, function(result) { OnScriptReturn(result, exitHandler); } );
	}
	this.HasScript = function(name) { return env.HasScript(name); };

	this.ResetEnvironment = function() {
		env = new Environment();
		parser = new Parser( env );
	}

	this.Parse = function(scriptStr) { // parses a script but doesn't save it
		return parser.Parse( scriptStr );
	}
	this.Eval = function(scriptTree, exitHandler) { // runs a script stored externally
		scriptTree.Eval( env, function(result) { OnScriptReturn(result, exitHandler); } );
	}

	function OnScriptReturn(result, exitHandler) {
		if (isReturnObject(result)) {
			result = result.result; // pull out the contained result
		}

		// console.log("RESULT " + result);

		if (exitHandler != null) {
			exitHandler(result);
		}
	}

	this.CreateExpression = function(expStr) {
		return parser.CreateExpression( expStr );
	}

	this.SetVariable = function(name,value,useHandler) {
		env.SetVariable(name,value,useHandler);
	}

	this.DeleteVariable = function(name,useHandler) {
		env.DeleteVariable(name,useHandler);
	}
	this.HasVariable = function(name) {
		return env.HasVariable(name);
	}

	this.SetOnVariableChangeHandler = function(onVariableChange) {
		env.SetOnVariableChangeHandler(onVariableChange);
	}
	this.GetVariableNames = function() {
		return env.GetVariableNames();
	}
	this.GetVariable = function(name) {
		return env.GetVariable(name);
	}

	this.DebugVisualizeScriptTree = function(scriptName) {
		var printVisitor = {
			Visit : function(node,depth) {
				console.log("-".repeat(depth) + "- " + node.ToString());
			},
		};

		env.GetScript( scriptName ).VisitAll( printVisitor );
	}
}


var Utils = function() {
	// for editor ui
	this.CreateDialogBlock = function(children,doIndentFirstLine) {
		if(doIndentFirstLine === undefined) doIndentFirstLine = true;
		var block = new BlockNode( BlockMode.Dialog, doIndentFirstLine );
		for(var i = 0; i < children.length; i++) {
			block.AddChild( children[i] );
		}
		return block;
	}

	this.ChangeSequenceType = function(oldSequence,type) {
		if(type === "sequence") {
			return new SequenceNode( oldSequence.options );
		}
		else if(type === "cycle") {
			return new CycleNode( oldSequence.options );
		}
		else if(type === "shuffle") {
			return new ShuffleNode( oldSequence.options );
		}
		return oldSequence;
	}

	this.CreateSequenceBlock = function() {
		var option1 = new BlockNode( BlockMode.Dialog, false /*doIndentFirstLine*/ );
		var option2 = new BlockNode( BlockMode.Dialog, false /*doIndentFirstLine*/ );
		var sequence = new SequenceNode( [ option1, option2 ] );
		var block = new BlockNode( BlockMode.Code );
		block.AddChild( sequence );
		return block;
	}

	this.CreateIfBlock = function() {
		var leftNode = new BlockNode( BlockMode.Code );
		leftNode.AddChild( new FuncNode("item", [new LiteralNode("0")] ) );
		var rightNode = new LiteralNode( 1 );
		var condition1 = new ExpNode("==", leftNode, rightNode );

		var condition2 = new ElseNode();

		var result1 = new BlockNode( BlockMode.Dialog );
		var result2 = new BlockNode( BlockMode.Dialog );

		var ifNode = new IfNode( [ condition1, condition2 ], [ result1, result2 ] );
		var block = new BlockNode( BlockMode.Code );
		block.AddChild( ifNode );
		return block;
	}

	this.ReadDialogScript = function(lines, i) {
		var scriptStr = "";
		if (lines[i] === Sym.DialogOpen) {
			scriptStr += lines[i] + "\n";
			i++;
			while(lines[i] != Sym.DialogClose) {
				scriptStr += lines[i] + "\n";
				i++;
			}
			scriptStr += lines[i];
			i++;
		}
		else {
			scriptStr += lines[i];
		}
		return { script:scriptStr, index:i };
	}

	// TODO this.ReadCodeScript (reads through code open and close symbols), and this.ReadScript

	this.EnsureDialogBlockFormat = function(dialogStr) {
		// TODO -- what if it's already enclosed in dialog symbols??
		if(dialogStr.indexOf('\n') > -1) {
			dialogStr = Sym.DialogOpen + "\n" + dialogStr + "\n" + Sym.DialogClose;
		}
		return dialogStr;
	}

	this.RemoveDialogBlockFormat = function(source) {
		var sourceLines = source.split("\n");
		var dialogStr = "";
		if(sourceLines[0] === Sym.DialogOpen) {
			// multi line
			var i = 1;
			while (i < sourceLines.length && sourceLines[i] != Sym.DialogClose) {
				dialogStr += sourceLines[i] + (sourceLines[i+1] != Sym.DialogClose ? '\n' : '');
				i++;
			}
		}
		else {
			// single line
			dialogStr = source;
		}
		return dialogStr;
	}
}


/* BUILT-IN FUNCTIONS */ // TODO: better way to encapsulate these?
function deprecatedFunc(environment,parameters,onReturn) {
	console.log("BITSY SCRIPT WARNING: Tried to use deprecated function");
	onReturn(null);
}

// TODO : vNext
// function returnFunc(environment,parameters,onReturn) {
// 	var ret = { isReturn: true, result: null };
// 	if (parameters.length > 0 && parameters[0] != undefined && parameters[0] != null) {
// 		ret.result = parameters[0];
// 	}
// 	onReturn(ret);
// }

// TODO : vNext
// // TODO : this is kind of hacky
// // - needs to work with names too
// function changeAvatarFunc(environment,parameters,onReturn) {
// 	if( parameters[0] != undefined && parameters[0] != null ) {
// 		sprite["A"].drw = "SPR_" + parameters[0];
// 	}
// 	onReturn(null);
// }

function printFunc(environment,parameters,onReturn) {
	// console.log("PRINT FUNC");
	// console.log(parameters);
	if( parameters[0] != undefined && parameters[0] != null ) {
		// console.log(parameters[0]);
		// console.log(parameters[0].toString());
		// var textStr = parameters[0].toString();
		var textStr = "" + parameters[0];
		// console.log(textStr);
		var onFinishHandler = function() {
			// console.log("FINISHED PRINTING ---- SCRIPT");
			onReturn(null);
		}; // called when dialog is finished printing
		environment.GetDialogBuffer().AddText( textStr, onFinishHandler );
	}
	else {
		onReturn(null);
	}
}

function linebreakFunc(environment,parameters,onReturn) {
	// console.log("LINEBREAK FUNC");
	environment.GetDialogBuffer().AddLinebreak();
	onReturn(null);
}

function printDrawingFunc(environment,parameters,onReturn) {
	var drawingId = parameters[0];
	environment.GetDialogBuffer().AddDrawing( drawingId, function() {
		onReturn(null);
	});
}

function printSpriteFunc(environment,parameters,onReturn) {
	var spriteId = parameters[0];
	if(names.sprite.has(spriteId)) spriteId = names.sprite.get(spriteId); // id is actually a name
	var drawingId = sprite[spriteId].drw;
	printDrawingFunc(environment, [drawingId], onReturn);
}

function printTileFunc(environment,parameters,onReturn) {
	var tileId = parameters[0];
	if(names.tile.has(tileId)) tileId = names.tile.get(tileId); // id is actually a name
	var drawingId = tile[tileId].drw;
	printDrawingFunc(environment, [drawingId], onReturn);
}

function printItemFunc(environment,parameters,onReturn) {
	var itemId = parameters[0];
	if(names.item.has(itemId)) itemId = names.item.get(itemId); // id is actually a name
	var drawingId = item[itemId].drw;
	printDrawingFunc(environment, [drawingId], onReturn);
}

function printFontFunc(environment, parameters, onReturn) {
	var allCharacters = "";
	var font = fontManager.Get( fontName );
	var codeList = font.allCharCodes();
	for (var i = 0; i < codeList.length; i++) {
		allCharacters += String.fromCharCode(codeList[i]) + " ";
	}
	printFunc(environment, [allCharacters], onReturn);
}

function itemFunc(environment,parameters,onReturn) {
	var itemId = parameters[0];
	if(names.item.has(itemId)) itemId = names.item.get(itemId); // id is actually a name
	var itemCount = player().inventory[itemId] ? player().inventory[itemId] : 0; // TODO : ultimately the environment should include a reference to the game state
	// console.log("ITEM FUNC " + itemId + " " + itemCount);
	onReturn(itemCount);
}

function addOrRemoveTextEffect(environment,name) {
	if( environment.GetDialogBuffer().HasTextEffect(name) )
		environment.GetDialogBuffer().RemoveTextEffect(name);
	else
		environment.GetDialogBuffer().AddTextEffect(name);
}

function rainbowFunc(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"rbw");
	onReturn(null);
}

// TODO : should the colors use a parameter instead of special names?
function color1Func(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"clr1");
	onReturn(null);
}

function color2Func(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"clr2");
	onReturn(null);
}

function color3Func(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"clr3");
	onReturn(null);
}

function wavyFunc(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"wvy");
	onReturn(null);
}

function shakyFunc(environment,parameters,onReturn) {
	addOrRemoveTextEffect(environment,"shk");
	onReturn(null);
}

/* BUILT-IN OPERATORS */
function setExp(environment,left,right,onReturn) {
	// console.log("SET " + left.name);

	if(left.type != "variable") {
		// not a variable! return null and hope for the best D:
		onReturn( null );
		return;
	}

	right.Eval(environment,function(rVal) {
		environment.SetVariable( left.name, rVal );
		// console.log("VAL " + environment.GetVariable( left.name ) );
		left.Eval(environment,function(lVal) {
			onReturn( lVal );
		});
	});
}
function equalExp(environment,left,right,onReturn) {
	// console.log("EVAL EQUAL");
	// console.log(left);
	// console.log(right);
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal === rVal );
		});
	});
}
function greaterExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal > rVal );
		});
	});
}
function lessExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal < rVal );
		});
	});
}
function greaterEqExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal >= rVal );
		});
	});
}
function lessEqExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal <= rVal );
		});
	});
}
function multExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal * rVal );
		});
	});
}
function divExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal / rVal );
		});
	});
}
function addExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal + rVal );
		});
	});
}
function subExp(environment,left,right,onReturn) {
	right.Eval(environment,function(rVal){
		left.Eval(environment,function(lVal){
			onReturn( lVal - rVal );
		});
	});
}

/* ENVIRONMENT */
var Environment = function() {
	var dialogBuffer = null;
	this.SetDialogBuffer = function(buffer) { dialogBuffer = buffer; };
	this.GetDialogBuffer = function() { return dialogBuffer; };

	var functionMap = new Map();
	functionMap.set("print", printFunc);
	functionMap.set("say", printFunc);
	functionMap.set("br", linebreakFunc);
	functionMap.set("item", itemFunc);
	functionMap.set("rbw", rainbowFunc);
	functionMap.set("clr1", color1Func);
	functionMap.set("clr2", color2Func);
	functionMap.set("clr3", color3Func);
	functionMap.set("wvy", wavyFunc);
	functionMap.set("shk", shakyFunc);
	functionMap.set("printSprite", printSpriteFunc);
	functionMap.set("printTile", printTileFunc);
	functionMap.set("printItem", printItemFunc);
	functionMap.set("debugOnlyPrintFont", printFontFunc); // DEBUG ONLY

	// TODO : vNext
	// functionMap.set("changeAvatar", changeAvatarFunc);
	// functionMap.set("return", returnFunc);

	this.HasFunction = function(name) { return functionMap.has(name); };
	this.EvalFunction = function(name,parameters,onReturn) {
		// console.log(functionMap);
		// console.log(name);
		functionMap.get( name )( this, parameters, onReturn );
	}

	var variableMap = new Map();

	this.HasVariable = function(name) { return variableMap.has(name); };
	this.GetVariable = function(name) { return variableMap.get(name); };
	this.SetVariable = function(name,value,useHandler) {
		// console.log("SET VARIABLE " + name + " = " + value);
		if(useHandler === undefined) useHandler = true;
		variableMap.set(name, value);
		if(onVariableChangeHandler != null && useHandler)
			onVariableChangeHandler(name);
	};
	this.DeleteVariable = function(name,useHandler) {
		if(useHandler === undefined) useHandler = true;
		if(variableMap.has(name)) {
			variableMap.delete(name);
			if(onVariableChangeHandler != null && useHandler)
				onVariableChangeHandler(name);
		}
	};

	var operatorMap = new Map();
	operatorMap.set("=", setExp);
	operatorMap.set("==", equalExp);
	operatorMap.set(">", greaterExp);
	operatorMap.set("<", lessExp);
	operatorMap.set(">=", greaterEqExp);
	operatorMap.set("<=", lessEqExp);
	operatorMap.set("*", multExp);
	operatorMap.set("/", divExp);
	operatorMap.set("+", addExp);
	operatorMap.set("-", subExp);

	this.HasOperator = function(sym) { return operatorMap.get(sym); };
	this.EvalOperator = function(sym,left,right,onReturn) {
		operatorMap.get( sym )( this, left, right, onReturn );
	}

	var scriptMap = new Map();
	this.HasScript = function(name) { return scriptMap.has(name); };
	this.GetScript = function(name) { return scriptMap.get(name); };
	this.SetScript = function(name,script) { scriptMap.set(name, script); };

	var onVariableChangeHandler = null;
	this.SetOnVariableChangeHandler = function(onVariableChange) {
		onVariableChangeHandler = onVariableChange;
	}
	this.GetVariableNames = function() {
		return Array.from( variableMap.keys() );
	}
}

function leadingWhitespace(depth) {
	var str = "";
	for(var i = 0; i < depth; i++) {
		str += "  "; // two spaces per indent
	}
	// console.log("WHITESPACE " + depth + " ::" + str + "::");
	return str;
}

/* NODES */
var TreeRelationship = function() {
	this.parent = null;
	this.children = [];
	this.AddChild = function(node) {
		this.children.push( node );
		node.parent = this;
	};

	this.VisitAll = function(visitor, depth) {
		if (depth == undefined || depth == null) {
			depth = 0;
		}

		visitor.Visit( this, depth );
		for( var i = 0; i < this.children.length; i++ ) {
			this.children[i].VisitAll( visitor, depth + 1 );
		}
	};
}

function isReturnObject(val) {
	return typeof val === "object" && val != null
				&& val.isReturn != undefined && val.isReturn != null
				&& val.isReturn;
}

var BlockMode = {
	Code : "code",
	Dialog : "dialog"
};

var BlockNode = function(mode, doIndentFirstLine) {
	Object.assign( this, new TreeRelationship() );
	// Object.assign( this, new Runnable() );
	this.type = "block";
	this.mode = mode;

	this.Eval = function(environment,onReturn) {
		// console.log("EVAL BLOCK " + this.children.length);

		if( this.onEnter != null ) {
			this.onEnter();
		}

		var lastVal = null;
		var i = 0;

		function evalChildren(children,done) {
			if (i < children.length) {
				// console.log(">> CHILD " + i);
				children[i].Eval( environment, function(val) {
					// console.log("<< CHILD " + i);

					if (isReturnObject(val)) { // early return
						lastVal = val;
						done();
					}
					else {
						lastVal = val;
						i++;
						evalChildren(children,done);
					}
				} );
			}
			else {
				done();
			}
		};

		var self = this;
		evalChildren( this.children, function() {
			if( self.onExit != null ) {
				self.onExit();
			}
			onReturn(lastVal);
		} );
	}

	if(doIndentFirstLine === undefined) doIndentFirstLine = true; // This is just for serialization

	this.Serialize = function(depth) {
		if(depth === undefined) depth = 0;

		// console.log("SERIALIZE BLOCK!!!");
		// console.log(depth);
		// console.log(doIndentFirstLine);

		var str = "";
		var lastNode = null;
		if (this.mode === BlockMode.Code) str += "{"; // todo: increase scope of Sym?
		for (var i = 0; i < this.children.length; i++) {

			var curNode = this.children[i];

			if(curNode.type === "block" && lastNode && lastNode.type === "block" && !isBlockWithNoNewline(curNode) && !isBlockWithNoNewline(lastNode))
				str += "\n";

			var shouldIndentFirstLine = (i == 0 && doIndentFirstLine);
			var shouldIndentAfterLinebreak = (lastNode && lastNode.type === "function" && lastNode.name === "br");
			if(this.mode === BlockMode.Dialog && (shouldIndentFirstLine || shouldIndentAfterLinebreak))
				str += leadingWhitespace(depth);
			str += curNode.Serialize(depth);
			lastNode = curNode;
		}
		if (this.mode === BlockMode.Code) str += "}";
		return str;
	}

	this.ToString = function() {
		return this.type + " " + this.mode;
	};
}

function isBlockWithNoNewline(node) {
	return isTextEffectBlock(node) || isMultilineListBlock(node);
}

function isTextEffectBlock(node) {
	if(node.type === "block") {
		if(node.children.length > 0 && node.children[0].type === "function") {
			var func = node.children[0];
			if(func.name === "clr1" || func.name === "clr2" || func.name === "clr3" || func.name === "wvy" || func.name === "shk" || func.name === "rbw") {
				return true;
			}
		}
	}
	return false;
}

function isMultilineListBlock(node) {
	if(node.type === "block") {
		if(node.children.length > 0) {
			var child = node.children[0];
			if(child.type === "sequence" || child.type === "cycle" || child.type === "shuffle" || child.type === "if") {
				return true;
			}
		}
	}
	return false;
}

var FuncNode = function(name,arguments) {
	Object.assign( this, new TreeRelationship() );
	// Object.assign( this, new Runnable() );
	this.type = "function";
	this.name = name;
	this.arguments = arguments;

	this.Eval = function(environment,onReturn) {

		if( this.onEnter != null ) this.onEnter();

		// console.log("FUNC");
		// console.log(this.arguments);
		var argumentValues = [];
		var i = 0;
		function evalArgs(arguments,done) {
			if(i < arguments.length) {
				// Evaluate each argument
				arguments[i].Eval( environment, function(val) {
					argumentValues.push( val );
					i++;
					evalArgs(arguments,done);
				} );
			}
			else {
				done();
			}
		};
		var self = this; // hack to deal with scope
		evalArgs( this.arguments, function() {
			// Then evaluate the function
			// console.log("ARGS");
			// console.log(argumentValues);

			if( self.onExit != null ) self.onExit();

			environment.EvalFunction( self.name, argumentValues, onReturn );
		} );
	}

	this.Serialize = function(depth) {
		var isDialogBlock = this.parent.mode && this.parent.mode === BlockMode.Dialog;
		if(isDialogBlock && this.name === "print") {
			// TODO this could cause problems with "real" print functions
			return this.arguments[0].value; // first argument should be the text of the {print} func
		}
		else if(isDialogBlock && this.name === "br") {
			return "\n";
		}
		else {
			var str = "";
			str += this.name;
			for(var i = 0; i < this.arguments.length; i++) {
				str += " ";
				str += this.arguments[i].Serialize(depth);
			}
			return str;
		}
	}

	this.ToString = function() {
		return this.type + " " + this.name;
	};
}

var LiteralNode = function(value) {
	Object.assign( this, new TreeRelationship() );
	// Object.assign( this, new Runnable() );
	this.type = "literal";
	this.value = value;

	this.Eval = function(environment,onReturn) {
		onReturn(this.value);
	}

	this.Serialize = function(depth) {
		var str = "";

		if(this.value === null)
			return str;

		if(typeof this.value === "string") str += '"';
		str += this.value;
		if(typeof this.value === "string") str += '"';

		return str;
	}

	this.ToString = function() {
		return this.type + " " + this.value;
	};
}

var VarNode = function(name) {
	Object.assign( this, new TreeRelationship() );
	// Object.assign( this, new Runnable() );
	this.type = "variable";
	this.name = name;

	this.Eval = function(environment,onReturn) {
		// console.log("EVAL " + this.name + " " + environment.HasVariable(this.name) + " " + environment.GetVariable(this.name));
		if( environment.HasVariable(this.name) )
			onReturn( environment.GetVariable( this.name ) );
		else
			onReturn(null); // not a valid variable -- return null and hope that's ok
	} // TODO: might want to store nodes in the variableMap instead of values???

	this.Serialize = function(depth) {
		var str = "" + this.name;
		return str;
	}

	this.ToString = function() {
		return this.type + " " + this.name;
	};
}

var ExpNode = function(operator, left, right) {
	Object.assign( this, new TreeRelationship() );
	this.type = "operator";
	this.operator = operator;
	this.left = left;
	this.right = right;

	this.Eval = function(environment,onReturn) {
		// console.log("EVAL " + this.operator);
		var self = this; // hack to deal with scope
		environment.EvalOperator( this.operator, this.left, this.right, 
			function(val){
				// console.log("EVAL EXP " + self.operator + " " + val);
				onReturn(val);
			} );
		// NOTE : sadly this pushes a lot of complexity down onto the actual operator methods
	}

	this.Serialize = function(depth) {
		var isNegativeNumber = this.operator === "-" && this.left.type === "literal" && this.left.value === null;

		if(!isNegativeNumber) {
			var str = "";
			str += this.left.Serialize(depth);
			str += " " + this.operator + " ";
			str += this.right.Serialize(depth);
			return str;
		}
		else {
			return this.operator + this.right.Serialize(depth); // hacky but seems to work
		}
	}

	this.VisitAll = function(visitor, depth) {
		if (depth == undefined || depth == null) {
			depth = 0;
		}

		visitor.Visit( this, depth );
		if(this.left != null)
			this.left.VisitAll( visitor, depth + 1 );
		if(this.right != null)
			this.right.VisitAll( visitor, depth + 1 );
	};

	this.ToString = function() {
		return this.type + " " + this.operator;
	};
}

var SequenceBase = function() {
	this.Serialize = function(depth) {
		var str = "";
		str += this.type + "\n";
		for (var i = 0; i < this.options.length; i++) {
			// console.log("SERIALIZE SEQUENCE ");
			// console.log(depth);
			str += leadingWhitespace(depth + 1) + Sym.List + " " + this.options[i].Serialize(depth + 2) + "\n";
		}
		str += leadingWhitespace(depth);
		return str;
	}

	this.VisitAll = function(visitor, depth) {
		if (depth == undefined || depth == null) {
			depth = 0;
		}

		visitor.Visit( this, depth );
		for( var i = 0; i < this.options.length; i++ ) {
			this.options[i].VisitAll( visitor, depth + 1 );
		}
	};

	this.ToString = function() {
		return this.type;
	};
}

var SequenceNode = function(options) {
	Object.assign( this, new TreeRelationship() );
	Object.assign( this, new SequenceBase() );
	this.type = "sequence";
	this.options = options;

	var index = 0;
	this.Eval = function(environment,onReturn) {
		// console.log("SEQUENCE " + index);
		this.options[index].Eval( environment, onReturn );

		var next = index + 1;
		if(next < this.options.length)
			index = next;
	}
}

var CycleNode = function(options) {
	Object.assign( this, new TreeRelationship() );
	Object.assign( this, new SequenceBase() );
	this.type = "cycle";
	this.options = options;

	var index = 0;
	this.Eval = function(environment,onReturn) {
		// console.log("CYCLE " + index);
		this.options[index].Eval( environment, onReturn );

		var next = index + 1;
		if(next < this.options.length)
			index = next;
		else
			index = 0;
	}
}

var ShuffleNode = function(options) {
	Object.assign( this, new TreeRelationship() );
	Object.assign( this, new SequenceBase() );
	this.type = "shuffle";
	this.options = options;

	var optionsShuffled = [];
	function shuffle(options) {
		optionsShuffled = [];
		var optionsUnshuffled = options.slice();
		while(optionsUnshuffled.length > 0) {
			var i = Math.floor( Math.random() * optionsUnshuffled.length );
			optionsShuffled.push( optionsUnshuffled.splice(i,1)[0] );
		}
	}
	shuffle(this.options);

	var index = 0;
	this.Eval = function(environment,onReturn) {
		// OLD RANDOM VERSION
		// var index = Math.floor(Math.random() * this.options.length);
		// this.options[index].Eval( environment, onReturn );

		optionsShuffled[index].Eval( environment, onReturn );
		
		index++;
		if (index >= this.options.length) {
			shuffle(this.options);
			index = 0;
		}
	}
}

var IfNode = function(conditions, results, isSingleLine) {
	Object.assign( this, new TreeRelationship() );
	this.type = "if";
	this.conditions = conditions;
	this.results = results;

	this.Eval = function(environment,onReturn) {
		// console.log("EVAL IF");
		var i = 0;
		var self = this;
		function TestCondition() {
			// console.log("EVAL " + i);
			self.conditions[i].Eval(environment, function(val) {
				// console.log(val);
				if(val == true) {
					self.results[i].Eval(environment, onReturn);
				}
				else if(i+1 < self.conditions.length) {
					i++;
					TestCondition(); // test next condition
				}
				else {
					onReturn(null); // out of conditions and none were true
				}
			});
		};
		TestCondition();
	}

	if(isSingleLine === undefined) isSingleLine = false; // This is just for serialization

	this.Serialize = function(depth) {
		var str = "";
		if(isSingleLine) {
			str += this.conditions[0].Serialize() + " ? " + this.results[0].Serialize();
			if(this.conditions.length > 1 && this.conditions[1].type === "else")
				str += " : " + this.results[1].Serialize();
		}
		else {
			str += "\n";
			for (var i = 0; i < this.conditions.length; i++) {
				str += leadingWhitespace(depth + 1) + Sym.List + " " + this.conditions[i].Serialize(depth) + " ?\n";
				str += this.results[i].Serialize(depth + 2) + "\n";
			}
			str += leadingWhitespace(depth);
		}
		return str;
	}

	this.IsSingleLine = function() {
		return isSingleLine;
	}

	this.VisitAll = function(visitor, depth) {
		if (depth == undefined || depth == null) {
			depth = 0;
		}

		visitor.Visit( this, depth );
		for( var i = 0; i < this.conditions.length; i++ ) {
			this.conditions[i].VisitAll( visitor, depth + 1 );
		}
		for( var i = 0; i < this.results.length; i++ ) {
			this.results[i].VisitAll( visitor, depth + 1 );
		}
	};

	this.ToString = function() {
		return this.type + " " + this.mode;
	};
}

var ElseNode = function() {
	Object.assign( this, new TreeRelationship() );
	this.type = "else";

	this.Eval = function(environment,onReturn) {
		onReturn(true);
	}

	this.Serialize = function() {
		return "else";
	}

	this.ToString = function() {
		return this.type + " " + this.mode;
	};
}

var Sym = {
	// DialogOpen : "/\"",
	// DialogClose : "\"/",
	DialogOpen : '"""',
	DialogClose : '"""',
	CodeOpen : "{",
	CodeClose : "}",
	Linebreak : "\n", // just call it "break" ?
	Separator : ":",
	List : "-",
	String : '"'
};

var Parser = function(env) {
	var environment = env;

	this.Parse = function(scriptStr) {
		// console.log("NEW PARSE!!!!!!");

		// TODO : make this work for single-line, no dialog block scripts

		var state = new ParserState( new BlockNode(BlockMode.Dialog), scriptStr );

		if( state.MatchAhead(Sym.DialogOpen) ) {
			// multi-line dialog block
			var dialogStr = state.ConsumeBlock( Sym.DialogOpen, Sym.DialogClose );
			state = new ParserState( new BlockNode(BlockMode.Dialog), dialogStr );
			state = ParseDialog( state );
		}
		// else if( state.MatchAhead(Sym.CodeOpen) ) { // NOTE: This causes problems when you lead with a code block
		// 	// code-block: should this ever happen?
		// 	state = ParseCodeBlock( state );
		// }
		else {
			// single-line dialog block
			state = ParseDialog( state );
		}

		// console.log( state.rootNode );
		return state.rootNode;
	};

	var ParserState = function( rootNode, str ) {
		this.rootNode = rootNode;
		this.curNode = this.rootNode;

		var sourceStr = str;
		var i = 0;
		this.Index = function() { return i; };
		this.Count = function() { return sourceStr.length; };
		this.Done = function() { return i >= sourceStr.length; };
		this.Char = function() { return sourceStr[i]; };
		this.Step = function(n) { if(n===undefined) n=1; i += n; };
		this.MatchAhead = function(str) {
			// console.log(str);
			str = "" + str; // hack to turn single chars into strings
			// console.log(str);
			// console.log(str.length);
			for(var j = 0; j < str.length; j++) {
				if( i + j >= sourceStr.length )
					return false;
				else if( str[j] != sourceStr[i+j] )
					return false;
			}
			return true;
		}
		this.Peak = function(end) {
			var str = "";
			var j = i;
			// console.log(j);
			while(j < sourceStr.length && end.indexOf( sourceStr[j] ) == -1 ) {
				str += sourceStr[j];
				j++;
			}
			// console.log("PEAK ::" + str + "::");
			return str;
		}
		this.ConsumeBlock = function( open, close ) {
			var startIndex = i;

			var matchCount = 0;
			if( this.MatchAhead( open ) ) {
				matchCount++;
				this.Step( open.length );
			}

			while( matchCount > 0 && !this.Done() ) {
				if( this.MatchAhead( close ) ) {
					matchCount--;
					this.Step( close.length );
				}
				else if( this.MatchAhead( open ) ) {
					matchCount++;
					this.Step( open.length );
				}
				else {
					this.Step();
				}
			}

			// console.log("!!! " + startIndex + " " + i);

			return sourceStr.slice( startIndex + open.length, i - close.length );
		}
		this.Print = function() { console.log(sourceStr); };
		this.Source = function() { return sourceStr; };
	};

	function ParseDialog(state) {
		// console.log("PARSE DIALOG");
		state.Print();

		// for linebreak logic: add linebreaks after lines with dialog or empty lines (if it's not the very first line)
		var hasBlock = false;
		var hasDialog = false;
		var isFirstLine = true;

		// console.log("---- PARSE DIALOG ----");

		var text = "";
		var addTextNode = function() {
			// console.log("TEXT " + text.length);
			if (text.length > 0) {
				// console.log("TEXT " + text);
				// console.log("text!!");
				// console.log([text]);

				state.curNode.AddChild( new FuncNode( "print", [new LiteralNode(text)] ) );
				text = "";

				hasDialog = true;
			}
		}

		while ( !state.Done() ) {

			if( state.MatchAhead(Sym.CodeOpen) ) {
				addTextNode();
				state = ParseCodeBlock( state );

				// console.log("CODE");

				var len = state.curNode.children.length;
				if(len > 0 && state.curNode.children[len-1].type === "block") {
					var block = state.curNode.children[len-1];
					if(isMultilineListBlock(block))
						hasDialog = true; // hack to get correct newline behavior for multiline blocks
				}

				hasBlock = true;
			}
			// NOTE: nested dialog blocks disabled for now
			// else if( state.MatchAhead(Sym.DialogOpen) ) {
			// 	addTextNode();
			// 	state = ParseDialogBlock( state ); // These can be nested (should they though???)

			// 	hasBlock = true;
			// }
			else {
				if ( state.MatchAhead(Sym.Linebreak) ) {
					addTextNode();

					/*
					NOTES:
					linebreaks SHOULD happen on
					- lines with text (including the first or last line)
					- empty lines (that are NOT the first or last line)
					linebreaks should NOT happen on
					- lines with only CODE blocks
					- empty FIRST or LAST lines

					also, apparently:
					- NEVER line break on the last line
					*/
					var isLastLine = (state.Index() + 1) == state.Count();
					// console.log("block " + hasBlock);
					// console.log("dialog " + hasDialog);
					var isEmptyLine = !hasBlock && !hasDialog;
					// console.log("empty " + isEmptyLine);
					var isValidEmptyLine = isEmptyLine && !(isFirstLine || isLastLine);
					// console.log("valid empty " + isValidEmptyLine);
					var shouldAddLinebreak = (hasDialog || isValidEmptyLine) && !isLastLine; // last clause is a hack (but it works - why?)
					// console.log("LINEBREAK? " + shouldAddLinebreak);
					if( shouldAddLinebreak ) {
						// console.log("NEWLINE");
						// console.log("empty? " + isEmptyLine);
						// console.log("dialog? " + hasDialog);
						state.curNode.AddChild( new FuncNode( "br", [] ) ); // use function or character?
					}

					// linebreak logic
					isFirstLine = false;
					hasBlock = false;
					hasDialog = false;

					text = "";
				}
				else {
					text += state.Char();
				}
				state.Step();
			}

		}
		addTextNode();

		// console.log("---- PARSE DIALOG ----");

		// console.log(state);
		return state;
	}

	function ParseDialogBlock(state) {
		var dialogStr = state.ConsumeBlock( Sym.DialogOpen, Sym.DialogClose );

		var dialogState = new ParserState( new BlockNode(BlockMode.Dialog), dialogStr );
		dialogState = ParseDialog( dialogState );

		state.curNode.AddChild( dialogState.rootNode );

		return state;
	}

	function ParseIf(state) {
		var conditionStrings = [];
		var resultStrings = [];
		var curIndex = -1;
		var isNewline = true;
		var isConditionDone = false;
		var codeBlockCount = 0;

		while( !state.Done() ) {
			if(state.Char() === Sym.CodeOpen)
				codeBlockCount++;
			else if(state.Char() === Sym.CodeClose)
				codeBlockCount--;

			var isWhitespace = (state.Char() === " " || state.Char() === "\t");
			var isSkippableWhitespace = isNewline && isWhitespace;
			var isNewListItem = isNewline && (codeBlockCount <= 0) && (state.Char() === Sym.List);

			if(isNewListItem) {
				curIndex++;
				isConditionDone = false;
				conditionStrings[curIndex] = "";
				resultStrings[curIndex] = "";
			}
			else if(curIndex > -1) {
				if(!isConditionDone) {
					if(state.Char() === "?" || state.Char() === "\n") { // TODO: use Sym
						// end of condition
						isConditionDone = true;
					}
					else {
						// read in condition
						conditionStrings[curIndex] += state.Char();
					}
				}
				else {
					// read in result
					if(!isSkippableWhitespace)
						resultStrings[curIndex] += state.Char();
				}
			}

			isNewline = (state.Char() === Sym.Linebreak) || isSkippableWhitespace || isNewListItem;

			state.Step();
		}

		// console.log("PARSE IF:");
		// console.log(conditionStrings);
		// console.log(resultStrings);

		var conditions = [];
		for(var i = 0; i < conditionStrings.length; i++) {
			var str = conditionStrings[i].trim();
			if(str === "else") {
				conditions.push( new ElseNode() );
			}
			else {
				var exp = CreateExpression( str );
				conditions.push( exp );
			}
		}

		var results = [];
		for(var i = 0; i < resultStrings.length; i++) {
			var str = resultStrings[i];
			var dialogBlockState = new ParserState( new BlockNode(BlockMode.Dialog), str );
			dialogBlockState = ParseDialog( dialogBlockState );
			var dialogBlock = dialogBlockState.rootNode;
			results.push( dialogBlock );
		}

		state.curNode.AddChild( new IfNode( conditions, results ) );

		return state;
	}

	function IsSequence(str) {
		// console.log("IsSequence? " + str);
		return str === "sequence" || str === "cycle" || str === "shuffle";
	}

	// TODO: don't forget about eating whitespace
	function ParseSequence(state, sequenceType) {
		// console.log("SEQUENCE " + sequenceType);
		state.Print();

		var isNewline = false;
		var itemStrings = [];
		var curItemIndex = -1; // -1 indicates not reading an item yet
		var codeBlockCount = 0;

		while( !state.Done() ) {
			if(state.Char() === Sym.CodeOpen)
				codeBlockCount++;
			else if(state.Char() === Sym.CodeClose)
				codeBlockCount--;

			var isWhitespace = (state.Char() === " " || state.Char() === "\t");
			var isSkippableWhitespace = isNewline && isWhitespace;
			var isNewListItem = isNewline && (codeBlockCount <= 0) && (state.Char() === Sym.List);

			if(isNewListItem) {
				// console.log("found next list item");
				curItemIndex++;
				itemStrings[curItemIndex] = "";
			}
			else if(curItemIndex > -1) {
				if(!isSkippableWhitespace)
					itemStrings[curItemIndex] += state.Char();
			}

			isNewline = (state.Char() === Sym.Linebreak) || isSkippableWhitespace || isNewListItem;

			// console.log(state.Char());
			state.Step();
		}
		// console.log(itemStrings);
		// console.log("SEQUENCE DONE");

		var options = [];
		for(var i = 0; i < itemStrings.length; i++) {
			var str = itemStrings[i];
			var dialogBlockState = new ParserState( new BlockNode( BlockMode.Dialog, false /* doIndentFirstLine */ ), str );
			dialogBlockState = ParseDialog( dialogBlockState );
			var dialogBlock = dialogBlockState.rootNode;
			options.push( dialogBlock );
		}

		// console.log(options);

		if(sequenceType === "sequence")
			state.curNode.AddChild( new SequenceNode( options ) );
		else if(sequenceType === "cycle")
			state.curNode.AddChild( new CycleNode( options ) );
		else if(sequenceType === "shuffle")
			state.curNode.AddChild( new ShuffleNode( options ) );

		return state;
	}

	function ParseFunction(state, funcName) {
		console.log("~~~ PARSE FUNCTION " + funcName);

		var args = [];

		var curSymbol = "";
		function OnSymbolEnd() {
			curSymbol = curSymbol.trim();
			// console.log("PARAMTER " + curSymbol);
			args.push( StringToValue(curSymbol) );
			// console.log(args);
			curSymbol = "";
		}

		while( !( state.Char() === "\n" || state.Done() ) ) {
			if( state.MatchAhead(Sym.CodeOpen) ) {
				var codeBlockState = new ParserState( new BlockNode(BlockMode.Code), state.ConsumeBlock( Sym.CodeOpen, Sym.CodeClose ) );
				codeBlockState = ParseCode( codeBlockState );
				var codeBlock = codeBlockState.rootNode;
				args.push( codeBlock );
				curSymbol = "";
			}
			else if( state.MatchAhead(Sym.String) ) {
				/* STRING LITERAL */
				var str = state.ConsumeBlock(Sym.String, Sym.String);
				// console.log("STRING " + str);
				args.push( new LiteralNode(str) );
				curSymbol = "";
			}
			else if(state.Char() === " " && curSymbol.length > 0) {
				OnSymbolEnd();
			}
			else {
				curSymbol += state.Char();
			}
			state.Step();
		}

		if(curSymbol.length > 0) {
			OnSymbolEnd();
		}

		state.curNode.AddChild( new FuncNode( funcName, args ) );

		return state;
	}

	function IsValidVariableName(str) {
		var reg = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;
		var isValid = reg.test(str);
		// console.log("VALID variable??? " + isValid);
		return isValid;
	}

	function StringToValue(valStr) {
		if(valStr[0] === Sym.CodeOpen) {
			// CODE BLOCK!!!
			var codeStr = (new ParserState( null, valStr )).ConsumeBlock(Sym.CodeOpen, Sym.CodeClose); //hacky
			var codeBlockState = new ParserState( new BlockNode( BlockMode.Code ), codeStr );
			codeBlockState = ParseCode( codeBlockState );
			return codeBlockState.rootNode;
		}
		else if(valStr[0] === Sym.String) {
			// STRING!!
			// console.log("STRING");
			var str = "";
			var i = 1;
			while (i < valStr.length && valStr[i] != Sym.String) {
				str += valStr[i];
				i++;
			}
			// console.log(str);
			return new LiteralNode( str );
		}
		else if(valStr === "true") {
			// BOOL
			return new LiteralNode( true );
		}
		else if(valStr === "false") {
			// BOOL
			return new LiteralNode( false );
		}
		else if( !isNaN(parseFloat(valStr)) ) {
			// NUMBER!!
			// console.log("NUMBER!!! " + valStr);
			return new LiteralNode( parseFloat(valStr) );
		}
		else if(IsValidVariableName(valStr)) {
			// VARIABLE!!
			// console.log("VARIABLE");
			return new VarNode(valStr); // TODO : check for valid potential variables
		}
		else {
			// uh oh
			return new LiteralNode(null);
		}
	}

	var setSymbol = "=";
	var ifSymbol = "?";
	var elseSymbol = ":";
	var operatorSymbols = ["==", ">", "<", ">=", "<=", "-", "+", "/", "*"]; // operators need to be in reverse order of precedence
	function CreateExpression(expStr) {
		console.log("CREATE EXPRESSION --- " + expStr);

		expStr = expStr.trim();

		function IsInsideString(index) {
			var inString = false;
			for(var i = 0; i < expStr.length; i++) {
				if(expStr[i] === Sym.String)
					inString = !inString;

				if(index === i)
					return inString;
			}
			return false;
		}

		function IsInsideCode(index) {
			var count = 0;
			for(var i = 0; i < expStr.length; i++) {
				if(expStr[i] === Sym.CodeOpen)
					count++;
				else if(expStr[i] === Sym.CodeClose)
					count--;

				if(index === i)
					return count > 0;
			}
			return false;
		}

		var operator = null;

		// set is special because other operator can look like it, and it has to go first in the order of operations
		var setIndex = expStr.indexOf(setSymbol);
		if( setIndex > -1 && !IsInsideString(setIndex) && !IsInsideCode(setIndex) ) { // it might be a set operator
			if( expStr[setIndex+1] != "=" && expStr[setIndex-1] != ">" && expStr[setIndex-1] != "<" ) {
				// ok it actually IS a set operator and not ==, >=, or <=
				operator = setSymbol;
				var variableName = expStr.substring(0,setIndex).trim(); // TODO : valid variable name testing
				var left = IsValidVariableName(variableName) ? new VarNode( variableName ) : new LiteralNode(null);
				var right = CreateExpression( expStr.substring(setIndex+setSymbol.length) );
				var exp = new ExpNode( operator, left, right );
				return exp;
			}
		}

		// special if "expression" for single-line if statements
		var ifIndex = expStr.indexOf(ifSymbol);
		if( ifIndex > -1 && !IsInsideString(ifIndex) && !IsInsideCode(ifIndex) ) {
			operator = ifSymbol;
			var conditionStr = expStr.substring(0,ifIndex).trim();
			var conditions = [ CreateExpression(conditionStr) ];

			var resultStr = expStr.substring(ifIndex+ifSymbol.length);
			var results = [];
			function AddResult(str) {
				var dialogBlockState = new ParserState( new BlockNode(BlockMode.Dialog), str );
				dialogBlockState = ParseDialog( dialogBlockState );
				var dialogBlock = dialogBlockState.rootNode;
				results.push( dialogBlock );
			}

			var elseIndex = resultStr.indexOf(elseSymbol); // does this need to test for strings?
			if(elseIndex > -1) {
				conditions.push( new ElseNode() );

				var elseStr = resultStr.substring(elseIndex+elseSymbol.length);
				var resultStr = resultStr.substring(0,elseIndex);

				AddResult( resultStr.trim() );
				AddResult( elseStr.trim() );
			}
			else {
				AddResult( resultStr.trim() );
			}

			return new IfNode( conditions, results, true /*isSingleLine*/ );
		}

		for( var i = 0; (operator == null) && (i < operatorSymbols.length); i++ ) {
			var opSym = operatorSymbols[i];
			var opIndex = expStr.indexOf( opSym );
			if( opIndex > -1 && !IsInsideString(opIndex) && !IsInsideCode(opIndex) ) {
				operator = opSym;
				var left = CreateExpression( expStr.substring(0,opIndex) );
				var right = CreateExpression( expStr.substring(opIndex+opSym.length) );
				var exp = new ExpNode( operator, left, right );
				return exp;
			}
		}

		if( operator == null ) {
			return StringToValue(expStr);
		}
	}
	this.CreateExpression = CreateExpression;

	function IsWhitespace(str) {
		return ( str === " " || str === "\t" || str === "\n" );
	}

	function IsExpression(str) {
		var tempState = new ParserState(null, str); // hacky
		var nonWhitespaceCount = 0;

		while (!tempState.Done()) {
			if( IsWhitespace(tempState.Char()) ) {
				tempState.Step(); // consume whitespace
			}
			else if( tempState.MatchAhead(Sym.CodeOpen) ) {
				tempState.ConsumeBlock( Sym.CodeOpen, Sym.CodeClose );
			}
			else {
				nonWhitespaceCount++;
				tempState.Step();
			}
		}

		var isExpression = nonWhitespaceCount > 0;
		return isExpression;
	}

	function ParseExpression(state) {
		var line = state.Source(); // state.Peak( [Sym.Linebreak] ); // TODO : remove the linebreak thing
		// console.log("EXPRESSION " + line);
		var exp = CreateExpression( line );
		// console.log(exp);
		state.curNode.AddChild( exp );
		state.Step( line.length );
		return state;
	}

	function ParseCode(state) {
		console.log("PARSE CODE --- " + state.Source());

		// skip leading whitespace
		while (IsWhitespace(state.Char())) {
			state.Step();
		}

		if( state.Char() === Sym.List && (state.Peak([]).indexOf("?") > -1) ) { // TODO : symbols? matchahead?
			// console.log("PEAK IF " + state.Peak( ["?"] ));
			state = ParseIf( state );
		}
		else if( environment.HasFunction( state.Peak( [" "] ) ) ) { // TODO --- what about newlines???
			var funcName = state.Peak( [" "] );
			state.Step( funcName.length );
			state = ParseFunction( state, funcName );
		}
		else if( IsSequence( state.Peak( [" ", Sym.Linebreak] ) ) ) {
			var sequenceType = state.Peak( [" ", Sym.Linebreak] );
			state.Step( sequenceType.length );
			state = ParseSequence( state, sequenceType );
		}
		else if (IsExpression(state.Source())) {
			state = ParseExpression(state);
		}
		else {
			// multi-line code block
			while (!state.Done()) {
				if( state.MatchAhead(Sym.CodeOpen) ) {
					state = ParseCodeBlock( state );
				}
				else {
					state.Step();
				}
			}
		}

		// just go to the end now
		while (!state.Done()) {
			state.Step();
		}

		return state;
	}

	function ParseCodeBlock(state) {
		var codeStr = state.ConsumeBlock( Sym.CodeOpen, Sym.CodeClose );

		// console.log("PARSE CODE");
		// console.log(codeStr);

		var codeState = new ParserState( new BlockNode(BlockMode.Code), codeStr );
		codeState = ParseCode( codeState );
		
		state.curNode.AddChild( codeState.rootNode );

		return state;
	}

}

} // Script()
</script>

<script>
function Dialog() {

this.CreateRenderer = function() {
	return new DialogRenderer();
};

this.CreateBuffer = function() {
	return new DialogBuffer();
};

var DialogRenderer = function() {

	// TODO : refactor this eventually? remove everything from struct.. avoid the defaults?
	var textboxInfo = {
		img : null,
		width : 104,
		height : 8+4+2+5, //8 for text, 4 for top-bottom padding, 2 for line padding, 5 for arrow
		top : 12,
		left : 12,
		bottom : 12, //for drawing it from the bottom
		font_scale : 0.5, // we draw font at half-size compared to everything else
		padding_vert : 2,
		padding_horz : 4,
		arrow_height : 5,
	};

	var font = null;
	this.SetFont = function(f) {
		font = f;
		textboxInfo.height = (textboxInfo.padding_vert * 3) + (relativeFontHeight() * 2) + textboxInfo.arrow_height;
		textboxInfo.img = context.createImageData(textboxInfo.width*scale, textboxInfo.height*scale);
	}

	function textScale() {
		return scale * textboxInfo.font_scale;
	}

	function relativeFontWidth() {
		return Math.ceil( font.getWidth() * textboxInfo.font_scale );
	}

	function relativeFontHeight() {
		return Math.ceil( font.getHeight() * textboxInfo.font_scale );
	}

	var context = null;
	this.AttachContext = function(c) {
		context = c;
	};

	this.ClearTextbox = function() {
		if(context == null) return;

		//create new image none exists
		if(textboxInfo.img == null)
			textboxInfo.img = context.createImageData(textboxInfo.width*scale, textboxInfo.height*scale);

		// fill text box with black
		for (var i=0;i<textboxInfo.img.data.length;i+=4)
		{
			textboxInfo.img.data[i+0]=0;
			textboxInfo.img.data[i+1]=0;
			textboxInfo.img.data[i+2]=0;
			textboxInfo.img.data[i+3]=255;
		}
	};

	var isCentered = false;
	this.SetCentered = function(centered) {
		isCentered = centered;
	};

	this.DrawTextbox = function() {
		if(context == null) return;
		if (isCentered) {
			context.putImageData(textboxInfo.img, textboxInfo.left*scale, ((height/2)-(textboxInfo.height/2))*scale);
		}
		else if (player().y < mapsize/2) {
			//bottom
			context.putImageData(textboxInfo.img, textboxInfo.left*scale, (height-textboxInfo.bottom-textboxInfo.height)*scale);
		}
		else {
			//top
			context.putImageData(textboxInfo.img, textboxInfo.left*scale, textboxInfo.top*scale);
		}
	};

	var arrowdata = [
		1,1,1,1,1,
		0,1,1,1,0,
		0,0,1,0,0
	];
	this.DrawNextArrow = function() {
		// console.log("draw arrow!");
		var top = (textboxInfo.height-5) * scale;
		var left = (textboxInfo.width-(5+4)) * scale;
		if (textDirection === TextDirection.RightToLeft) { // RTL hack
			left = 4 * scale;
		}

		for (var y = 0; y < 3; y++) {
			for (var x = 0; x < 5; x++) {
				var i = (y * 5) + x;
				if (arrowdata[i] == 1) {
					//scaling nonsense
					for (var sy = 0; sy < scale; sy++) {
						for (var sx = 0; sx < scale; sx++) {
							var pxl = 4 * ( ((top+(y*scale)+sy) * (textboxInfo.width*scale)) + (left+(x*scale)+sx) );
							textboxInfo.img.data[pxl+0] = 255;
							textboxInfo.img.data[pxl+1] = 255;
							textboxInfo.img.data[pxl+2] = 255;
							textboxInfo.img.data[pxl+3] = 255;
						}
					}
				}
			}
		}
	};

	var text_scale = 2; //using a different scaling factor for text feels like cheating... but it looks better
	this.DrawChar = function(char, row, col, leftPos) {
		char.offset = {
			x: char.base_offset.x,
			y: char.base_offset.y
		}; // compute render offset *every* frame

		char.SetPosition(row,col);
		char.ApplyEffects(effectTime);

		var charData = char.bitmap;

		var top = (4 * scale) + (row * 2 * scale) + (row * font.getHeight() * text_scale) + Math.floor( char.offset.y );
		var left = (4 * scale) + (leftPos * text_scale) + Math.floor( char.offset.x );

		var debug_r = Math.random() * 255;

		for (var y = 0; y < char.height; y++) {
			for (var x = 0; x < char.width; x++) {

				var i = (y * char.width) + x;
				if ( charData[i] == 1 ) {

					//scaling nonsense
					for (var sy = 0; sy < text_scale; sy++) {
						for (var sx = 0; sx < text_scale; sx++) {
							var pxl = 4 * ( ((top+(y*text_scale)+sy) * (textboxInfo.width*scale)) + (left+(x*text_scale)+sx) );
							textboxInfo.img.data[pxl+0] = char.color.r;
							textboxInfo.img.data[pxl+1] = char.color.g;
							textboxInfo.img.data[pxl+2] = char.color.b;
							textboxInfo.img.data[pxl+3] = char.color.a;
						}
					}
				}
				// else {
				// 	// DEBUG

				// 	//scaling nonsense
				// 	for (var sy = 0; sy < text_scale; sy++) {
				// 		for (var sx = 0; sx < text_scale; sx++) {
				// 			var pxl = 4 * ( ((top+(y*text_scale)+sy) * (textboxInfo.width*scale)) + (left+(x*text_scale)+sx) );
				// 			textboxInfo.img.data[pxl+0] = debug_r;
				// 			textboxInfo.img.data[pxl+1] = 0;
				// 			textboxInfo.img.data[pxl+2] = 0;
				// 			textboxInfo.img.data[pxl+3] = 255;
				// 		}
				// 	}
				// }

			}
		}
		
		// call printHandler for character
		char.OnPrint();
	};

	var effectTime = 0; // TODO this variable should live somewhere better
	this.Draw = function(buffer,dt) {
		effectTime += dt;

		this.ClearTextbox();

		buffer.ForEachActiveChar( this.DrawChar );

		if( buffer.CanContinue() )
			this.DrawNextArrow();

		this.DrawTextbox();

		if( buffer.DidPageFinishThisFrame() && onPageFinish != null )
			onPageFinish();
	};

	/* this is a hook for GIF rendering */
	var onPageFinish = null;
	this.SetPageFinishHandler = function(handler) {
		onPageFinish = handler;
	};

	this.Reset = function() {
		effectTime = 0;
		// TODO - anything else?
	}

	// this.CharsPerRow = function() {
	// 	return textboxInfo.charsPerRow;
	// }
}


var DialogBuffer = function() {
	var buffer = [[[]]]; // holds dialog in an array buffer
	var pageIndex = 0;
	var rowIndex = 0;
	var charIndex = 0;
	var nextCharTimer = 0;
	var nextCharMaxTime = 50; // in milliseconds
	var isDialogReadyToContinue = false;
	var activeTextEffects = [];
	var font = null;
	var arabicHandler = new ArabicHandler();
	var onDialogEndCallbacks = [];

	this.SetFont = function(f) {
		font = f;
	}

	this.CurPage = function() { return buffer[ pageIndex ]; };
	this.CurRow = function() { return this.CurPage()[ rowIndex ]; };
	this.CurChar = function() { return this.CurRow()[ charIndex ]; };
	this.CurPageCount = function() { return buffer.length; };
	this.CurRowCount = function() { return this.CurPage().length; };
	this.CurCharCount = function() { return this.CurRow().length; };

	this.ForEachActiveChar = function(handler) { // Iterates over visible characters on the active page
		var rowCount = rowIndex + 1;
		for (var i = 0; i < rowCount; i++) {
			var row = this.CurPage()[i];
			var charCount = (i == rowIndex) ? charIndex+1 : row.length;
			// console.log(charCount);

			var leftPos = 0;
			if (textDirection === TextDirection.RightToLeft) {
				leftPos = 24 * 8; // hack -- I think this is correct?
			}

			for(var j = 0; j < charCount; j++) {
				var char = row[j];
				if(char) {
					if (textDirection === TextDirection.RightToLeft) {
						leftPos -= char.spacing;
					}
					// console.log(j + " " + leftPos);

					// handler( char, i /*rowIndex*/, j /*colIndex*/ );
					handler(char, i /*rowIndex*/, j /*colIndex*/, leftPos)

					if (textDirection === TextDirection.LeftToRight) {
						leftPos += char.spacing;
					}
				}
			}
		}
	}

	this.Reset = function() {
		buffer = [[[]]];
		pageIndex = 0;
		rowIndex = 0;
		charIndex = 0;
		isDialogReadyToContinue = false;

		activeTextEffects = [];

		onDialogEndCallbacks = [];

		isActive = false;
	};

	this.DoNextChar = function() {
		// console.log("DO NEXT CHAR");

		nextCharTimer = 0; //reset timer

		//time to update characters
		if (charIndex + 1 < this.CurCharCount()) {
			//add char to current row
			charIndex++;
		}
		else if (rowIndex + 1 < this.CurRowCount()) {
			//start next row
			rowIndex++;
			charIndex = 0;
		}
		else {
			//the page is full!
			isDialogReadyToContinue = true;
			didPageFinishThisFrame = true;

			// console.log("WAITING FOR INPUT");
		}

		// console.log(this.CurChar());
		if(this.CurChar() != null)
			this.CurChar().OnPrint(); // make sure we hit the callback before we run out of text
	};

	this.Update = function(dt) {
		didPageFinishThisFrame = false;
		didFlipPageThisFrame = false;
		// this.Draw(dt); // TODO move into a renderer object
		if (isDialogReadyToContinue) {
			return; //waiting for dialog to be advanced by player
		}

		nextCharTimer += dt; //tick timer

		if (nextCharTimer > nextCharMaxTime) {
			this.DoNextChar();
		}
	};

	this.Skip = function() {
		console.log("SKIPPP");
		didPageFinishThisFrame = false;
		didFlipPageThisFrame = false;
		// add new characters until you get to the end of the current line of dialog
		while (rowIndex < this.CurRowCount()) {
			this.DoNextChar();

			if(isDialogReadyToContinue) {
				//make sure to push the rowIndex past the end to break out of the loop
				rowIndex++;
				charIndex = 0;
			}
		}
		rowIndex = this.CurRowCount()-1;
		charIndex = this.CurCharCount()-1;
	};

	this.FlipPage = function() {
		didFlipPageThisFrame = true;
		isDialogReadyToContinue = false;
		pageIndex++;
		rowIndex = 0;
		charIndex = 0;
	}

	this.EndDialog = function() {
		isActive = false; // no more text to show... this should be a sign to stop rendering dialog

		for (var i = 0; i < onDialogEndCallbacks.length; i++) {
			onDialogEndCallbacks[i]();
		}
	}

	this.Continue = function() {
		console.log("CONTINUE");
		if (pageIndex + 1 < this.CurPageCount()) {
			//start next page
			this.FlipPage();
			return true; /* hasMoreDialog */
		}
		else {
			//end dialog mode
			this.EndDialog();
			return false; /* hasMoreDialog */
		}
	};

	var isActive = false;
	this.IsActive = function() { return isActive; };

	this.OnDialogEnd = function(callback) {
		if (!isActive) {
			callback();
		}
		else {
			onDialogEndCallbacks.push(callback);
		}
	}

	this.CanContinue = function() { return isDialogReadyToContinue; };

	function DialogChar(effectList) {
		this.effectList = effectList.slice(); // clone effect list (since it can change between chars)

		this.color = { r:255, g:255, b:255, a:255 };
		this.offset = { x:0, y:0 }; // in pixels (screen pixels?)

		this.col = 0;
		this.row = 0;

		this.SetPosition = function(row,col) {
			// console.log("SET POS");
			// console.log(this);
			this.row = row;
			this.col = col;
		}

		this.ApplyEffects = function(time) {
			// console.log("APPLY EFFECTS! " + time);
			for(var i = 0; i < this.effectList.length; i++) {
				var effectName = this.effectList[i];
				// console.log("FX " + effectName);
				TextEffects[ effectName ].DoEffect( this, time );
			}
		}

		var printHandler = null; // optional function to be called once on printing character
		this.SetPrintHandler = function(handler) {
			printHandler = handler;
		}
		this.OnPrint = function() {
			if (printHandler != null) {
				console.log("PRINT HANDLER ---- DIALOG BUFFER");
				printHandler();
				printHandler = null; // only call handler once (hacky)
			}
		}

		this.bitmap = [];
		this.width = 0;
		this.height = 0;
		this.base_offset = { // hacky name
 			x: 0,
			y: 0
		};
		this.spacing = 0;
	}

	function DialogFontChar(font, char, effectList) {
		Object.assign(this, new DialogChar(effectList));

		var charData = font.getChar(char);
		this.bitmap = charData.data;
		this.width = charData.width;
		this.height = charData.height;
		this.base_offset.x = charData.offset.x;
		this.base_offset.y = charData.offset.y;
		this.spacing = charData.spacing;
	}

	function DialogDrawingChar(drawingId, effectList) {
		Object.assign(this, new DialogChar(effectList));

		var imageData = renderer.GetImageSource(drawingId)[0];
		var imageDataFlat = [];
		for (var i = 0; i < imageData.length; i++) {
			// console.log(imageData[i]);
			imageDataFlat = imageDataFlat.concat(imageData[i]);
		}

		this.bitmap = imageDataFlat;
		this.width = 8;
		this.height = 8;
		this.spacing = 8;
	}

	function AddWordToCharArray(charArray,word,effectList) {
		for(var i = 0; i < word.length; i++) {
			charArray.push( new DialogFontChar( font, word[i], effectList ) );
		}
		return charArray;
	}

	function GetCharArrayWidth(charArray) {
		var width = 0;
		for(var i = 0; i < charArray.length; i++) {
			width += charArray[i].spacing;
		}
		return width;
	}

	function GetStringWidth(str) {
		var width = 0;
		for (var i = 0; i < str.length; i++) {
			var charData = font.getChar(str[i]);
			width += charData.spacing;
		}
		return width;
	}

	var pixelsPerRow = 192; // hard-coded fun times!!!

	this.AddDrawing = function(drawingId, onFinishHandler) {
		// console.log("DRAWING ID " + drawingId);

		var curPageIndex = buffer.length - 1;
		var curRowIndex = buffer[curPageIndex].length - 1;
		var curRowArr = buffer[curPageIndex][curRowIndex];

		var drawingChar = new DialogDrawingChar(drawingId, activeTextEffects)
		drawingChar.SetPrintHandler( onFinishHandler );

		var rowLength = GetCharArrayWidth(curRowArr);

		// TODO : clean up copy-pasted code here :/
		if (rowLength + drawingChar.spacing  <= pixelsPerRow || rowLength <= 0)
		{
			//stay on same row
			curRowArr.push( drawingChar );
		}
		else if (curRowIndex == 0)
		{
			//start next row
			buffer[ curPageIndex ][ curRowIndex ] = curRowArr;
			buffer[ curPageIndex ].push( [] );
			curRowIndex++;
			curRowArr = buffer[ curPageIndex ][ curRowIndex ];
			curRowArr.push( drawingChar );
		}
		else {
			//start next page
			buffer[ curPageIndex ][ curRowIndex ] = curRowArr;
			buffer.push( [] );
			curPageIndex++;
			buffer[ curPageIndex ].push( [] );
			curRowIndex = 0;
			curRowArr = buffer[ curPageIndex ][ curRowIndex ];
			curRowArr.push( drawingChar );
		}

		isActive = true; // this feels like a bad way to do this???
	}

	// TODO : convert this into something that takes DialogChar arrays
	this.AddText = function(textStr,onFinishHandler) {
		// console.log("ADD TEXT " + textStr);

		//process dialog so it's easier to display
		var words = textStr.split(" ");

		// var curPageIndex = this.CurPageCount() - 1;
		// var curRowIndex = this.CurRowCount() - 1;
		// var curRowArr = this.CurRow();

		var curPageIndex = buffer.length - 1;
		var curRowIndex = buffer[curPageIndex].length - 1;
		var curRowArr = buffer[curPageIndex][curRowIndex];

		for (var i = 0; i < words.length; i++) {
			var word = words[i];
			if (arabicHandler.ContainsArabicCharacters(word)) {
				word = arabicHandler.ShapeArabicCharacters(word);
			}

			var wordWithPrecedingSpace = ((i == 0) ? "" : " ") + word;
			var wordLength = GetStringWidth( wordWithPrecedingSpace );

			var rowLength = GetCharArrayWidth(curRowArr);

			if (rowLength + wordLength <= pixelsPerRow || rowLength <= 0) {
				//stay on same row
				curRowArr = AddWordToCharArray( curRowArr, wordWithPrecedingSpace, activeTextEffects );
			}
			else if (curRowIndex == 0) {
				//start next row
				buffer[ curPageIndex ][ curRowIndex ] = curRowArr;
				buffer[ curPageIndex ].push( [] );
				curRowIndex++;
				curRowArr = buffer[ curPageIndex ][ curRowIndex ];
				curRowArr = AddWordToCharArray( curRowArr, word, activeTextEffects );
			}
			else {
				//start next page
				buffer[ curPageIndex ][ curRowIndex ] = curRowArr;
				buffer.push( [] );
				curPageIndex++;
				buffer[ curPageIndex ].push( [] );
				curRowIndex = 0;
				curRowArr = buffer[ curPageIndex ][ curRowIndex ];
				curRowArr = AddWordToCharArray( curRowArr, word, activeTextEffects );
			}
		}

		//destroy any empty stuff
		var lastPage = buffer[ buffer.length-1 ];
		var lastRow = lastPage[ lastPage.length-1 ];
		if( lastRow.length == 0 )
			lastPage.splice( lastPage.length-1, 1 );
		if( lastPage.length == 0 )
			buffer.splice( buffer.length-1, 1 );

		//finish up 
		lastPage = buffer[ buffer.length-1 ];
		lastRow = lastPage[ lastPage.length-1 ];
		if( lastRow.length > 0 ) {
			var lastChar = lastRow[ lastRow.length-1 ];
			lastChar.SetPrintHandler( onFinishHandler );
		}

		console.log(buffer);

		isActive = true;
	};

	this.AddLinebreak = function() {
		var lastPage = buffer[ buffer.length-1 ];
		if( lastPage.length <= 1 ) {
			console.log("LINEBREAK - NEW ROW ");
			// add new row
			lastPage.push( [] );
		}
		else {
			// add new page
			buffer.push( [[]] );
		}
		console.log(buffer);

		isActive = true;
	}

	/* new text effects */
	this.HasTextEffect = function(name) {
		return activeTextEffects.indexOf( name ) > -1;
	}
	this.AddTextEffect = function(name) {
		activeTextEffects.push( name );
	}
	this.RemoveTextEffect = function(name) {
		activeTextEffects.splice( activeTextEffects.indexOf( name ), 1 );
	}

	/* this is a hook for GIF rendering */
	var didPageFinishThisFrame = false;
	this.DidPageFinishThisFrame = function(){ return didPageFinishThisFrame; };

	var didFlipPageThisFrame = false;
	this.DidFlipPageThisFrame = function(){ return didFlipPageThisFrame; };

	// this.SetCharsPerRow = function(num){ charsPerRow = num; }; // hacky
};

/* ARABIC */
var ArabicHandler = function() {

	var arabicCharStart = 0x0621;
	var arabicCharEnd = 0x064E;

	var CharacterForm = {
		Isolated : 0,
		Final : 1,
		Initial : 2,
		Middle : 3
	};

	// map glyphs to their character forms
	var glyphForms = {
		/*		 Isolated, Final, Initial, Middle Forms	*/
		0x0621: [0xFE80,0xFE80,0xFE80,0xFE80], /*  HAMZA  */ 
		0x0622: [0xFE81,0xFE82,0xFE81,0xFE82], /*  ALEF WITH MADDA ABOVE  */ 
		0x0623: [0xFE83,0xFE84,0xFE83,0xFE84], /*  ALEF WITH HAMZA ABOVE  */ 
		0x0624: [0xFE85,0xFE86,0xFE85,0xFE86], /*  WAW WITH HAMZA ABOVE  */ 
		0x0625: [0xFE87,0xFE88,0xFE87,0xFE88], /*  ALEF WITH HAMZA BELOW  */ 
		0x0626: [0xFE89,0xFE8A,0xFE8B,0xFE8C], /*  YEH WITH HAMZA ABOVE  */ 
		0x0627: [0xFE8D,0xFE8E,0xFE8D,0xFE8E], /*  ALEF  */ 
		0x0628: [0xFE8F,0xFE90,0xFE91,0xFE92], /*  BEH  */ 
		0x0629: [0xFE93,0xFE94,0xFE93,0xFE94], /*  TEH MARBUTA  */ 
		0x062A: [0xFE95,0xFE96,0xFE97,0xFE98], /*  TEH  */ 
		0x062B: [0xFE99,0xFE9A,0xFE9B,0xFE9C], /*  THEH  */ 
		0x062C: [0xFE9D,0xFE9E,0xFE9F,0xFEA0], /*  JEEM  */ 
		0x062D: [0xFEA1,0xFEA2,0xFEA3,0xFEA4], /*  HAH  */ 
		0x062E: [0xFEA5,0xFEA6,0xFEA7,0xFEA8], /*  KHAH  */ 
		0x062F: [0xFEA9,0xFEAA,0xFEA9,0xFEAA], /*  DAL  */ 
		0x0630: [0xFEAB,0xFEAC,0xFEAB,0xFEAC], /*  THAL */ 
		0x0631: [0xFEAD,0xFEAE,0xFEAD,0xFEAE], /*  RAA  */ 
		0x0632: [0xFEAF,0xFEB0,0xFEAF,0xFEB0], /*  ZAIN  */ 
		0x0633: [0xFEB1,0xFEB2,0xFEB3,0xFEB4], /*  SEEN  */ 
		0x0634: [0xFEB5,0xFEB6,0xFEB7,0xFEB8], /*  SHEEN  */ 
		0x0635: [0xFEB9,0xFEBA,0xFEBB,0xFEBC], /*  SAD  */ 
		0x0636: [0xFEBD,0xFEBE,0xFEBF,0xFEC0], /*  DAD  */ 
		0x0637: [0xFEC1,0xFEC2,0xFEC3,0xFEC4], /*  TAH  */ 
		0x0638: [0xFEC5,0xFEC6,0xFEC7,0xFEC8], /*  ZAH  */ 
		0x0639: [0xFEC9,0xFECA,0xFECB,0xFECC], /*  AIN  */ 
		0x063A: [0xFECD,0xFECE,0xFECF,0xFED0], /*  GHAIN  */ 
		0x063B: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x063C: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x063D: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x063E: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x063F: [0x0000,0x0000,0x0000,0x0000], /*  space */
		0x0640: [0x0640,0x0640,0x0640,0x0640], /*  TATWEEL  */ 
		0x0641: [0xFED1,0xFED2,0xFED3,0xFED4], /*  FAA  */ 
		0x0642: [0xFED5,0xFED6,0xFED7,0xFED8], /*  QAF  */ 
		0x0643: [0xFED9,0xFEDA,0xFEDB,0xFEDC], /*  KAF  */ 
		0x0644: [0xFEDD,0xFEDE,0xFEDF,0xFEE0], /*  LAM  */ 
		0x0645: [0xFEE1,0xFEE2,0xFEE3,0xFEE4], /*  MEEM  */ 
		0x0646: [0xFEE5,0xFEE6,0xFEE7,0xFEE8], /*  NOON  */ 
		0x0647: [0xFEE9,0xFEEA,0xFEEB,0xFEEC], /*  HEH  */ 
		0x0648: [0xFEED,0xFEEE,0xFEED,0xFEEE], /*  WAW  */ 
		0x0649: [0xFEEF,0xFEF0,0xFBE8,0xFBE9], /*  ALEF MAKSURA  */ 
		0x064A: [0xFEF1,0xFEF2,0xFEF3,0xFEF4], /*  YEH  */ 
		0x064B: [0xFEF5,0xFEF6,0xFEF5,0xFEF6], /*  LAM ALEF MADD*/
		0x064C: [0xFEF7,0xFEF8,0xFEF7,0xFEF8], /*  LAM ALEF HAMZA ABOVE*/
		0x064D: [0xFEF9,0xFEFa,0xFEF9,0xFEFa], /*  LAM ALEF HAMZA BELOW*/
		0x064E: [0xFEFb,0xFEFc,0xFEFb,0xFEFc], /*  LAM ALEF */
	};

	var disconnectedCharacters = [0x0621,0x0622,0x0623,0x0624,0x0625,0x0627,0x062f,0x0630,0x0631,0x0632,0x0648,0x0649,0x064b,0x064c,0x064d,0x064e];

	function IsArabicCharacter(char) {
		var code = char.charCodeAt(0);
		return (code >= arabicCharStart && code <= arabicCharEnd);
	}

	function ContainsArabicCharacters(word) {
		for (var i = 0; i < word.length; i++) {
			if (IsArabicCharacter(word[i])) {
				return true;
			}
		}
		return false;
	}

	function IsDisconnectedCharacter(char) {
		var code = char.charCodeAt(0);
		return disconnectedCharacters.indexOf(code) != -1;
	}

	function ShapeArabicCharacters(word) {
		var shapedWord = "";

		for (var i = 0; i < word.length; i++) {
			if (!IsArabicCharacter(word[i])) {
				shapedWord += word[i];
				continue;
			}

			var connectedToPreviousChar = i-1 >= 0 && IsArabicCharacter(word[i-1]) && !IsDisconnectedCharacter(word[i-1]);

			var connectedToNextChar = i+1 < word.length && IsArabicCharacter(word[i+1]) && !IsDisconnectedCharacter(word[i]);

			var form;
			if (!connectedToPreviousChar && !connectedToNextChar) {
				form = CharacterForm.Isolated;
			}
			else if (connectedToPreviousChar && !connectedToNextChar) {
				form = CharacterForm.Final;
			}
			else if (!connectedToPreviousChar && connectedToNextChar) {
				form = CharacterForm.Initial;
			}
			else if (connectedToPreviousChar && connectedToNextChar) {
				form = CharacterForm.Middle;
			}

			var code = word[i].charCodeAt(0);

			// handle lam alef special case
			if (code == 0x0644 && connectedToNextChar) {
				var nextCode = word[i+1].charCodeAt(0);
				var specialCode = null;
				if (nextCode == 0x0622) {
					// alef madd
					specialCode = glyphForms[0x064b][form];
				}
				else if (nextCode == 0x0623) {
					// hamza above
					specialCode = glyphForms[0x064c][form];
				}
				else if (nextCode == 0x0625) {
					// hamza below
					specialCode = glyphForms[0x064d][form];
				}
				else if (nextCode == 0x0627) {
					// alef
					specialCode = glyphForms[0x064e][form];
				}

				if (specialCode != null) {
					shapedWord += String.fromCharCode(specialCode);
					i++; // skip a step
					continue;
				}
			}

			// hacky?
			if (form === CharacterForm.Isolated) {
				shapedWord += word[i];
				continue;
			}

			var shapedCode = glyphForms[code][form];
			shapedWord += String.fromCharCode(shapedCode);
		}

		return shapedWord;
	}

	this.ContainsArabicCharacters = ContainsArabicCharacters;
	this.ShapeArabicCharacters = ShapeArabicCharacters;
}

/* NEW TEXT EFFECTS */
var TextEffects = new Map();

var RainbowEffect = function() { // TODO - should it be an object or just a method?
	this.DoEffect = function(char,time) {
		// console.log("RAINBOW!!!");
		// console.log(char);
		// console.log(char.color);
		// console.log(char.col);

		var h = Math.abs( Math.sin( (time / 600) - (char.col / 8) ) );
		var rgb = hslToRgb( h, 1, 0.5 );
		char.color.r = rgb[0];
		char.color.g = rgb[1];
		char.color.b = rgb[2];
		char.color.a = 255;
	}
};
TextEffects["rbw"] = new RainbowEffect();

var ColorEffect = function(index) {
	this.DoEffect = function(char) {
		var pal = getPal( curPal() );
		var color = pal[ parseInt( index ) ];
		// console.log(color);
		char.color.r = color[0];
		char.color.g = color[1];
		char.color.b = color[2];
		char.color.a = 255;
	}
};
TextEffects["clr1"] = new ColorEffect(0);
TextEffects["clr2"] = new ColorEffect(1); // TODO : should I use parameters instead of special names?
TextEffects["clr3"] = new ColorEffect(2);

var WavyEffect = function() {
	this.DoEffect = function(char,time) {
		char.offset.y += Math.sin( (time / 250) - (char.col / 2) ) * 4;
	}
};
TextEffects["wvy"] = new WavyEffect();

var ShakyEffect = function() {
	function disturb(func,time,offset,mult1,mult2) {
		return func( (time * mult1) - (offset * mult2) );
	}

	this.DoEffect = function(char,time) {
		char.offset.y += 3
						* disturb(Math.sin,time,char.col,0.1,0.5)
						* disturb(Math.cos,time,char.col,0.3,0.2)
						* disturb(Math.sin,time,char.row,2.0,1.0);
		char.offset.x += 3
						* disturb(Math.cos,time,char.row,0.1,1.0)
						* disturb(Math.sin,time,char.col,3.0,0.7)
						* disturb(Math.cos,time,char.col,0.2,0.3);
	}
};
TextEffects["shk"] = new ShakyEffect();

} // Dialog()
</script>

<script>
/*
TODO
- reset renderer function
- react to changes in: drawings, palettes
- possible future plan: limit size of cache (remove old images)
- change image store path from (pal > col > draw) to (draw > pal > col)
- get rid of old getSpriteImage (etc) methods
- get editor working again [in progress]
- move debug timer class into core (seems useful)
*/

function Renderer(tilesize, scale) {

console.log("!!!!! NEW RENDERER");

var imageStore = { // TODO : rename to imageCache
	source: {},
	render: {}
};

var palettes = null; // TODO : need null checks?
var context = null;

function setPalettes(paletteObj) {
	palettes = paletteObj;

	// TODO : should this really clear out the render cache?
	imageStore.render = {};
}

function getPaletteColor(paletteId, colorIndex) {
	var palette = palettes[paletteId];

	if (colorIndex > palette.colors.length) { // do I need this failure case? (seems un-reliable)
		colorIndex = 0;
	}

	var color = palette.colors[colorIndex];

	return {
		r : color[0],
		g : color[1],
		b : color[2]
	};
}

var debugRenderCount = 0;

// TODO : change image store path from (pal > col > draw) to (draw > pal > col)
function renderImage(drawing, paletteId) {
	// debugRenderCount++;
	// console.log("RENDER COUNT " + debugRenderCount);

	var col = drawing.col;
	var colStr = "" + col;
	var pal = paletteId;
	var drwId = drawing.drw;
	var imgSrc = imageStore.source[ drawing.drw ];

	// initialize render cache entry
	if (imageStore.render[drwId] === undefined || imageStore.render[drwId] === null) {
		imageStore.render[drwId] = {};
	}

	if (imageStore.render[drwId][pal] === undefined || imageStore.render[drwId][pal] === null) {
		imageStore.render[drwId][pal] = {};
	}

	// create array of ImageData frames
	imageStore.render[drwId][pal][colStr] = [];

	for (var i = 0; i < imgSrc.length; i++) {
		var frameSrc = imgSrc[i];
		var frameData = imageDataFromImageSource( frameSrc, pal, col );
		imageStore.render[drwId][pal][colStr].push(frameData);
	}
}

function imageDataFromImageSource(imageSource, pal, col) {
	//console.log(imageSource);

	var img = context.createImageData(tilesize*scale,tilesize*scale);

	var backgroundColor = getPaletteColor(pal,0);
	var foregroundColor = getPaletteColor(pal,col);

	for (var y = 0; y < tilesize; y++) {
		for (var x = 0; x < tilesize; x++) {
			var px = imageSource[y][x];
			for (var sy = 0; sy < scale; sy++) {
				for (var sx = 0; sx < scale; sx++) {
					var pxl = (((y * scale) + sy) * tilesize * scale * 4) + (((x*scale) + sx) * 4);
					if ( px === 1 ) {
						img.data[pxl + 0] = foregroundColor.r;
						img.data[pxl + 1] = foregroundColor.g;
						img.data[pxl + 2] = foregroundColor.b;
						img.data[pxl + 3] = 255;
					}
					else { //ch === 0
						img.data[pxl + 0] = backgroundColor.r;
						img.data[pxl + 1] = backgroundColor.g;
						img.data[pxl + 2] = backgroundColor.b;
						img.data[pxl + 3] = 255;
					}
				}
			}
		}
	}

	return img;
}

// TODO : move into core
function undefinedOrNull(x) {
	return x === undefined || x === null;
}

function isImageRendered(drawing, paletteId) {
	var col = drawing.col;
	var colStr = "" + col;
	var pal = paletteId;
	var drwId = drawing.drw;

	if (undefinedOrNull(imageStore.render[drwId]) ||
		undefinedOrNull(imageStore.render[drwId][pal]) ||
		undefinedOrNull(imageStore.render[drwId][pal][colStr])) {
			return false;
	}
	else {
		return true;
	}
}

function getImageSet(drawing, paletteId) {
	return imageStore.render[drawing.drw][paletteId][drawing.col];
}

function getImageFrame(drawing, paletteId, frameOverride) {
	var frameIndex = 0;
	if (drawing.animation.isAnimated) {
		if (frameOverride != undefined && frameOverride != null) {
			frameIndex = frameOverride;
		}
		else {
			frameIndex = drawing.animation.frameIndex;
		}
	}

	return getImageSet(drawing, paletteId)[frameIndex];
}

function getOrRenderImage(drawing, paletteId, frameOverride) {
	if (!isImageRendered(drawing, paletteId)) {
		renderImage(drawing, paletteId);
	}

	return getImageFrame(drawing, paletteId, frameOverride);
}

/* PUBLIC INTERFACE */
this.GetImage = getOrRenderImage;

this.SetPalettes = setPalettes;

this.SetImageSource = function(drawingId, imageSourceData) {
	imageStore.source[drawingId] = imageSourceData;
	imageStore.render[drawingId] = {}; // reset render cache for this image
}

this.GetImageSource = function(drawingId) {
	return imageStore.source[drawingId];
}

this.GetFrameCount = function(drawingId) {
	return imageStore.source[drawingId].length;
}

this.AttachContext = function(ctx) {
	context = ctx;
}

} // Renderer()
</script>

<script>
var xhr; // TODO : remove
var canvas;
var context; // TODO : remove if safe?
var ctx;

var title = "";
var room = {};
var tile = {};
var sprite = {};
var item = {};
var dialog = {};
var palette = {
	"0" : [[0,0,0],[255,0,0],[255,255,255]] //start off with a default palette (can be overriden)
};
var ending = {};
var variable = {}; // these are starting variable values -- they don't update (or I don't think they will)
var playerId = "A";

var defaultFontName = "ascii_small";
var fontName = defaultFontName;
var TextDirection = {
	LeftToRight : "LTR",
	RightToLeft : "RTL"
};
var textDirection = TextDirection.LeftToRight;

var names = {
	room : new Map(),
	tile : new Map(), // Note: Not currently enabled in the UI
	sprite : new Map(),
	item : new Map(),
	/*dialog : new Map()*/ // TODO
	/*ending : new Map()*/ // TODO
};
function updateNamesFromCurData() {
	names.room = new Map();
	for(id in room) {
		if(room[id].name != undefined && room[id].name != null) {
			names.room.set( room[id].name, id );
		}
	}
	names.tile = new Map();
	for(id in tile) {
		if(tile[id].name != undefined && tile[id].name != null) {
			names.tile.set( tile[id].name, id );
		}
	}
	names.sprite = new Map();
	for(id in sprite) {
		if(sprite[id].name != undefined && sprite[id].name != null) {
			names.sprite.set( sprite[id].name, id );
		}
	}
	names.item = new Map();
	for(id in item) {
		if(item[id].name != undefined && item[id].name != null) {
			names.item.set( item[id].name, id );
		}
	}
}

var spriteStartLocations = {};

/* VERSION */
var version = {
	major: 6, // major changes
	minor: 0 // smaller changes
};
function getEngineVersion() {
	return version.major + "." + version.minor;
}

/* FLAGS */
var flags;
function resetFlags() {
	flags = {
		ROOM_FORMAT : 0 // 0 = non-comma separated, 1 = comma separated
	};
}
resetFlags(); //init flags on load script

// SUPER hacky location... :/
var editorDevFlags = {
	// NONE right now!
};

function clearGameData() {
	title = "";
	room = {};
	tile = {};
	sprite = {};
	item = {};
	dialog = {};
	palette = { //start off with a default palette (can be overriden)
		"0" : {
			name : null,
			colors : [[0,0,0],[255,0,0],[255,255,255]]
		}
	};
	ending = {};
	isEnding = false; //todo - correct place for this?
	variable = {};

	// TODO RENDERER : clear data?

	spriteStartLocations = {};

	names = {
		room : new Map(),
		tile : new Map(),
		sprite : new Map(),
		item : new Map()
	};

	fontName = defaultFontName; // TODO : reset font manager too?
	textDirection = TextDirection.LeftToRight;
}

var width = 128;
var height = 128;
var scale = 4; //this is stupid but necessary
var tilesize = 8;
var mapsize = 16;

var curRoom = "0";

var key = {
	left : 37,
	right : 39,
	up : 38,
	down : 40,
	space : 32,
	enter : 13,
	w : 87,
	a : 65,
	s : 83,
	d : 68,
	r : 82,
	shift : 16,
	ctrl : 17,
	alt : 18,
	cmd : 224
};

var prevTime = 0;
var deltaTime = 0;

//methods used to trigger gif recording
var didPlayerMoveThisFrame = false;
var onPlayerMoved = null;
// var didDialogUpdateThisFrame = false;
var onDialogUpdate = null;

//inventory update UI handles
var onInventoryChanged = null;
var onVariableChanged = null;

var isPlayerEmbeddedInEditor = false;

var renderer = new Renderer(tilesize, scale);

function getGameNameFromURL() {
	var game = window.location.hash.substring(1);
	// console.log("game name --- " + game);
	return game;
}

function attachCanvas(c) {
	canvas = c;
	canvas.width = width * scale;
	canvas.height = width * scale;
	ctx = canvas.getContext("2d");
	dialogRenderer.AttachContext(ctx);
	renderer.AttachContext(ctx);
}

var curGameData = null;
function load_game(game_data, startWithTitle) {
	curGameData = game_data; //remember the current game (used to reset the game)

	dialogBuffer.Reset();
	scriptInterpreter.ResetEnvironment(); // ensures variables are reset -- is this the best way?

	parseWorld(game_data);

	if (!isPlayerEmbeddedInEditor) {
		// hack to ensure default font is available
		fontManager.AddResource(defaultFontName + fontManager.GetExtension(), document.getElementById(defaultFontName).text.slice(1));
	}

	var font = fontManager.Get( fontName );
	dialogBuffer.SetFont(font);
	dialogRenderer.SetFont(font);

	setInitialVariables();

	// setInterval(updateLoadingScreen, 300); // hack test

	onready(startWithTitle);
}

function reset_cur_game() {
	if (curGameData == null) return; //can't reset if we don't have the game data
	stopGame();
	clearGameData();
	load_game(curGameData);
}

var update_interval = null;
function onready(startWithTitle) {
	if(startWithTitle === undefined || startWithTitle === null) startWithTitle = true;

	clearInterval(loading_interval);

	input = new InputManager();

	document.addEventListener('keydown', input.onkeydown);
	document.addEventListener('keyup', input.onkeyup);

	if (isPlayerEmbeddedInEditor) {
		canvas.addEventListener('touchstart', input.ontouchstart);
		canvas.addEventListener('touchmove', input.ontouchmove);
		canvas.addEventListener('touchend', input.ontouchend);
	}
	else {
		document.addEventListener('touchstart', input.ontouchstart);
		document.addEventListener('touchmove', input.ontouchmove);
		document.addEventListener('touchend', input.ontouchend);
	}

	window.onblur = input.onblur;

	update_interval = setInterval(update,-1);

	console.log("TITLE ??? " + startWithTitle);
	if(startWithTitle) // used by editor
		startNarrating(title);
}

function setInitialVariables() {
	for(id in variable) {
		var value = variable[id]; // default to string
		if(value === "true") {
			value = true;
		}
		else if(value === "false") {
			value = false;
		}
		else if(!isNaN(parseFloat(value))) {
			value = parseFloat(value);
		}
		scriptInterpreter.SetVariable(id,value);
	}
	scriptInterpreter.SetOnVariableChangeHandler( onVariableChanged );
}

// TODO: this is likely broken
function breadthFirstSearch(map, from, to) {
	from.trail = [];
	var visited = [];
	var queue = [from];
	visited.push( posToString(from) );

	//console.log( "~ bfs ~");
	//console.log( posToString(from) + " to " + posToString(to) );

	while ( queue.length > 0 ) {

		//grab pos from queue and mark as visited
		var curPos = queue.shift();

		//console.log( posToString(curPos) );
		//console.log( ".. " + pathToString(curPos.trail) );
		//console.log( visited );

		if (curPos.x == to.x && curPos.y == to.y) {
			//found a path!
			var path = curPos.trail.splice(0);
			path.push( curPos );
			return path;
		}

		//look at neighbors
		neighbors(curPos).forEach( function(n) {
			var inBounds = (n.x >= 0 && n.x < 16 && n.y >= 0 && n.y < 16);
			if (inBounds) {
				var noCollision = map[n.y][n.x] <= 0;
				var notVisited = visited.indexOf( posToString(n) ) == -1;
				if (noCollision && notVisited) {
					n.trail = curPos.trail.slice();
					n.trail.push(curPos);
					queue.push( n );
					visited.push( posToString(n) );
				}
			}
		});

	}

	return []; // no path found
}

function posToString(pos) {
	return pos.x + "," + pos.y;
}

function pathToString(path) {
	var s = "";
	for (i in path) {
		s += posToString(path[i]) + " ";
	}
	return s;
}

function neighbors(pos) {
	var neighborList = [];
	neighborList.push( {x:pos.x+1, y:pos.y+0} );
	neighborList.push( {x:pos.x-1, y:pos.y+0} );
	neighborList.push( {x:pos.x+0, y:pos.y+1} );
	neighborList.push( {x:pos.x+0, y:pos.y-1} );
	return neighborList;
}

function collisionMap(roomId) {
	var map = [
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]
	];

	for (r in room[roomId].tilemap) {
		var row = room[roomId].tilemap[r];
		for (var c = 0; c < row.length; c++) {
			if (room[roomId].walls.indexOf( row[x] ) != -1) {
				map[r][c] = 1;
			}
		}
	}

	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === roomId) {
			map[spr.y][spr.x] = 2;
		}
	}

	return map;
}

function getOffset(evt) {
	var offset = { x:0, y:0 };

	var el = evt.target;
	var rect = el.getBoundingClientRect();

	offset.x += rect.left + el.scrollLeft;
	offset.y += rect.top + el.scrollTop;

	offset.x = evt.clientX - offset.x;
	offset.y = evt.clientY - offset.y;

	return offset;
}

function stopGame() {
	console.log("stop GAME!");

	document.removeEventListener('keydown', input.onkeydown);
	document.removeEventListener('keyup', input.onkeyup);

	if (isPlayerEmbeddedInEditor) {
		canvas.removeEventListener('touchstart', input.ontouchstart);
		canvas.removeEventListener('touchmove', input.ontouchmove);
		canvas.removeEventListener('touchend', input.ontouchend);
	}
	else {
		document.removeEventListener('touchstart', input.ontouchstart);
		document.removeEventListener('touchmove', input.ontouchmove);
		document.removeEventListener('touchend', input.ontouchend);
	}

	window.onblur = null;

	clearInterval(update_interval);
}

/* loading animation */
var loading_anim_data = [
	[
		0,1,1,1,1,1,1,0,
		0,0,1,1,1,1,0,0,
		0,0,1,1,1,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,0,0,1,0,0,
		0,0,1,0,0,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,1,1,1,1,1,1,0,
		0,0,1,0,0,1,0,0,
		0,0,1,1,1,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,0,0,1,0,0,
		0,0,1,1,1,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,1,1,1,1,1,1,0,
		0,0,1,0,0,1,0,0,
		0,0,1,0,0,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,1,1,1,0,0,
		0,0,1,1,1,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,1,1,1,1,1,1,0,
		0,0,1,0,0,1,0,0,
		0,0,1,0,0,1,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,1,1,1,1,0,0,
		0,0,1,1,1,1,0,0,
		0,1,1,1,1,1,1,0,
	],
	[
		0,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,1,
		1,1,1,0,0,1,1,1,
		1,1,1,1,1,0,0,1,
		1,1,1,1,1,0,0,1,
		1,1,1,0,0,1,1,1,
		1,0,0,0,0,0,0,1,
		0,0,0,0,0,0,0,0,
	]
];
var loading_anim_frame = 0;
var loading_anim_speed = 500;
var loading_interval = null;

function loadingAnimation() {
	//create image
	var loadingAnimImg = ctx.createImageData(8*scale, 8*scale);
	//draw image
	for (var y = 0; y < 8; y++) {
		for (var x = 0; x < 8; x++) {
			var i = (y * 8) + x;
			if (loading_anim_data[loading_anim_frame][i] == 1) {
				//scaling nonsense
				for (var sy = 0; sy < scale; sy++) {
					for (var sx = 0; sx < scale; sx++) {
						var pxl = 4 * ( (((y*scale)+sy) * (8*scale)) + ((x*scale)+sx) );
						loadingAnimImg.data[pxl+0] = 255;
						loadingAnimImg.data[pxl+1] = 255;
						loadingAnimImg.data[pxl+2] = 255;
						loadingAnimImg.data[pxl+3] = 255;
					}
				}
			}
		}
	}
	//put image on canvas
	ctx.putImageData(loadingAnimImg,scale*(width/2 - 4),scale*(height/2 - 4));
	//update frame
	loading_anim_frame++;
	if (loading_anim_frame >= 5) loading_anim_frame = 0;
}

function updateLoadingScreen() {
	// TODO : in progress
	ctx.fillStyle = "rgb(0,0,0)";
	ctx.fillRect(0,0,canvas.width,canvas.height);

	loadingAnimation();
	drawSprite( getSpriteImage(sprite["a"],"0",0), 8, 8, ctx );
}

function update() {
	var curTime = Date.now();
	deltaTime = curTime - prevTime;

	if (!transition.IsTransitionActive()) {
		updateInput();
	}

	if (transition.IsTransitionActive()) {
		// transition animation takes over everything!
		transition.UpdateTransition(deltaTime);
	}
	else {
		if (!isNarrating && !isEnding) {
			updateAnimation();
			drawRoom( room[curRoom] ); // draw world if game has begun
		}
		else {
			//make sure to still clear screen
			ctx.fillStyle = "rgb(" + getPal(curPal())[0][0] + "," + getPal(curPal())[0][1] + "," + getPal(curPal())[0][2] + ")";
			ctx.fillRect(0,0,canvas.width,canvas.height);
		}

		// if (isDialogMode) { // dialog mode
		if(dialogBuffer.IsActive()) {
			dialogRenderer.Draw( dialogBuffer, deltaTime );
			dialogBuffer.Update( deltaTime );
		}
		else if (!isEnding) {
			moveSprites(); // TODO : I probably need to remove this..
		}

		// keep moving avatar if player holds down button
		if( !dialogBuffer.IsActive() && !isEnding )
		{
			if( curPlayerDirection != Direction.None ) {
				playerHoldToMoveTimer -= deltaTime;

				if( playerHoldToMoveTimer <= 0 )
				{
					movePlayer( curPlayerDirection );
					playerHoldToMoveTimer = 150;
				}
			}
		}
	}

	prevTime = curTime;

	//for gif recording
	if (didPlayerMoveThisFrame && onPlayerMoved != null) {
		onPlayerMoved();
	}
	didPlayerMoveThisFrame = false;

	/* hacky replacement */
	if (onDialogUpdate != null) {
		dialogRenderer.SetPageFinishHandler( onDialogUpdate );
	}

	input.resetKeyPressed();
	input.resetTapReleased();
}

function updateInput() {
	if( dialogBuffer.IsActive() ) {
		if (input.anyKeyPressed() || input.isTapReleased()) {
			/* CONTINUE DIALOG */
			if (dialogBuffer.CanContinue()) {
				var hasMoreDialog = dialogBuffer.Continue();
				if(!hasMoreDialog) {
					// ignore currently held keys UNTIL they are released (stops player from insta-moving)
					input.ignoreHeldKeys();
				}
			}
			else {
				dialogBuffer.Skip();
			}
		}
	}
	else if ( isEnding ) {
		if (input.anyKeyPressed() || input.isTapReleased()) {
			/* RESTART GAME */
			reset_cur_game();
		}
	}
	else {
		/* WALK */
		var prevPlayerDirection = curPlayerDirection;

		if ( input.isKeyDown( key.left ) || input.isKeyDown( key.a ) || input.swipeLeft() ) {
			curPlayerDirection = Direction.Left;
		}
		else if ( input.isKeyDown( key.right ) || input.isKeyDown( key.d ) || input.swipeRight() ) {
			curPlayerDirection = Direction.Right;
		}
		else if ( input.isKeyDown( key.up ) || input.isKeyDown( key.w ) || input.swipeUp() ) {
			curPlayerDirection = Direction.Up;
		}
		else if ( input.isKeyDown( key.down ) || input.isKeyDown( key.s ) || input.swipeDown() ) {
			curPlayerDirection = Direction.Down;
		}
		else {
			curPlayerDirection = Direction.None;
		}

		if (curPlayerDirection != Direction.None && curPlayerDirection != prevPlayerDirection) {
			movePlayer( curPlayerDirection );
			playerHoldToMoveTimer = 500;
		}
	}
}

var animationCounter = 0;
var animationTime = 400;
function updateAnimation() {
	animationCounter += deltaTime;

	if ( animationCounter >= animationTime ) {

		// animate sprites
		for (id in sprite) {
			var spr = sprite[id];
			if (spr.animation.isAnimated) {
				spr.animation.frameIndex = ( spr.animation.frameIndex + 1 ) % spr.animation.frameCount;
			}
		}

		// animate tiles
		for (id in tile) {
			var til = tile[id];
			if (til.animation.isAnimated) {
				til.animation.frameIndex = ( til.animation.frameIndex + 1 ) % til.animation.frameCount;
			}
		}

		// animate items
		for (id in item) {
			var itm = item[id];
			if (itm.animation.isAnimated) {
				itm.animation.frameIndex = ( itm.animation.frameIndex + 1 ) % itm.animation.frameCount;
			}
		}

		// reset counter
		animationCounter = 0;

	}
}

var moveCounter = 0;
var moveTime = 200;
function moveSprites() {
	moveCounter += deltaTime;

	if (moveCounter >= moveTime) {

		for (id in sprite) {
			var spr = sprite[id];
			if (spr.walkingPath.length > 0) {
				//move sprite
				var nextPos = spr.walkingPath.shift();
				spr.x = nextPos.x;
				spr.y = nextPos.y;


				var end = getEnding( spr.room, spr.x, spr.y );
				var ext = getExit( spr.room, spr.x, spr.y );
				var itmIndex = getItemIndex( spr.room, spr.x, spr.y );
				if (end) { //if the sprite hits an ending
					if (id === playerId) { // only the player can end the game
						startNarrating( ending[end.id], true /*isEnding*/ );
					}
				}
				else if (ext) { //if the sprite hits an exit
					//move it to another scene
					spr.room = ext.dest.room;
					spr.x = ext.dest.x;
					spr.y = ext.dest.y;
					if (id === playerId) {
						//if the player changes scenes, change the visible scene
						curRoom = ext.dest.room;
					}
				}
				else if(itmIndex > -1) {
					var itm = room[ spr.room ].items[ itmIndex ];
					room[ spr.room ].items.splice( itmIndex, 1 );
					if( spr.inventory[ itm.id ] )
						spr.inventory[ itm.id ] += 1;
					else
						spr.inventory[ itm.id ] = 1;

					if(onInventoryChanged != null)
						onInventoryChanged( itm.id );

					if(id === playerId)
						startItemDialog( itm.id  /*itemId*/ );

					// stop moving : is this a good idea?
					spr.walkingPath = [];
				}

				if (id === playerId) didPlayerMoveThisFrame = true;
			}
		}

		moveCounter = 0;
	}

}

function getSpriteAt(x,y) {
	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === curRoom) {
			if (spr.x == x && spr.y == y) {
				return id;
			}
		}
	}
	return null;
}

var Direction = {
	None : -1,
	Up : 0,
	Down : 1,
	Left : 2,
	Right : 3
};

var curPlayerDirection = Direction.None;
var playerHoldToMoveTimer = 0;

var InputManager = function() {
	var self = this;

	var pressed;
	var ignored;
	var newKeyPress;
	var touchState;

	function resetAll() {
		pressed = {};
		ignored = {};
		newKeyPress = false;

		touchState = {
			isDown : false,
			startX : 0,
			startY : 0,
			curX : 0,
			curY : 0,
			swipeDistance : 30,
			swipeDirection : Direction.None,
			tapReleased : false
		};
	}
	resetAll();

	function stopWindowScrolling(e) {
		if(e.keyCode == key.left || e.keyCode == key.right || e.keyCode == key.up || e.keyCode == key.down || !isPlayerEmbeddedInEditor)
			e.preventDefault();
	}

	function tryRestartGame(e) {
		/* RESTART GAME */
		if ( e.keyCode === key.r && ( e.getModifierState("Control") || e.getModifierState("Meta") ) ) {
			if ( confirm("Restart the game?") ) {
				reset_cur_game();
			}
		}
	}

	function eventIsModifier(event) {
		return (event.keyCode == key.shift || event.keyCode == key.ctrl || event.keyCode == key.alt || event.keyCode == key.cmd);
	}

	function isModifierKeyDown() {
		return ( self.isKeyDown(key.shift) || self.isKeyDown(key.ctrl) || self.isKeyDown(key.alt) || self.isKeyDown(key.cmd) );
	}

	this.ignoreHeldKeys = function() {
		for (var key in pressed) {
			if (pressed[key]) { // only ignore keys that are actually held
				ignored[key] = true;
				// console.log("IGNORE -- " + key);
			}
		}
	}

	this.onkeydown = function(event) {
		// console.log("KEYDOWN -- " + event.keyCode);

		stopWindowScrolling(event);

		tryRestartGame(event);

		// Special keys being held down can interfere with keyup events and lock movement
		// so just don't collect input when they're held
		{
			if (isModifierKeyDown()) {
				return;
			}

			if (eventIsModifier(event)) {
				resetAll();
			}
		}

		if (ignored[event.keyCode]) {
			return;
		}

		if (!self.isKeyDown(event.keyCode)) {
			newKeyPress = true;
		}

		pressed[event.keyCode] = true;
		ignored[event.keyCode] = false;
	}

	this.onkeyup = function(event) {
		// console.log("KEYUP -- " + event.keyCode);
		pressed[event.keyCode] = false;
		ignored[event.keyCode] = false;
	}

	this.ontouchstart = function(event) {
		event.preventDefault();

		if( event.changedTouches.length > 0 ) {
			touchState.isDown = true;

			touchState.startX = touchState.curX = event.changedTouches[0].clientX;
			touchState.startY = touchState.curY = event.changedTouches[0].clientY;

			touchState.swipeDirection = Direction.None;
		}
	}

	this.ontouchmove = function(event) {
		event.preventDefault();

		if( touchState.isDown && event.changedTouches.length > 0 ) {
			touchState.curX = event.changedTouches[0].clientX;
			touchState.curY = event.changedTouches[0].clientY;

			var prevDirection = touchState.swipeDirection;

			if( touchState.curX - touchState.startX <= -touchState.swipeDistance ) {
				touchState.swipeDirection = Direction.Left;
			}
			else if( touchState.curX - touchState.startX >= touchState.swipeDistance ) {
				touchState.swipeDirection = Direction.Right;
			}
			else if( touchState.curY - touchState.startY <= -touchState.swipeDistance ) {
				touchState.swipeDirection = Direction.Up;
			}
			else if( touchState.curY - touchState.startY >= touchState.swipeDistance ) {
				touchState.swipeDirection = Direction.Down;
			}

			if( touchState.swipeDirection != prevDirection ) {
				// reset center so changing directions is easier
				touchState.startX = touchState.curX;
				touchState.startY = touchState.curY;
			}
		}
	}

	this.ontouchend = function(event) {
		event.preventDefault();

		touchState.isDown = false;

		if( touchState.swipeDirection == Direction.None ) {
			// tap!
			touchState.tapReleased = true;
		}

		touchState.swipeDirection = Direction.None;
	}

	this.isKeyDown = function(keyCode) {
		return pressed[keyCode] != null && pressed[keyCode] == true && (ignored[keyCode] == null || ignored[keyCode] == false);
	}

	this.anyKeyPressed = function() {
		return newKeyPress;
	}

	this.resetKeyPressed = function() {
		newKeyPress = false;
	}

	this.swipeLeft = function() {
		return touchState.swipeDirection == Direction.Left;
	}

	this.swipeRight = function() {
		return touchState.swipeDirection == Direction.Right;
	}

	this.swipeUp = function() {
		return touchState.swipeDirection == Direction.Up;
	}

	this.swipeDown = function() {
		return touchState.swipeDirection == Direction.Down;
	}

	this.isTapReleased = function() {
		return touchState.tapReleased;
	}

	this.resetTapReleased = function() {
		touchState.tapReleased = false;
	}

	this.onblur = function() {
		// console.log("~~~ BLUR ~~");
		resetAll();
	}
}
var input = null;

function movePlayer(direction) {
	var spr = null;

	if ( curPlayerDirection == Direction.Left && !(spr = getSpriteLeft()) && !isWallLeft()) {
		player().x -= 1;
		didPlayerMoveThisFrame = true;
	}
	else if ( curPlayerDirection == Direction.Right && !(spr = getSpriteRight()) && !isWallRight()) {
		player().x += 1;
		didPlayerMoveThisFrame = true;
	}
	else if ( curPlayerDirection == Direction.Up && !(spr = getSpriteUp()) && !isWallUp()) {
		player().y -= 1;
		didPlayerMoveThisFrame = true;
	}
	else if ( curPlayerDirection == Direction.Down && !(spr = getSpriteDown()) && !isWallDown()) {
		player().y += 1;
		didPlayerMoveThisFrame = true;
	}
	
	var ext = getExit( player().room, player().x, player().y );
	var end = getEnding( player().room, player().x, player().y );
	// TODO : vNext
	// var eff = getEffect( player().room, player().x, player().y );
	var itmIndex = getItemIndex( player().room, player().x, player().y );

	// do items first, because you can pick up an item AND go through a door
	if (itmIndex > -1) {
		// TODO pick up items (what about touch?)
		// console.log("HIT ITM ");
		// console.log( itmIndex );
		var itm = room[ player().room ].items[ itmIndex ];
		// console.log(itm);
		room[ player().room ].items.splice( itmIndex, 1 );
		if( player().inventory[ itm.id ] )
			player().inventory[ itm.id ] += 1;
		else
			player().inventory[ itm.id ] = 1;

		if(onInventoryChanged != null)
			onInventoryChanged( itm.id );

		startItemDialog( itm.id  /*itemId*/ );

		// console.log( player().inventory );
	}

	if (end) {
		startNarrating( ending[end.id], true /*isEnding*/ );
	}
	else if (ext) {
		movePlayerThroughExit(ext);
	}
	// TODO : vNext
	// else if (eff) {
	// 	startDialog( script[eff.id].source, eff.id );
	// }
	else if (spr) {
		startSpriteDialog( spr /*spriteId*/ );
	}
}

var transition = new TransitionManager();

function movePlayerThroughExit(ext) {
	var GoToDest = function() {
		if (ext.transition_effect != null) {
			transition.BeginTransition(player().room, player().x, player().y, ext.dest.room, ext.dest.x, ext.dest.y, ext.transition_effect);
			transition.UpdateTransition(0);
		}

		player().room = ext.dest.room;
		player().x = ext.dest.x;
		player().y = ext.dest.y;
		curRoom = ext.dest.room;
	};

	// TODO : vNext
	// if(ext.script_id != null && script[ext.script_id]){
	// 	var scriptSourceStr = script[ext.script_id].source;
	// 	startDialog(scriptSourceStr, ext.script_id, function(isExitUnlocked) {
	// 		if (isExitUnlocked == true) {
	// 			GoToDest();
	// 		}
	// 	});
	// }
	// else {
	// 	GoToDest();
	// }

	GoToDest();
}

function getItemIndex( roomId, x, y ) {
	for( var i = 0; i < room[roomId].items.length; i++ ) {
		var itm = room[roomId].items[i];
		if ( itm.x == x && itm.y == y)
			return i;
	}
	return -1;
}

function getSpriteLeft() { //repetitive?
	return getSpriteAt( player().x - 1, player().y );
}

function getSpriteRight() {
	return getSpriteAt( player().x + 1, player().y );
}

function getSpriteUp() {
	return getSpriteAt( player().x, player().y - 1 );
}

function getSpriteDown() {
	return getSpriteAt( player().x, player().y + 1 );
}

function isWallLeft() {
	return (player().x - 1 < 0) || isWall( player().x - 1, player().y );
}

function isWallRight() {
	return (player().x + 1 >= 16) || isWall( player().x + 1, player().y );
}

function isWallUp() {
	return (player().y - 1 < 0) || isWall( player().x, player().y - 1 );
}

function isWallDown() {
	return (player().y + 1 >= 16) || isWall( player().x, player().y + 1 );
}

function isWall(x,y,roomId) {
	if(roomId == undefined || roomId == null)
		roomId = curRoom;

	var tileId = getTile( x, y );

	if( tileId === '0' )
		return false; // Blank spaces aren't walls, ya doofus

	if( tile[tileId].isWall === undefined || tile[tileId].isWall === null ) {
		// No wall-state defined: check room-specific walls
		var i = room[roomId].walls.indexOf( getTile(x,y) );
		return i > -1;
	}

	// Otherwise, use the tile's own wall-state
	return tile[tileId].isWall;
}

function getItem(roomId,x,y) {
	for (i in room[roomId].items) {
		var item = room[roomId].items[i];
		if (x == item.x && y == item.y) {
			return item;
		}
	}
	return null;
}

function getExit(roomId,x,y) {
	for (i in room[roomId].exits) {
		var e = room[roomId].exits[i];
		if (x == e.x && y == e.y) {
			return e;
		}
	}
	return null;
}

function getEnding(roomId,x,y) {
	for (i in room[roomId].endings) {
		var e = room[roomId].endings[i];
		if (x == e.x && y == e.y) {
			return e;
		}
	}
	return null;
}

// TODO : vNext
// function getEffect(roomId,x,y) {
// 	for (i in room[roomId].effects) {
// 		var e = room[roomId].effects[i];
// 		if (x == e.x && y == e.y) {
// 			return e;
// 		}
// 	}
// 	return null;
// }

function getTile(x,y) {
	// console.log(x + " " + y);
	var t = getRoom().tilemap[y][x];
	return t;
}

function player() {
	return sprite[playerId];
}

// Sort of a hack for legacy palette code (when it was just an array)
function getPal(id) {
	return palette[ id ].colors;
}

function getRoom() {
	return room[curRoom];
}

function isSpriteOffstage(id) {
	return sprite[id].room == null;
}

function parseWorld(file) {
	// console.log("~~~ PARSE WORLD ~~~");
	// console.log(file);

	// var parseTimer = new Timer();

	resetFlags();

	var versionNumber = 0;

	var lines = file.split("\n");
	var i = 0;
	while (i < lines.length) {
		var curLine = lines[i];

		// console.log(lines[i]);

		if (i == 0) {
			i = parseTitle(lines, i);
		}
		else if (curLine.length <= 0 || curLine.charAt(0) === "#") {
			// collect version number (from a comment.. hacky I know)
			if (curLine.indexOf("# BITSY VERSION ") != -1) {
				versionNumber = parseFloat(curLine.replace("# BITSY VERSION ", ""));
			}

			//skip blank lines & comments
			i++;
		}
		else if (getType(curLine) == "PAL") {
			i = parsePalette(lines, i);
		}
		else if (getType(curLine) === "ROOM" || getType(curLine) === "SET") { //SET for back compat
			i = parseRoom(lines, i);
		}
		else if (getType(curLine) === "TIL") {
			i = parseTile(lines, i);
		}
		else if (getType(curLine) === "SPR") {
			i = parseSprite(lines, i);
		}
		else if (getType(curLine) === "ITM") {
			i = parseItem(lines, i);
		}
		else if (getType(curLine) === "DRW") {
			i = parseDrawing(lines, i);
		}
		else if (getType(curLine) === "DLG") {
			i = parseDialog(lines, i);
		}
		else if (getType(curLine) === "END") {
			i = parseEnding(lines, i);
		}
		// TODO: vNext
		// else if (getType(curLine) === "PRG") {
		// 	i = parseScript(lines, i);
		// }
		else if (getType(curLine) === "VAR") {
			i = parseVariable(lines, i);
		}
		else if (getType(curLine) === "DEFAULT_FONT") {
			i = parseFontName(lines, i);
		}
		else if (getType(curLine) === "TEXT_DIRECTION") {
			i = parseTextDirection(lines, i);
		}
		else if (getType(curLine) === "FONT") {
			i = parseFontData(lines, i);
		}
		else if (getType(curLine) === "!") {
			i = parseFlag(lines, i);
		}
		else {
			i++;
		}
	}
	placeSprites();
	if (player().room != null) {
		curRoom = player().room;
	}

	renderer.SetPalettes(palette);

	// console.log(names);

	// console.log("~~~~~ PARSE TIME " + parseTimer.Milliseconds());

	return versionNumber;
}

//TODO this is in progress and doesn't support all features
function serializeWorld(skipFonts) {
	if (skipFonts === undefined || skipFonts === null)
		skipFonts = false;

	var worldStr = "";
	/* TITLE */
	worldStr += title + "\n";
	worldStr += "\n";
	/* VERSION */
	worldStr += "# BITSY VERSION " + getEngineVersion() + "\n"; // add version as a comment for debugging purposes
	worldStr += "\n";
	/* FLAGS */
	for (f in flags) {
		worldStr += "! " + f + " " + flags[f] + "\n";
	}
	worldStr += "\n"
	/* FONT */
	if (fontName != defaultFontName) {
		worldStr += "DEFAULT_FONT " + fontName + "\n";
		worldStr += "\n"
	}
	if (textDirection != TextDirection.LeftToRight) {
		worldStr += "TEXT_DIRECTION " + textDirection + "\n";
		worldStr += "\n"
	}
	/* PALETTE */
	for (id in palette) {
		worldStr += "PAL " + id + "\n";
		if( palette[id].name != null )
			worldStr += "NAME " + palette[id].name + "\n";
		for (i in getPal(id)) {
			for (j in getPal(id)[i]) {
				worldStr += getPal(id)[i][j];
				if (j < 2) worldStr += ",";
			}
			worldStr += "\n";
		}
		worldStr += "\n";
	}
	/* ROOM */
	for (id in room) {
		worldStr += "ROOM " + id + "\n";
		if ( flags.ROOM_FORMAT == 0 ) {
			// old non-comma separated format
			for (i in room[id].tilemap) {
				for (j in room[id].tilemap[i]) {
					worldStr += room[id].tilemap[i][j];	
				}
				worldStr += "\n";
			}
		}
		else if ( flags.ROOM_FORMAT == 1 ) {
			// new comma separated format
			for (i in room[id].tilemap) {
				for (j in room[id].tilemap[i]) {
					worldStr += room[id].tilemap[i][j];
					if (j < room[id].tilemap[i].length-1) worldStr += ","
				}
				worldStr += "\n";
			}
		}
		if (room[id].name != null) {
			/* NAME */
			worldStr += "NAME " + room[id].name + "\n";
		}
		if (room[id].walls.length > 0) {
			/* WALLS */
			worldStr += "WAL ";
			for (j in room[id].walls) {
				worldStr += room[id].walls[j];
				if (j < room[id].walls.length-1) {
					worldStr += ",";
				}
			}
			worldStr += "\n";
		}
		if (room[id].items.length > 0) {
			/* ITEMS */
			for (j in room[id].items) {
				var itm = room[id].items[j];
				worldStr += "ITM " + itm.id + " " + itm.x + "," + itm.y;
				worldStr += "\n";
			}
		}
		if (room[id].exits.length > 0) {
			/* EXITS */
			for (j in room[id].exits) {
				var e = room[id].exits[j];
				if ( isExitValid(e) ) {
					worldStr += "EXT " + e.x + "," + e.y + " " + e.dest.room + " " + e.dest.x + "," + e.dest.y;
					if (e.transition_effect != undefined && e.transition_effect != null) {
						worldStr += " FX " + e.transition_effect;
					}
					// TODO : vNext
					// if (e.script_id != undefined && e.script_id != null) {
					// 	worldStr += " PRG " + e.script_id;
					// }
					worldStr += "\n";
				}
			}
		}
		if (room[id].endings.length > 0) {
			/* ENDINGS */
			for (j in room[id].endings) {
				var e = room[id].endings[j];
				// todo isEndingValid
				worldStr += "END " + e.id + " " + e.x + "," + e.y;
				worldStr += "\n";
			}
		}
		// TODO : vNext
		// if (room[id].effects.length > 0) {
		// 	/* EFFECTS */
		// 	for (j in room[id].effects) {
		// 		var e = room[id].effects[j];
		// 		worldStr += "EFF " + e.id + " " + e.x + "," + e.y;
		// 		worldStr += "\n";
		// 	}
		// }
		if (room[id].pal != null) {
			/* PALETTE */
			worldStr += "PAL " + room[id].pal + "\n";
		}
		worldStr += "\n";
	}
	/* TILES */
	for (id in tile) {
		worldStr += "TIL " + id + "\n";
		worldStr += serializeDrawing( "TIL_" + id );
		if (tile[id].name != null && tile[id].name != undefined) {
			/* NAME */
			worldStr += "NAME " + tile[id].name + "\n";
		}
		if (tile[id].isWall != null && tile[id].isWall != undefined) {
			/* WALL */
			worldStr += "WAL " + tile[id].isWall + "\n";
		}
		if (tile[id].col != null && tile[id].col != undefined && tile[id].col != 1) {
			/* COLOR OVERRIDE */
			worldStr += "COL " + tile[id].col + "\n";
		}
		worldStr += "\n";
	}
	/* SPRITES */
	for (id in sprite) {
		worldStr += "SPR " + id + "\n";
		worldStr += serializeDrawing( "SPR_" + id );
		if (sprite[id].name != null && sprite[id].name != undefined) {
			/* NAME */
			worldStr += "NAME " + sprite[id].name + "\n";
		}
		if (sprite[id].dlg != null) {
			worldStr += "DLG " + sprite[id].dlg + "\n";
		}
		if (sprite[id].room != null) {
			/* SPRITE POSITION */
			worldStr += "POS " + sprite[id].room + " " + sprite[id].x + "," + sprite[id].y + "\n";
		}
		if (sprite[id].inventory != null) {
			for(itemId in sprite[id].inventory) {
				worldStr += "ITM " + itemId + " " + sprite[id].inventory[itemId] + "\n";
			}
		}
		if (sprite[id].col != null && sprite[id].col != undefined && sprite[id].col != 2) {
			/* COLOR OVERRIDE */
			worldStr += "COL " + sprite[id].col + "\n";
		}
		worldStr += "\n";
	}
	/* ITEMS */
	for (id in item) {
		worldStr += "ITM " + id + "\n";
		worldStr += serializeDrawing( "ITM_" + id );
		if (item[id].name != null && item[id].name != undefined) {
			/* NAME */
			worldStr += "NAME " + item[id].name + "\n";
		}
		if (item[id].dlg != null) {
			worldStr += "DLG " + item[id].dlg + "\n";
		}
		if (item[id].col != null && item[id].col != undefined && item[id].col != 2) {
			/* COLOR OVERRIDE */
			worldStr += "COL " + item[id].col + "\n";
		}
		worldStr += "\n";
	}
	/* DIALOG */
	for (id in dialog) {
		worldStr += "DLG " + id + "\n";
		worldStr += dialog[id] + "\n";
		worldStr += "\n";
	}
	/* ENDINGS */
	for (id in ending) {
		worldStr += "END " + id + "\n";
		worldStr += ending[id] + "\n";
		worldStr += "\n";
	}
	// TODO : vNext
	// /* SCRIPTS */
	// for (id in script) {
	// 	if (script[id].type == ScriptType.Dialogue) {
	// 		worldStr += "DLG " + id + "\n";
	// 	}
	// 	else if (script[id].type == ScriptType.Ending) {
	// 		worldStr += "END " + id + "\n";
	// 	}
	// 	else {
	// 		worldStr += "PRG " + id + "\n";
	// 	}
	// 	worldStr += script[id].source + "\n";
	// 	worldStr += "\n";
	// }
	/* VARIABLES */
	for (id in variable) {
		worldStr += "VAR " + id + "\n";
		worldStr += variable[id] + "\n";
		worldStr += "\n";
	}
	/* FONT */
	// TODO : support multiple fonts
	if (fontName != defaultFontName && !skipFonts) {
		worldStr += fontManager.GetData(fontName);
	}

	return worldStr;
}

function serializeDrawing(drwId) {
	var imageSource = renderer.GetImageSource(drwId);
	var drwStr = "";
	for (f in imageSource) {
		for (y in imageSource[f]) {
			var rowStr = "";
			for (x in imageSource[f][y]) {
				rowStr += imageSource[f][y][x];
			}
			drwStr += rowStr + "\n";
		}
		if (f < (imageSource.length-1)) drwStr += ">\n";
	}
	return drwStr;
}

function isExitValid(e) {
	var hasValidStartPos = e.x >= 0 && e.x < 16 && e.y >= 0 && e.y < 16;
	var hasDest = e.dest != null;
	var hasValidRoomDest = (e.dest.room != null && e.dest.x >= 0 && e.dest.x < 16 && e.dest.y >= 0 && e.dest.y < 16);
	return hasValidStartPos && hasDest && hasValidRoomDest;
}

function placeSprites() {
	for (id in spriteStartLocations) {
		//console.log(id);
		//console.log( spriteStartLocations[id] );
		//console.log(sprite[id]);
		sprite[id].room = spriteStartLocations[id].room;
		sprite[id].x = spriteStartLocations[id].x;
		sprite[id].y = spriteStartLocations[id].y;
		//console.log(sprite[id]);
	}
}

/* ARGUMENT GETTERS */
function getType(line) {
	return getArg(line,0);
}

function getId(line) {
	return getArg(line,1);
}

function getArg(line,arg) {
	return line.split(" ")[arg];
}

function getCoord(line,arg) {
	return getArg(line,arg).split(",");
}

function parseTitle(lines, i) {
	title = lines[i];
	i++;
	return i;
}

function parseRoom(lines, i) {
	var id = getId(lines[i]);
	room[id] = {
		id : id,
		tilemap : [],
		walls : [],
		exits : [],
		endings : [],
		// effects : [], // TODO vNext
		items : [],
		pal : null,
		name : null
	};
	i++;

	// create tile map
	if ( flags.ROOM_FORMAT == 0 ) {
		// old way: no commas, single char tile ids
		var end = i + mapsize;
		var y = 0;
		for (; i<end; i++) {
			room[id].tilemap.push( [] );
			for (x = 0; x<mapsize; x++) {
				room[id].tilemap[y].push( lines[i].charAt(x) );
			}
			y++;
		}
	}
	else if ( flags.ROOM_FORMAT == 1 ) {
		// new way: comma separated, multiple char tile ids
		var end = i + mapsize;
		var y = 0;
		for (; i<end; i++) {
			room[id].tilemap.push( [] );
			var lineSep = lines[i].split(",");
			for (x = 0; x<mapsize; x++) {
				room[id].tilemap[y].push( lineSep[x] );
			}
			y++;
		}
	}

	while (i < lines.length && lines[i].length > 0) { //look for empty line
		// console.log(getType(lines[i]));
		if (getType(lines[i]) === "SPR") {
			/* NOTE SPRITE START LOCATIONS */
			var sprId = getId(lines[i]);
			if (sprId.indexOf(",") == -1 && lines[i].split(" ").length >= 3) { //second conditional checks for coords
				/* PLACE A SINGLE SPRITE */
				var sprCoord = lines[i].split(" ")[2].split(",");
				spriteStartLocations[sprId] = {
					room : id,
					x : parseInt(sprCoord[0]),
					y : parseInt(sprCoord[1])
				};
			}
			else if ( flags.ROOM_FORMAT == 0 ) { // TODO: right now this shortcut only works w/ the old comma separate format
				/* PLACE MULTIPLE SPRITES*/ 
				//Does find and replace in the tilemap (may be hacky, but its convenient)
				var sprList = sprId.split(",");
				for (row in room[id].tilemap) {
					for (s in sprList) {
						var col = room[id].tilemap[row].indexOf( sprList[s] );
						//if the sprite is in this row, replace it with the "null tile" and set its starting position
						if (col != -1) {
							room[id].tilemap[row][col] = "0";
							spriteStartLocations[ sprList[s] ] = {
								room : id,
								x : parseInt(col),
								y : parseInt(row)
							};
						}
					}
				}
			}
		}
		else if (getType(lines[i]) === "ITM") {
			var itmId = getId(lines[i]);
			var itmCoord = lines[i].split(" ")[2].split(",");
			var itm = {
				id: itmId,
				x : parseInt(itmCoord[0]),
				y : parseInt(itmCoord[1])
			};
			room[id].items.push( itm );
		}
		else if (getType(lines[i]) === "WAL") {
			/* DEFINE COLLISIONS (WALLS) */
			room[id].walls = getId(lines[i]).split(",");
		}
		else if (getType(lines[i]) === "EXT") {
			/* ADD EXIT */
			var exitArgs = lines[i].split(" ");
			//arg format: EXT 10,5 M 3,2 [AVA:7 LCK:a,9] [AVA 7 LCK a 9]
			var exitCoords = exitArgs[1].split(",");
			var destName = exitArgs[2];
			var destCoords = exitArgs[3].split(",");
			var ext = {
				x : parseInt(exitCoords[0]),
				y : parseInt(exitCoords[1]),
				dest : {
					room : destName,
					x : parseInt(destCoords[0]),
					y : parseInt(destCoords[1])
				},
				transition_effect : null,
				// TODO : vNext
				// script_id : null,
			};

			// optional arguments
			var exitArgIndex = 4;
			while (exitArgIndex < exitArgs.length) {
				if (exitArgs[exitArgIndex] == "FX") {
					ext.transition_effect = exitArgs[exitArgIndex+1];
					exitArgIndex += 2;
				}
				// TODO : vNext
				// else if (exitArgs[exitArgIndex] == "PRG") {
				// 	ext.script_id = exitArgs[exitArgIndex+1];
				// 	exitArgIndex += 2;
				// }
				else {
					exitArgIndex += 1;
				}
			}

			room[id].exits.push(ext);
		}
		else if (getType(lines[i]) === "END") {
			/* ADD ENDING */
			var endId = getId( lines[i] );
			var endCoords = getCoord( lines[i], 2 );
			var end = {
				id : endId,
				x : parseInt( endCoords[0] ),
				y : parseInt( endCoords[1] )
			};
			room[id].endings.push(end);
		}
		// TODO : vNext
		// else if (getType(lines[i]) === "EFF") {
		// 	/* ADD EFFECT */
		// 	var effectId = getId( lines[i] );
		// 	var effectCoords = getCoord( lines[i], 2 );
		// 	var effect = {
		// 		id : effectId,
		// 		x : parseInt( effectCoords[0] ),
		// 		y : parseInt( effectCoords[1] ),
		// 	};
		// 	room[id].effects.push(effect);
		// }
		else if (getType(lines[i]) === "PAL") {
			/* CHOOSE PALETTE (that's not default) */
			room[id].pal = getId(lines[i]);
		}
		else if (getType(lines[i]) === "NAME") {
			var name = lines[i].split(/\s(.+)/)[1];
			room[id].name = name;
			names.room.set( name, id);
		}
		i++;
	}
	return i;
}

function parsePalette(lines,i) { //todo this has to go first right now :(
	var id = getId(lines[i]);
	i++;
	var colors = [];
	var name = null;
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		var args = lines[i].split(" ");
		if(args[0] === "NAME") {
			name = lines[i].split(/\s(.+)/)[1];
		}
		else {
			var col = [];
			lines[i].split(",").forEach(function(i) {
				col.push(parseInt(i));
			});
			colors.push(col);
		}
		i++;
	}
	palette[id] = {
		id : id,
		name : name,
		colors : colors
	};
	return i;
}

function parseTile(lines, i) {
	var id = getId(lines[i]);
	var drwId = null;
	var name = null;

	i++;

	if (getType(lines[i]) === "DRW") { //load existing drawing
		drwId = getId(lines[i]);
		i++;
	}
	else {
		// store tile source
		drwId = "TIL_" + id;
		i = parseDrawingCore( lines, i, drwId );
	}

	//other properties
	var colorIndex = 1; // default palette color index is 1
	var isWall = null; // null indicates it can vary from room to room (original version)
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		if (getType(lines[i]) === "COL") {
			colorIndex = parseInt( getId(lines[i]) );
		}
		else if (getType(lines[i]) === "NAME") {
			/* NAME */
			name = lines[i].split(/\s(.+)/)[1];
			names.tile.set( name, id );
		}
		else if (getType(lines[i]) === "WAL") {
			var wallArg = getArg( lines[i], 1 );
			if( wallArg === "true" ) {
				isWall = true;
			}
			else if( wallArg === "false" ) {
				isWall = false;
			}
		}
		i++;
	}

	//tile data
	tile[id] = {
		id : id,
		drw : drwId, //drawing id
		col : colorIndex,
		animation : {
			isAnimated : (renderer.GetFrameCount(drwId) > 1),
			frameIndex : 0,
			frameCount : renderer.GetFrameCount(drwId)
		},
		name : name,
		isWall : isWall
	};

	return i;
}

function parseSprite(lines, i) {
	var id = getId(lines[i]);
	var drwId = null;
	var name = null;

	i++;

	if (getType(lines[i]) === "DRW") { //load existing drawing
		drwId = getId(lines[i]);
		i++;
	}
	else {
		// store sprite source
		drwId = "SPR_" + id;
		i = parseDrawingCore( lines, i, drwId );
	}

	//other properties
	var colorIndex = 2; //default palette color index is 2
	var dialogId = null;
	var startingInventory = {};
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		if (getType(lines[i]) === "COL") {
			/* COLOR OFFSET INDEX */
			colorIndex = parseInt( getId(lines[i]) );
		}
		else if (getType(lines[i]) === "POS") {
			/* STARTING POSITION */
			var posArgs = lines[i].split(" ");
			var roomId = posArgs[1];
			var coordArgs = posArgs[2].split(",");
			spriteStartLocations[id] = {
				room : roomId,
				x : parseInt(coordArgs[0]),
				y : parseInt(coordArgs[1])
			};
		}
		else if(getType(lines[i]) === "DLG") {
			dialogId = getId(lines[i]);
		}
		else if (getType(lines[i]) === "NAME") {
			/* NAME */
			name = lines[i].split(/\s(.+)/)[1];
			names.sprite.set( name, id );
		}
		else if (getType(lines[i]) === "ITM") {
			/* ITEM STARTING INVENTORY */
			var itemId = getId(lines[i]);
			var itemCount = parseFloat( getArg(lines[i], 2) );
			startingInventory[itemId] = itemCount;
		}
		i++;
	}

	//sprite data
	sprite[id] = {
		id : id,
		drw : drwId, //drawing id
		col : colorIndex,
		dlg : dialogId,
		room : null, //default location is "offstage"
		x : -1,
		y : -1,
		walkingPath : [], //tile by tile movement path (isn't saved)
		animation : {
			isAnimated : (renderer.GetFrameCount(drwId) > 1),
			frameIndex : 0,
			frameCount : renderer.GetFrameCount(drwId)
		},
		inventory : startingInventory,
		name : name
	};
	return i;
}

function parseItem(lines, i) {
	var id = getId(lines[i]);
	var drwId = null;
	var name = null;

	i++;

	if (getType(lines[i]) === "DRW") { //load existing drawing
		drwId = getId(lines[i]);
		i++;
	}
	else {
		// store item source
		drwId = "ITM_" + id; // these prefixes are maybe a terrible way to differentiate drawing tyepes :/
		i = parseDrawingCore( lines, i, drwId );
	}

	//other properties
	var colorIndex = 2; //default palette color index is 2
	var dialogId = null;
	while (i < lines.length && lines[i].length > 0) { //look for empty line
		if (getType(lines[i]) === "COL") {
			/* COLOR OFFSET INDEX */
			colorIndex = parseInt( getArg( lines[i], 1 ) );
		}
		// else if (getType(lines[i]) === "POS") {
		// 	/* STARTING POSITION */
		// 	var posArgs = lines[i].split(" ");
		// 	var roomId = posArgs[1];
		// 	var coordArgs = posArgs[2].split(",");
		// 	spriteStartLocations[id] = {
		// 		room : roomId,
		// 		x : parseInt(coordArgs[0]),
		// 		y : parseInt(coordArgs[1])
		// 	};
		// }
		else if(getType(lines[i]) === "DLG") {
			dialogId = getId(lines[i]);
		}
		else if (getType(lines[i]) === "NAME") {
			/* NAME */
			name = lines[i].split(/\s(.+)/)[1];
			names.item.set( name, id );
		}
		i++;
	}

	//item data
	item[id] = {
		id : id,
		drw : drwId, //drawing id
		col : colorIndex,
		dlg : dialogId,
		// room : null, //default location is "offstage"
		// x : -1,
		// y : -1,
		animation : {
			isAnimated : (renderer.GetFrameCount(drwId) > 1),
			frameIndex : 0,
			frameCount : renderer.GetFrameCount(drwId)
		},
		name : name
	};

	// console.log("ITM " + id);
	// console.log(item[id]);

	return i;
}

function parseDrawing(lines, i) {
	// store drawing source
	var drwId = getId( lines[i] );
	return parseDrawingCore( lines, i, drwId );
}

function parseDrawingCore(lines, i, drwId) {
	var frameList = []; //init list of frames
	frameList.push( [] ); //init first frame
	var frameIndex = 0;
	var y = 0;
	while ( y < tilesize ) {
		var l = lines[i+y];
		var row = [];
		for (x = 0; x < tilesize; x++) {
			row.push( parseInt( l.charAt(x) ) );
		}
		frameList[frameIndex].push( row );
		y++;

		if (y === tilesize) {
			i = i + y;
			if ( lines[i] != undefined && lines[i].charAt(0) === ">" ) {
				// start next frame!
				frameList.push( [] );
				frameIndex++;
				//start the count over again for the next frame
				i++;
				y = 0;
			}
		}
	}

	renderer.SetImageSource(drwId, frameList);

	return i;
}

// TODO : vNext
// var ScriptType = {
// 	Script : 0,
// 	Dialogue : 1, // TODO : move everything to this spelling?
// 	Ending : 2,
// };

function parseScript(lines, i, objectStore) {
	// TODO : vNext
	// if (scriptType === undefined || scriptType === null) {
	// 	scriptType = ScriptType.Script;
	// }

	var id = getId(lines[i]);
	i++;

	var results = scriptUtils.ReadDialogScript(lines,i);

	// TODO : vNext
	// script[id] = {
	// 	source: results.script,
	// 	type: scriptType,
	// };

	objectStore[id] = results.script;

	i = results.index;

	return i;
}

function parseDialog(lines, i) {
	return parseScript(lines, i, dialog);
}

function parseEnding(lines, i) {
	return parseScript(lines, i, ending);
}

function parseVariable(lines, i) {
	var id = getId(lines[i]);
	i++;
	var value = lines[i];
	i++;
	variable[id] = value;
	return i;
}

function parseFontName(lines, i) {
	fontName = getArg(lines[i], 1);
	i++;
	return i;
}

function parseTextDirection(lines, i) {
	textDirection = getArg(lines[i], 1);
	i++;
	return i;
}

function parseFontData(lines, i) {
	// NOTE : we're not doing the actual parsing here --
	// just grabbing the block of text that represents the font
	// and giving it to the font manager to use later

	var localFontName = getId(lines[i]);
	var localFontData = lines[i];
	i++;

	while (i < lines.length && lines[i] != "") {
		localFontData += "\n" + lines[i];
		i++;
	}

	var localFontFilename = localFontName + fontManager.GetExtension();
	fontManager.AddResource( localFontFilename, localFontData );

	return i;
}

function parseFlag(lines, i) {
	var id = getId(lines[i]);
	var valStr = lines[i].split(" ")[2];
	flags[id] = parseInt( valStr );
	i++;
	return i;
}

function drawTile(img,x,y,context) {
	if (!context) { //optional pass in context; otherwise, use default
		context = ctx;
	}
	context.putImageData(img,x*tilesize*scale,y*tilesize*scale);
}

function drawSprite(img,x,y,context) { //this may differ later (or not haha)
	drawTile(img,x,y,context);
}

function drawItem(img,x,y,context) {
	drawTile(img,x,y,context); //TODO these methods are dumb and repetitive
}

// var debugLastRoomDrawn = "0";

function drawRoom(room,context,frameIndex) { // context & frameIndex are optional
	if (!context) { //optional pass in context; otherwise, use default (ok this is REAL hacky isn't it)
		context = ctx;
	}

	// if (room.id != debugLastRoomDrawn) {
	// 	debugLastRoomDrawn = room.id;
	// 	console.log("DRAW ROOM " + debugLastRoomDrawn);
	// }

	//clear screen
	context.fillStyle = "rgb(" + getPal(room.pal)[0][0] + "," + getPal(room.pal)[0][1] + "," + getPal(room.pal)[0][2] + ")";
	context.fillRect(0,0,canvas.width,canvas.height);

	//draw tiles
	for (i in room.tilemap) {
		for (j in room.tilemap[i]) {
			var id = room.tilemap[i][j];
			if (id != "0") {
				//console.log(id);
				if (tile[id] == null) { // hack-around to avoid corrupting files (not a solution though!)
					id = "0";
					room.tilemap[i][j] = id;
				}
				else {
					// console.log(id);
					drawTile( getTileImage(tile[id],getRoomPal(room.id),frameIndex), j, i, context );
				}
			}
		}
	}

	//draw items
	for (var i = 0; i < room.items.length; i++) {
		var itm = room.items[i];
		drawItem( getItemImage(item[itm.id],getRoomPal(room.id),frameIndex), itm.x, itm.y, context );
	}

	//draw sprites
	for (id in sprite) {
		var spr = sprite[id];
		if (spr.room === room.id) {
			drawSprite( getSpriteImage(spr,getRoomPal(room.id),frameIndex), spr.x, spr.y, context );
		}
	}
}

// TODO : remove these get*Image methods
function getTileImage(t,palId,frameIndex) {
	return renderer.GetImage(t,palId,frameIndex);
}

function getSpriteImage(s,palId,frameIndex) {
	return renderer.GetImage(s,palId,frameIndex);
}

function getItemImage(itm,palId,frameIndex) {
	return renderer.GetImage(itm,palId,frameIndex);
}

function curPal() {
	return getRoomPal(curRoom);
}

function getRoomPal(roomId) {
	if (room[roomId].pal != null) {
		//a specific palette was chosen
		return room[roomId].pal;
	}
	else {
		if (roomId in palette) {
			//there is a palette matching the name of the room
			return roomId;
		}
		else {
			//use the default palette
			return "0";
		}
	}
	return "0";	
}

var isDialogMode = false;
var isNarrating = false;
var isEnding = false;
var dialogModule = new Dialog();
var dialogRenderer = dialogModule.CreateRenderer();
var dialogBuffer = dialogModule.CreateBuffer();
var fontManager = new FontManager();

function onExitDialog(scriptResult, dialogCallback) {
	isDialogMode = false;
	if (isNarrating) isNarrating = false;
	if (isDialogPreview) {
		isDialogPreview = false;
		if (onDialogPreviewEnd != null)
			onDialogPreviewEnd();
	}

	if (dialogCallback != undefined && dialogCallback != null) {
		dialogCallback(scriptResult);
	}
}

/*
TODO
- titles and endings should also take advantage of the script pre-compilation if possible??
- could there be a namespace collision?
- what about dialog NAMEs vs IDs?
- what about a special script block separate from DLG?
*/
function startNarrating(dialogStr,end) {
	console.log("NARRATE " + dialogStr);

	if(end === undefined) end = false;

	isNarrating = true;
	isEnding = end;
	startDialog(dialogStr);
}

function startItemDialog(itemId) {
	var dialogId = item[itemId].dlg;
	// console.log("START ITEM DIALOG " + dialogId);
	if(dialog[dialogId]){
		var dialogStr = dialog[dialogId];
		startDialog(dialogStr,dialogId);
	}
}

function startSpriteDialog(spriteId) {
	var spr = sprite[spriteId];
	var dialogId = spr.dlg ? spr.dlg : spriteId;
	// console.log("START SPRITE DIALOG " + dialogId);
	if(dialog[dialogId]){
		var dialogStr = dialog[dialogId];
		startDialog(dialogStr,dialogId);
	}
}

function startDialog(dialogStr,scriptId,dialogCallback) {
	// console.log("START DIALOG ");
	if(dialogStr.length <= 0) {
		// console.log("ON EXIT DIALOG -- startDialog 1");
		onExitDialog(dialogCallback);
		return;
	}

	isDialogMode = true;

	dialogRenderer.Reset();
	dialogRenderer.SetCentered( isNarrating /*centered*/ );
	dialogBuffer.Reset();
	scriptInterpreter.SetDialogBuffer( dialogBuffer );

	var onScriptEnd = function(scriptResult) {
		dialogBuffer.OnDialogEnd(function() {
			onExitDialog(scriptResult, dialogCallback);
		});
	};

	if(scriptId === undefined) {
		scriptInterpreter.Interpret( dialogStr, onScriptEnd );
	}
	else {
		if( !scriptInterpreter.HasScript(scriptId) ) {
			scriptInterpreter.Compile( scriptId, dialogStr );
		}
		scriptInterpreter.DebugVisualizeScriptTree(scriptId);
		scriptInterpreter.Run( scriptId, onScriptEnd );
	}

}

var isDialogPreview = false;
function startPreviewDialog(script, onScriptEnd) {
	isNarrating = true;

	isDialogMode = true;

	isDialogPreview = true;

	dialogRenderer.Reset();
	dialogRenderer.SetCentered( true );
	dialogBuffer.Reset();
	scriptInterpreter.SetDialogBuffer( dialogBuffer );

	onDialogPreviewEnd = onScriptEnd;

	scriptInterpreter.Eval( script, null );
}

/* NEW SCRIPT STUFF */
var scriptModule = new Script();
var scriptInterpreter = scriptModule.CreateInterpreter();
var scriptUtils = scriptModule.CreateUtils(); // TODO: move to editor.js?
// scriptInterpreter.SetDialogBuffer( dialogBuffer );
</script>

<!-- store default font in separate script tag for back compat-->
<script type="bitsyFontData" id="ascii_small">
FONT ascii_small
SIZE 6 8
CHAR 0
000000
000000
000000
000000
000000
000000
000000
000000
CHAR 1
001110
010001
011011
010001
010101
010001
001110
000000
CHAR 2
001110
011111
010101
011111
010001
011111
001110
000000
CHAR 3
000000
001010
011111
011111
011111
001110
000100
000000
CHAR 4
000000
000000
001010
001110
001110
000100
000000
000000
CHAR 5
000100
001110
001110
000100
011111
011111
000100
000000
CHAR 6
000000
000100
001110
011111
011111
000100
001110
000000
CHAR 7
000000
000000
000000
001100
001100
000000
000000
000000
CHAR 8
111111
111111
111111
110011
110011
111111
111111
111111
CHAR 9
000000
000000
011110
010010
010010
011110
000000
000000
CHAR 10
111111
111111
100001
101101
101101
100001
111111
111111
CHAR 11
000000
000111
000011
001101
010010
010010
001100
000000
CHAR 12
001110
010001
010001
001110
000100
001110
000100
000000
CHAR 13
000100
000110
000101
000100
001100
011100
011000
000000
CHAR 14
000011
001101
001011
001101
001011
011011
011000
000000
CHAR 15
000000
010101
001110
011011
001110
010101
000000
000000
CHAR 16
001000
001100
001110
001111
001110
001100
001000
000000
CHAR 17
000010
000110
001110
011110
001110
000110
000010
000000
CHAR 18
000100
001110
011111
000100
011111
001110
000100
000000
CHAR 19
001010
001010
001010
001010
001010
000000
001010
000000
CHAR 20
001111
010101
010101
001101
000101
000101
000101
000000
CHAR 21
001110
010001
001100
001010
000110
010001
001110
000000
CHAR 22
000000
000000
000000
000000
000000
011110
011110
000000
CHAR 23
000100
001110
011111
000100
011111
001110
000100
001110
CHAR 24
000100
001110
011111
000100
000100
000100
000100
000000
CHAR 25
000100
000100
000100
000100
011111
001110
000100
000000
CHAR 26
000000
000100
000110
011111
000110
000100
000000
000000
CHAR 27
000000
000100
001100
011111
001100
000100
000000
000000
CHAR 28
000000
000000
000000
010000
010000
010000
011111
000000
CHAR 29
000000
001010
001010
011111
001010
001010
000000
000000
CHAR 30
000100
000100
001110
001110
011111
011111
000000
000000
CHAR 31
011111
011111
001110
001110
000100
000100
000000
000000
CHAR 32
000000
000000
000000
000000
000000
000000
000000
000000
CHAR 33
000100
001110
001110
000100
000100
000000
000100
000000
CHAR 34
011011
011011
010010
000000
000000
000000
000000
000000
CHAR 35
000000
001010
011111
001010
001010
011111
001010
000000
CHAR 36
001000
001110
010000
001100
000010
011100
000100
000000
CHAR 37
011001
011001
000010
000100
001000
010011
010011
000000
CHAR 38
001000
010100
010100
001000
010101
010010
001101
000000
CHAR 39
001100
001100
001000
000000
000000
000000
000000
000000
CHAR 40
000100
001000
001000
001000
001000
001000
000100
000000
CHAR 41
001000
000100
000100
000100
000100
000100
001000
000000
CHAR 42
000000
001010
001110
011111
001110
001010
000000
000000
CHAR 43
000000
000100
000100
011111
000100
000100
000000
000000
CHAR 44
000000
000000
000000
000000
000000
001100
001100
001000
CHAR 45
000000
000000
000000
011111
000000
000000
000000
000000
CHAR 46
000000
000000
000000
000000
000000
001100
001100
000000
CHAR 47
000000
000001
000010
000100
001000
010000
000000
000000
CHAR 48
001110
010001
010011
010101
011001
010001
001110
000000
CHAR 49
000100
001100
000100
000100
000100
000100
001110
000000
CHAR 50
001110
010001
000001
000110
001000
010000
011111
000000
CHAR 51
001110
010001
000001
001110
000001
010001
001110
000000
CHAR 52
000010
000110
001010
010010
011111
000010
000010
000000
CHAR 53
011111
010000
010000
011110
000001
010001
001110
000000
CHAR 54
000110
001000
010000
011110
010001
010001
001110
000000
CHAR 55
011111
000001
000010
000100
001000
001000
001000
000000
CHAR 56
001110
010001
010001
001110
010001
010001
001110
000000
CHAR 57
001110
010001
010001
001111
000001
000010
001100
000000
CHAR 58
000000
000000
001100
001100
000000
001100
001100
000000
CHAR 59
000000
000000
001100
001100
000000
001100
001100
001000
CHAR 60
000010
000100
001000
010000
001000
000100
000010
000000
CHAR 61
000000
000000
011111
000000
000000
011111
000000
000000
CHAR 62
001000
000100
000010
000001
000010
000100
001000
000000
CHAR 63
001110
010001
000001
000110
000100
000000
000100
000000
CHAR 64
001110
010001
010111
010101
010111
010000
001110
000000
CHAR 65
001110
010001
010001
010001
011111
010001
010001
000000
CHAR 66
011110
010001
010001
011110
010001
010001
011110
000000
CHAR 67
001110
010001
010000
010000
010000
010001
001110
000000
CHAR 68
011110
010001
010001
010001
010001
010001
011110
000000
CHAR 69
011111
010000
010000
011110
010000
010000
011111
000000
CHAR 70
011111
010000
010000
011110
010000
010000
010000
000000
CHAR 71
001110
010001
010000
010111
010001
010001
001111
000000
CHAR 72
010001
010001
010001
011111
010001
010001
010001
000000
CHAR 73
001110
000100
000100
000100
000100
000100
001110
000000
CHAR 74
000001
000001
000001
000001
010001
010001
001110
000000
CHAR 75
010001
010010
010100
011000
010100
010010
010001
000000
CHAR 76
010000
010000
010000
010000
010000
010000
011111
000000
CHAR 77
010001
011011
010101
010001
010001
010001
010001
000000
CHAR 78
010001
011001
010101
010011
010001
010001
010001
000000
CHAR 79
001110
010001
010001
010001
010001
010001
001110
000000
CHAR 80
011110
010001
010001
011110
010000
010000
010000
000000
CHAR 81
001110
010001
010001
010001
010101
010010
001101
000000
CHAR 82
011110
010001
010001
011110
010010
010001
010001
000000
CHAR 83
001110
010001
010000
001110
000001
010001
001110
000000
CHAR 84
011111
000100
000100
000100
000100
000100
000100
000000
CHAR 85
010001
010001
010001
010001
010001
010001
001110
000000
CHAR 86
010001
010001
010001
010001
010001
001010
000100
000000
CHAR 87
010001
010001
010101
010101
010101
010101
001010
000000
CHAR 88
010001
010001
001010
000100
001010
010001
010001
000000
CHAR 89
010001
010001
010001
001010
000100
000100
000100
000000
CHAR 90
011110
000010
000100
001000
010000
010000
011110
000000
CHAR 91
001110
001000
001000
001000
001000
001000
001110
000000
CHAR 92
000000
010000
001000
000100
000010
000001
000000
000000
CHAR 93
001110
000010
000010
000010
000010
000010
001110
000000
CHAR 94
000100
001010
010001
000000
000000
000000
000000
000000
CHAR 95
000000
000000
000000
000000
000000
000000
000000
111111
CHAR 96
001100
001100
000100
000000
000000
000000
000000
000000
CHAR 97
000000
000000
001110
000001
001111
010001
001111
000000
CHAR 98
010000
010000
011110
010001
010001
010001
011110
000000
CHAR 99
000000
000000
001110
010001
010000
010001
001110
000000
CHAR 100
000001
000001
001111
010001
010001
010001
001111
000000
CHAR 101
000000
000000
001110
010001
011110
010000
001110
000000
CHAR 102
000110
001000
001000
011110
001000
001000
001000
000000
CHAR 103
000000
000000
001111
010001
010001
001111
000001
001110
CHAR 104
010000
010000
011100
010010
010010
010010
010010
000000
CHAR 105
000100
000000
000100
000100
000100
000100
000110
000000
CHAR 106
000010
000000
000110
000010
000010
000010
010010
001100
CHAR 107
010000
010000
010010
010100
011000
010100
010010
000000
CHAR 108
000100
000100
000100
000100
000100
000100
000110
000000
CHAR 109
000000
000000
011010
010101
010101
010001
010001
000000
CHAR 110
000000
000000
011100
010010
010010
010010
010010
000000
CHAR 111
000000
000000
001110
010001
010001
010001
001110
000000
CHAR 112
000000
000000
011110
010001
010001
010001
011110
010000
CHAR 113
000000
000000
001111
010001
010001
010001
001111
000001
CHAR 114
000000
000000
010110
001001
001000
001000
011100
000000
CHAR 115
000000
000000
001110
010000
001110
000001
001110
000000
CHAR 116
000000
001000
011110
001000
001000
001010
000100
000000
CHAR 117
000000
000000
010010
010010
010010
010110
001010
000000
CHAR 118
000000
000000
010001
010001
010001
001010
000100
000000
CHAR 119
000000
000000
010001
010001
010101
011111
001010
000000
CHAR 120
000000
000000
010010
010010
001100
010010
010010
000000
CHAR 121
000000
000000
010010
010010
010010
001110
000100
011000
CHAR 122
000000
000000
011110
000010
001100
010000
011110
000000
CHAR 123
000110
001000
001000
011000
001000
001000
000110
000000
CHAR 124
000100
000100
000100
000100
000100
000100
000100
000100
CHAR 125
001100
000010
000010
000011
000010
000010
001100
000000
CHAR 126
001010
010100
000000
000000
000000
000000
000000
000000
CHAR 127
000100
001110
011011
010001
010001
011111
000000
000000
CHAR 128
001110
010001
010000
010000
010001
001110
000100
001100
CHAR 129
010010
000000
010010
010010
010010
010110
001010
000000
CHAR 130
000011
000000
001110
010001
011110
010000
001110
000000
CHAR 131
001110
000000
001110
000001
001111
010001
001111
000000
CHAR 132
001010
000000
001110
000001
001111
010001
001111
000000
CHAR 133
001100
000000
001110
000001
001111
010001
001111
000000
CHAR 134
001110
001010
001110
000001
001111
010001
001111
000000
CHAR 135
000000
001110
010001
010000
010001
001110
000100
001100
CHAR 136
001110
000000
001110
010001
011110
010000
001110
000000
CHAR 137
001010
000000
001110
010001
011110
010000
001110
000000
CHAR 138
001100
000000
001110
010001
011110
010000
001110
000000
CHAR 139
001010
000000
000100
000100
000100
000100
000110
000000
CHAR 140
000100
001010
000000
000100
000100
000100
000110
000000
CHAR 141
001000
000000
000100
000100
000100
000100
000110
000000
CHAR 142
001010
000000
000100
001010
010001
011111
010001
000000
CHAR 143
001110
001010
001110
011011
010001
011111
010001
000000
CHAR 144
000011
000000
011111
010000
011110
010000
011111
000000
CHAR 145
000000
000000
011110
000101
011111
010100
001111
000000
CHAR 146
001111
010100
010100
011111
010100
010100
010111
000000
CHAR 147
001110
000000
001100
010010
010010
010010
001100
000000
CHAR 148
001010
000000
001100
010010
010010
010010
001100
000000
CHAR 149
011000
000000
001100
010010
010010
010010
001100
000000
CHAR 150
001110
000000
010010
010010
010010
010110
001010
000000
CHAR 151
011000
000000
010010
010010
010010
010110
001010
000000
CHAR 152
001010
000000
010010
010010
010010
001110
000100
011000
CHAR 153
010010
001100
010010
010010
010010
010010
001100
000000
CHAR 154
001010
000000
010010
010010
010010
010010
001100
000000
CHAR 155
000000
000100
001110
010000
010000
001110
000100
000000
CHAR 156
000110
001001
001000
011110
001000
001001
010111
000000
CHAR 157
010001
001010
000100
011111
000100
011111
000100
000000
CHAR 158
011000
010100
010100
011010
010111
010010
010010
000000
CHAR 159
000010
000101
000100
001110
000100
000100
010100
001000
CHAR 160
000110
000000
001110
000001
001111
010001
001111
000000
CHAR 161
000110
000000
000100
000100
000100
000100
000110
000000
CHAR 162
000110
000000
001100
010010
010010
010010
001100
000000
CHAR 163
000110
000000
010010
010010
010010
010110
001010
000000
CHAR 164
001010
010100
000000
011100
010010
010010
010010
000000
CHAR 165
001010
010100
000000
010010
011010
010110
010010
000000
CHAR 166
001110
000001
001111
010001
001111
000000
001111
000000
CHAR 167
001100
010010
010010
010010
001100
000000
011110
000000
CHAR 168
000100
000000
000100
001100
010000
010001
001110
000000
CHAR 169
000000
000000
011111
010000
010000
010000
000000
000000
CHAR 170
000000
000000
111111
000001
000001
000000
000000
000000
CHAR 171
010000
010010
010100
001110
010001
000010
000111
000000
CHAR 172
010000
010010
010100
001011
010101
000111
000001
000000
CHAR 173
000100
000000
000100
000100
001110
001110
000100
000000
CHAR 174
000000
000000
001001
010010
001001
000000
000000
000000
CHAR 175
000000
000000
010010
001001
010010
000000
000000
000000
CHAR 176
010101
000000
101010
000000
010101
000000
101010
000000
CHAR 177
010101
101010
010101
101010
010101
101010
010101
101010
CHAR 178
101010
111111
010101
111111
101010
111111
010101
111111
CHAR 179
000100
000100
000100
000100
000100
000100
000100
000100
CHAR 180
000100
000100
000100
111100
000100
000100
000100
000100
CHAR 181
000000
000000
010010
010010
010010
011100
010000
010000
CHAR 182
010100
010100
010100
110100
010100
010100
010100
010100
CHAR 183
000000
000000
000000
111100
010100
010100
010100
010100
CHAR 184
000000
111100
000100
111100
000100
000100
000100
000100
CHAR 185
010100
110100
000100
110100
010100
010100
010100
010100
CHAR 186
010100
010100
010100
010100
010100
010100
010100
010100
CHAR 187
000000
111100
000100
110100
010100
010100
010100
010100
CHAR 188
010100
110100
000100
111100
000000
000000
000000
000000
CHAR 189
010100
010100
010100
111100
000000
000000
000000
000000
CHAR 190
000100
111100
000100
111100
000000
000000
000000
000000
CHAR 191
000000
000000
000000
111100
000100
000100
000100
000100
CHAR 192
000100
000100
000100
000111
000000
000000
000000
000000
CHAR 193
000100
000100
000100
111111
000000
000000
000000
000000
CHAR 194
000000
000000
000000
111111
000100
000100
000100
000100
CHAR 195
000100
000100
000100
000111
000100
000100
000100
000100
CHAR 196
000000
000000
000000
111111
000000
000000
000000
000000
CHAR 197
000100
000100
000100
111111
000100
000100
000100
000100
CHAR 198
000100
000111
000100
000111
000100
000100
000100
000100
CHAR 199
010100
010100
010100
010111
010100
010100
010100
010100
CHAR 200
010100
010111
010000
011111
000000
000000
000000
000000
CHAR 201
000000
011111
010000
010111
010100
010100
010100
010100
CHAR 202
010100
110111
000000
111111
000000
000000
000000
000000
CHAR 203
000000
111111
000000
110111
010100
010100
010100
010100
CHAR 204
010100
010111
010000
010111
010100
010100
010100
010100
CHAR 205
000000
111111
000000
111111
000000
000000
000000
000000
CHAR 206
010100
110111
000000
110111
010100
010100
010100
010100
CHAR 207
000100
111111
000000
111111
000000
000000
000000
000000
CHAR 208
010100
010100
010100
111111
000000
000000
000000
000000
CHAR 209
000000
111111
000000
111111
000100
000100
000100
000100
CHAR 210
000000
000000
000000
111111
010100
010100
010100
010100
CHAR 211
010100
010100
010100
011111
000000
000000
000000
000000
CHAR 212
000000
000000
000000
000000
000000
000000
000000
111111
CHAR 213
000000
000000
000000
000000
000000
000000
111111
111111
CHAR 214
000000
000000
000000
000000
000000
111111
111111
111111
CHAR 215
000000
000000
000000
000000
111111
111111
111111
111111
CHAR 216
000000
000000
000000
111111
111111
111111
111111
111111
CHAR 217
000000
000000
111111
111111
111111
111111
111111
111111
CHAR 218
000000
111111
111111
111111
111111
111111
111111
111111
CHAR 219
111111
111111
111111
111111
111111
111111
111111
111111
CHAR 220
100000
100000
100000
100000
100000
100000
100000
100000
CHAR 221
110000
110000
110000
110000
110000
110000
110000
110000
CHAR 222
111000
111000
111000
111000
111000
111000
111000
111000
CHAR 223
111100
111100
111100
111100
111100
111100
111100
111100
CHAR 224
111110
111110
111110
111110
111110
111110
111110
111110
CHAR 225
000000
011100
010010
011100
010010
010010
011100
010000
CHAR 226
011110
010010
010000
010000
010000
010000
010000
000000
CHAR 227
000000
011111
001010
001010
001010
001010
001010
000000
CHAR 228
001010
000000
001110
000001
001111
010001
001111
000000
CHAR 229
000000
000000
001111
010010
010010
001100
000000
000000
CHAR 230
000000
000000
010010
010010
010010
011100
010000
010000
CHAR 231
000000
000000
001010
010100
000100
000100
000100
000000
CHAR 232
001110
000100
001110
010001
001110
000100
001110
000000
CHAR 233
001100
010010
010010
011110
010010
010010
001100
000000
CHAR 234
000000
001110
010001
010001
001010
001010
011011
000000
CHAR 235
001100
010000
001000
000100
001110
010010
001100
000000
CHAR 236
000000
000000
001010
010101
010101
001010
000000
000000
CHAR 237
000000
000100
001110
010101
010101
001110
000100
000000
CHAR 238
000000
001110
010000
011110
010000
001110
000000
000000
CHAR 239
000000
001100
010010
010010
010010
010010
000000
000000
CHAR 240
000000
011110
000000
011110
000000
011110
000000
000000
CHAR 241
000000
000100
001110
000100
000000
001110
000000
000000
CHAR 242
010000
001100
000010
001100
010000
000000
011110
000000
CHAR 243
000000
000000
111111
111000
100110
100001
100000
111111
CHAR 244
000000
000000
111111
000111
011001
100001
000001
111111
CHAR 245
000100
000100
000100
000100
000100
010100
001000
000000
CHAR 246
001010
000000
001110
010001
010001
010001
001110
000000
CHAR 247
111110
111110
111110
111110
111110
111110
111110
111110
CHAR 248
111100
111100
111100
111100
111100
111100
111100
111100
CHAR 249
111000
111000
111000
111000
111000
111000
111000
111000
CHAR 250
110000
110000
110000
110000
110000
110000
110000
110000
CHAR 251
100000
100000
100000
100000
100000
100000
100000
100000
CHAR 252
001010
000000
010010
010010
010010
010110
001010
000000
CHAR 253
011000
000100
001000
011100
000000
000000
000000
000000
CHAR 254
000000
000000
000000
011110
110010
110011
111110
001111
CHAR 255
010010
111111
010010
010010
111111
010010
000000
000000
</script>

</head>


<!-- DOCUMENT BODY -->
<body onload='startExportedGame()'>
	<!-- GAME CANVAS -->
	<canvas id='game'></canvas>
</body>


</html>